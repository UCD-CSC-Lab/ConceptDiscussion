{"version":3,"sources":["HighlightModeSelector.js","newdirected/Video_info.js","components/BarField.js","components/AlertDialog.js","components/homepage3.png","components/AutoSuggestions.js","components/SearchField.js","newdirected/Node.js","newdirected/Link.js","newdirected/PopoverNode.js","newdirected/Masker.js","newdirected/Graph.js","components/MarkerIcon.js","components/VideoSequence.js","components/CardinalPath.js","components/ConceptSequence.js","components/Legend.js","components/WordCloud.js","components/RelatedVideosPanel.js","components/youtube.png","components/ConceptDetailPanel.js","components/MapApprovPanel.js","components/Notification.js","components/Editor.js","components/Card.js","components/Cards.js","components/LearningMapFrame.js","components/LinearIndeterminate.js","components/CreatingField.js","components/MenuDrawer.js","index.js"],"names":["React","Component","styles","theme","area","margin","paper","padding","container","display","flexWrap","text","fontSize","Video_info","props","IconButton","color","onClick","this","CloseDrawer","Paper","elevation","style","Typography","variant","component","videos_info","vid","transcript","root","flexGrow","bar","background","APPName","marginLeft","fontFamily","menuButton","marginRight","BarField","HomeOnClick","bind","MenuOnClick","console","log","SetProgress","tmp","fetch","then","res","json","myJson","SetSearchHistory","SetMenuOpen","AppBar","position","Toolbar","homeButton","title","AlertDialog","RenderButtons","CheckExistedMap","CreateNewMap","Go_CheckExistedMap","keyword","Go_CreateNewMap","alertCondition","Button","HandleAlertClose","message","Dialog","open","alertOpen","onClose","DialogTitle","id","DialogContent","DialogContentText","DialogActions","listStyleType","input","backgroundColor","suggestionsContainerOpen","zIndex","left","right","suggestion","suggestionsList","getSuggestions","o","tmpthis","inputValue","value","trim","toLowerCase","inputLength","length","historyWords","filter","option","slice","getSuggestionValue","renderInputComponent","inputProps","Input","renderSuggestion","MenuItem","renderSuggestionsContainer","options","square","containerProps","children","AutoSuggestions","state","suggestions","onChange","onSuggestionsFetchRequested","onSuggestionsClearRequested","event","newValue","TextChange","setState","placeholder","root1","height","width","justifyContent","backgroundImage","HomePageImg","backgroundRepeat","backgroundSize","backgroundPosition","root2","paddingTop","paddingBottom","chip","img","opacity","SearchField","chipdata","SearchHistory","SearchKeyword","handleClick","TagClick","SetSearchKeyword","e","includes","size","cursor","FadeTextStyle","Path_ConceptIndex","HighlightNodes","index","fill","fillOpacity","firebase","apps","app","initializeApp","databaseURL","Node","anchorEl","studentslist","handleClose","handleHover","NodeRadius","handleMouseOut","d3Node","d3","ReactDOM","findDOMNode","datum","data","database","ref","on","snapshot","studentlist","forEach","snap","val","replace","push","call","updateNode","SetPath_ConceptIndex","select","transition","duration","attr","i","name","SetHoverConceptIndex","SetHighlightNodes","cnt","Range","domain","range","ScaleDotSize","highlight","radius","r","ClearHoverConcept","NodeOpacityValue","NodeColor","HoverConceptIndex","DirectNodes","updated","className","onMouseOver","onMouseOut","count","ConceptRange","Object","assign","HighlightNodeText","textShadow","dx","dy","Link","d3Link","enterLink","d","prerequisite","updateLink","DoHighlight","loc","d_neighbors","source","target","similarity","circle","ConceptBigCircle","Sentcircle","conceptlabel","textAnchor","fontStyle","mask","Masker","overflowX","overflowY","Div","float","axisLeft","selection","x","y","updateGraph","selectAll","zoom","scaleExtent","transform","k","Graph","d3Graph","force","concept_relationship","nodes","strength","links","distance","ans","BFSinput","parseInt","CheckDirectNodes","highlight_nodes","data_db","contents","map","node","src","group","HighlightConceptIndex","BigCircleIndex","SetHightlightWord","err","link","viewBox","markerWidth","markerHeight","refX","refY","orient","xoverflow","stroke","MarkerIcon","undefined","cx","cy","strokeWidth","alignmentBaseline","flexDirection","ItemContainer","ImageContainer","rowContainer","videoImage","timeLabel","VideoSequence","handleHoverOut","SetHoverVideoIndex","score","sentmin","SentRange","interpolate","str","indexOf","video_sequences","ShowVideoItems","SentimentColor","video_info","userFeedbackScore","paddingLeft","href","rx","ry","TimeProcess","path","strokeOpacity","line","curve","CardinalPath","PathHovered","PathHover","onMouseEnter","onMouseLeave","markerEnd","conceptSeqGraph","marginTop","label","ylocation","calculatePath","dependencies","c_sequences","side","result","xloc","xloc_mid","keys","key","index2","num1","num2","points","ConceptSequence","number","SetBigCircleIndex","c_index","concept_sequences","conceptnode","concepts","ClickedNode","HighlightConcepts","pathsdata","paths","cycle_pathsdata","RemovedCycleLinks","cycle_paths","top","heading","constainer","ColorLegend","VideoNodesText","heading2","fontWeight","TermCountRange","Legend","scaleX","ConceptNodesCircle","VideoNodesCircle","strokeDasharray","ExpansionPanel","defaultExpanded","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","toFixed","tmpList","videos_id","Math","min","max","x1","x2","y1","y2","offset","stopColor","MarkerIndex","videotooptip","maxWidth","videotooptip_label1","lineHeight","videotooptip_label2","maxHeight","overflow","textOverflow","whiteSpace","RelatedVideosPanel","tooltip_open","Location","VideoRadius","videoClick","YoutubeIconClick","RenderNumMarker","prevProps","numNodes","angle","PI","cos","sin","num","vlist","center","LikesList","likeCount","ShowVideoLinks","Hightlight","Tooltip","enterTouchDelay","placement","xlinkHref","HoverVideoIndex","patternContentUnits","preserveAspectRatio","full","CheckMarkerIndex","ShowMarkerIcons","BigCircleRadius","rootTitle","textAlign","containerTitle","OuterContainer","paper2","paper2_UpperContainer","paper2_BelowContainer","container3_1","container3_2","CloseBotton","content","ConceptDetailPanel","CloseOnClick","window","innerHeight","concept_index","HighlightConceptTextIndex","innerWidth","MapApprovPanel","ApproveClicked","SetNewJson","SetVisJson","forceUpdate","search_info","tmpList2","reduce","a","b","SetMapConsult","MapConsult","NewJson","Notification","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","mydatabase","plugin_command","buttonClass","innerHTML","add","core","targetElement","context","customCommand_2","targetButton","active","element","test","nodeName","util","addClass","removeClass","action","hasClass","nodeChange","newNode","createElement","Editor","handleChange","onInput","save","getSunEditorInstance","createRef","set","word","newcontent","current","setContents","focusEdge","sunEditor","prevState","prevKey","getContents","SetNewCardContent","getText","setOptions","plugins","buttonList","callBackSave","onFocus","onBlur","Card","handleEdit","handleSave","editing","enabled","onEdit","disabled","onSave","disable","setDefaultStyle","onDelete","handleCancel","Cards","cards","handleDelete","addCard","cardId","c","cd","newCardContent","card","bottom","LeftField","LearningMapFrame","PopoverIndexes","Hightlight_word","SetPopoverIndexes","HightlightWord","method","VideoSequence_ConceptInfo","OpenDrawer","withStyles","classes","LinearProgress","buttonContainer","button","CreateMapField","secondsElapsed","minutesElapsed","NotFinish_Create","progressValue","interval","setInterval","secondtick","progresstick","clearInterval","align","chip2","DrawerName","hidden_list","MenuDrawer","drawer_switch","TagDelete","HandleClose","SetMenuClose","chips","Chip","clickable","Drawer","anchor","onKeyDown","ButtonClick","beforunload","userAgent","navigator","isOpera","myBrowser","clientY","ak","altKey","currentTarget","document","activeElement","App","MenuOpened","drawer","selectedVid","Progress","VisJson","progress","v","w","onbeforeunload","Set_NotFinishCreate","CreatingField","userSelect","fullScreen","render","getElementById"],"mappings":"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","file":"static/js/main.ed46d04c.chunk.js","sourcesContent":["import React from 'react';\nimport {RadioButton, RadioButtonGroup} from 'material-ui/RadioButton';\n\nclass HighlightModeSelector extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n  return(\n    <div>\n    <RadioButtonGroup name=\"choose\" defaultSelected=\"not_light\" onChange = {this.props.action}>\n    <RadioButton\n        value=\"1\"\n        label=\"mode1\"\n      />\n      <RadioButton\n        value=\"2\"\n        label=\"mode2\"\n      />\n      <RadioButton\n        value=\"3\"\n        label=\"mode3\"\n      />\n    </RadioButtonGroup>\n      </div>\n  );\n  }\n}\nexport default HighlightModeSelector;","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { PropTypes } from 'prop-types';\nimport * as d3 from \"d3\";\n\nconst styles = theme => ({\n    area: {\n      margin:10,\n    //   padding: 20,\n    //   overflow:auto\n    },\n    paper: {\n          padding: 10, //theme.spacing.unit * 2,\n          margin : 20,//theme.spacing.unit * 4,\n        },\n    container: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        },\n    text:{\n        margin:10,\n        padding:20,\n        fontSize:16,\n    }\n  });\n\nclass Video_info extends Component {\n    constructor(props) {\n        super(props);\n        // this.buttonClick = this.buttonClick.bind(this);\n    }\n    \n    componentDidMount() {\n    }\n    // buttonClick(vid,e){\n    //     console.log(\"click\",e,vid);\n    // }\n    \n    render() {\n        return ( \n            // <Typography className=\"node_info\"><a href=\"https://www.w3schools.com/html/\">Visit our HTML tutorial</a></Typography>\n            <div>\n                <IconButton color=\"inherit\" onClick={this.props.CloseDrawer} aria-label=\"Close\">\n                    <CloseIcon /> \n                </IconButton>\n                \n                <Paper  elevation={1} style={styles.paper}>\n                <div style={styles.container}>\n                        <Typography variant=\"headline\" component=\"h5\" >\n                            {this.props.videos_info[this.props.vid].transcript}\n                        </Typography>\n                </div>\n                    \n                </Paper>\n            </div>\n        );\n    }\n}\nexport default Video_info;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\n\r\nconst styles = ({\r\n    root: {\r\n        flexGrow: 1,\r\n      },\r\n      bar:{\r\n        background:\"#0088A8\",\r\n        // padding:2\r\n      },\r\n      APPName: {\r\n        flexGrow: 1,\r\n        marginLeft:10,\r\n        fontSize:20,\r\n        fontFamily:\"Cambria\"\r\n      },\r\n      menuButton: {\r\n        // marginLeft: 5,\r\n        marginRight: 1,\r\n\r\n      },\r\n      menuButton: {\r\n        // marginLeft: -5,\r\n        marginRight: 1,\r\n\r\n      },\r\n});\r\n\r\nclass BarField extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.state = {\r\n        //     chipdata:this.props.SearchHistory,\r\n        //     SearchKeyword : null,\r\n        // }\r\n        this.HomeOnClick = this.HomeOnClick.bind(this);\r\n        this.MenuOnClick = this.MenuOnClick.bind(this);\r\n    }\r\n    HomeOnClick(){\r\n        console.log(\"[click] HomePage\");\r\n        this.props.SetProgress(1);//this.setProgress(1,null);\r\n    }\r\n    MenuOnClick(){\r\n        // console.log(\"menu click\");\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/SearchHistory/')\r\n        .then(function (res) {\r\n        //    console.log(res.json());\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            // console.log(\"already\",myJson);\r\n            // tmp.setState({SearchHistory:myJson});\r\n            tmp.props.SetSearchHistory(myJson);\r\n            tmp.props.SetMenuOpen();\r\n            return myJson;\r\n        });\r\n        \r\n    }\r\n    render() {\r\n        // console.log(\"learingmap\",this.props);\r\n        return (\r\n            <div style={styles.root}>\r\n            <AppBar position=\"static\" style={styles.bar}>\r\n            <Toolbar>\r\n                <IconButton style={styles.menuButton} color=\"inherit\" aria-label=\"Menu\">\r\n                    <MenuIcon onClick={this.MenuOnClick}/>\r\n                </IconButton>\r\n                <IconButton style={styles.homeButton} color=\"inherit\" aria-label=\"Home\">\r\n                    <HomeIcon onClick={this.HomeOnClick}/>\r\n                </IconButton>\r\n                <Typography variant=\"title\" color=\"inherit\" style={styles.APPName}>\r\n                Learning Map\r\n                </Typography>\r\n                {/* <Button color=\"inherit\">Login</Button> */}\r\n            </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n        );\r\n    }\r\n    \r\n}\r\nexport default BarField;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nconst styles = ({\r\n    title:{\r\n        fontSize:150,\r\n    },\r\n  });\r\nclass AlertDialog extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.RenderButtons = this.RenderButtons.bind(this);\r\n        this.CheckExistedMap = this.CheckExistedMap.bind(this);\r\n        this.CreateNewMap = this.CreateNewMap.bind(this);\r\n        \r\n    }\r\n    CheckExistedMap(){\r\n        this.props.Go_CheckExistedMap(this.props.keyword);\r\n    }\r\n    CreateNewMap(){\r\n        this.props.Go_CreateNewMap(this.props.keyword);\r\n    }\r\n    \r\n\r\n    RenderButtons(){\r\n        if(this.props.alertCondition==\"null\"){\r\n            return(\r\n                <Button onClick={this.props.HandleAlertClose} color=\"primary\">\r\n                OK\r\n                </Button>\r\n            );\r\n        }\r\n        else if(this.props.alertCondition==\"exist\"){\r\n            return(\r\n                <div>\r\n                <Button onClick={this.CheckExistedMap.bind(this)} color=\"primary\">\r\n                OK\r\n                </Button>\r\n                <Button onClick={this.CreateNewMap.bind(this)} color=\"primary\">\r\n                No,Create a new one\r\n                </Button>\r\n                </div>\r\n            );\r\n        }\r\n        else if(this.props.alertCondition==\"notExist\"){\r\n            return(\r\n                <div>\r\n                <Button onClick={this.CreateNewMap.bind(this)} color=\"primary\">\r\n                    OK\r\n                </Button>\r\n                <Button onClick={this.props.HandleAlertClose} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        // console.log(this.props.keyword);\r\n        var title,message;\r\n        if(this.props.alertCondition==\"null\"){\r\n            title=\"Error\";\r\n            message = \"The query must have at least a keyword! \";\r\n        }\r\n        else if(this.props.alertCondition==\"exist\"){\r\n            title=\"Check the learning map already created?\";\r\n            message = \" '\"+this.props.keyword+\"' has already been searched before. You can check the learning map already created or create a new one.\";\r\n        }\r\n        else if(this.props.alertCondition==\"notExist\"){\r\n            title=\"Create a learning map?\";\r\n            message = \"Create a learning map will cost about 10~15 minutes, Are you sure you want to create a learning map? \"\r\n        }\r\n        return (\r\n        <div  style={styles.title}>\r\n            <Dialog\r\n            open={this.props.alertOpen}\r\n            onClose={this.props.HandleAlertClose}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n            >\r\n            <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText id=\"alert-dialog-description\">\r\n                {message}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            {this.RenderButtons()}\r\n                {/* <Button onClick={this.handleClose} color=\"primary\">\r\n                Disagree\r\n                </Button>\r\n                <Button onClick={this.handleClose} color=\"primary\" autoFocus>\r\n                Agree\r\n                </Button> */}\r\n            </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n        );\r\n  }\r\n}\r\nexport default AlertDialog;","export default __webpack_public_path__ + \"static/media/homepage3.d51a44ab.png\";","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { PropTypes } from 'prop-types';\nimport Autosuggest from 'react-autosuggest';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Downshift from 'downshift';\nimport Input from '@material-ui/core/Input';\nimport Typography from '@material-ui/core/Typography';\nconst styles = ({\n  paper:{\n    listStyleType: 'none',\n  },\n  input: {\n     \n    // margin: 10,\n    fontSize:20,\n  },\n  container: {\n    flexGrow: 1,\n    backgroundColor: 'white',\n    position: \"relative\",\n},\nsuggestionsContainerOpen: {\n    zIndex: 5,\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n},\nsuggestion: {\n    display: 'block',\n    position:  \"relative\",\n    fontSize:20,\n},\nsuggestionsList: {\n    position:  \"relative\",\n    margin: 0,\n    padding: 0,\n    listStyleType: 'none',\n    fontSize:20,\n},\n});\n  function getSuggestions(o,tmpthis){\n    const inputValue = o.value.trim().toLowerCase();\n    const inputLength = inputValue.length;\n  \n    return inputLength === 0 ? [] : tmpthis.props.historyWords.filter(option =>\n      option.toLowerCase().slice(0, inputLength) === inputValue\n    );\n  };\n  \n  // When suggestion is clicked, Autosuggest needs to populate the input\n  // based on the clicked suggestion. Teach Autosuggest how to calculate the\n  // input value for every given suggestion.\nfunction getSuggestionValue (suggestion){\n  return  suggestion;\n};\n  \n  function renderInputComponent  (inputProps){\n    // console.log(\"inputProps\",inputProps);\n   return(\n        <div >\n        <Input {...inputProps} style={styles.input} />\n        {/* <Input placeholder=\"Concept \" \n        style={styles.input} value={this.state.name} \n        // inputProps={{  'aria-label': 'Description',  } }    */}\n      </div>\n   );\n  };\n\n\n  function renderSuggestion (suggestion){\n    return(\n      <MenuItem\n      component=\"div\">\n      {suggestion}\n    </MenuItem>\n    );\n  };\n  function renderSuggestionsContainer(options ){\n    return(\n          <Paper style={styles.paper}\n          square\n          {...options.containerProps}\n          >\n          {options.children}\n          </Paper>\n    );\n \n  };\n  \n \n  class AutoSuggestions extends Component {\n    constructor(props) {\n      super(props);\n      \n      // Autosuggest is a controlled component.\n      // This means that you need to provide an input value\n      // and an onChange handler that updates this value (see below).\n      // Suggestions also need to be provided to the Autosuggest,\n      // and they are initially empty because the Autosuggest is closed.\n      this.state = {\n        value: '',\n        suggestions: []\n      };\n      this.onChange = this.onChange.bind(this);\n      this.onSuggestionsFetchRequested = this.onSuggestionsFetchRequested.bind(this);\n      this.onSuggestionsClearRequested = this.onSuggestionsClearRequested.bind(this);\n    }\n    \n    \n    onChange (event, { newValue })  {\n      this.props.TextChange(newValue);\n      this.setState({\n        value: newValue\n      });\n      \n    };\n\n  \n  \n    // Autosuggest will call this function every time you need to update suggestions.\n    // You already implemented this logic above, so just use it.\n    onSuggestionsFetchRequested( value ) {\n      this.setState({\n        suggestions: getSuggestions(value,this)\n      });\n    };\n  \n    // Autosuggest will call this function every time you need to clear suggestions.\n    onSuggestionsClearRequested() {\n      this.setState({\n        suggestions: []\n      });\n    };\n  \n    render() {\n      const { value, suggestions } = this.state;\n      // Autosuggest will pass through all these props to the input.\n      const inputProps = {\n        placeholder: 'Concept',\n        value,\n        onChange: this.onChange\n      };\n  \n      // Finally, render it!\n      return (\n        <div style={styles.paper}>\n        <Autosuggest\n        theme={{\n                    container: styles.container,\n                    suggestionsContainerOpen: styles.suggestionsContainerOpen,\n                    suggestionsList: styles.suggestionsList,\n                    suggestion: styles.suggestion,\n                }}\n          suggestions={this.state.suggestions}\n          onSuggestionsFetchRequested={this.onSuggestionsFetchRequested.bind(this)}\n          onSuggestionsClearRequested={this.onSuggestionsClearRequested.bind(this)}\n          getSuggestionValue={getSuggestionValue}\n          renderInputComponent={renderInputComponent.bind(this)}\n          renderSuggestion={renderSuggestion}\n          renderSuggestionsContainer={renderSuggestionsContainer.bind(this)}\n          inputProps={inputProps}\n        />\n        </div>\n      );\n      \n    }\n  }export default AutoSuggestions;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Input from '@material-ui/core/Input';\r\nimport Search from '@material-ui/icons/Search';\r\nimport Button from '@material-ui/core/Button';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport AlertDialog from './AlertDialog';\r\nimport HomePageImg from './homepage3.png';\r\nimport AutoSuggestions from './AutoSuggestions';\r\n\r\nconst styles = ({\r\n    root1:{\r\n        height:\"85%\",\r\n        width:\"95%\",\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        backgroundImage: \"url(\" + HomePageImg + \")\",\r\n        backgroundRepeat: \"no-repeat\",\r\n        backgroundSize: \"74%\",\r\n        backgroundPosition: \"center\",\r\n        margin:20,\r\n\r\n    },\r\n    root2: {\r\n    //   height: \"100%\",\r\n      width : \"40%\",\r\n      padding: 15, //theme.spacing.unit * 2,\r\n      margin : 120,//theme.spacing.unit * 4,\r\n    },\r\n    container: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      flexWrap: 'wrap',\r\n      paddingTop:10,\r\n      paddingBottom:5,\r\n    },\r\n    input: {\r\n     \r\n      margin: 10,//theme.spacing.unit,\r\n      fontSize:20,\r\n    },\r\n    chip: {\r\n        margin: 8,\r\n        padding:5,\r\n        fontSize:13\r\n      },\r\n    img:{\r\n        opacity:0.2\r\n    }\r\n  });\r\n\r\n  \r\nclass SearchField extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            chipdata:this.props.SearchHistory,\r\n            SearchKeyword : null,\r\n            historyWords:[],\r\n            alertOpen:false,\r\n            alertCondition : null,\r\n        }\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.TagClick = this.TagClick.bind(this);\r\n        this.TextChange = this.TextChange.bind(this);\r\n        this.HandleAlertClose = this.HandleAlertClose.bind(this);\r\n        this.Go_CreateNewMap = this.Go_CreateNewMap.bind(this);\r\n        this.Go_CheckExistedMap = this.Go_CheckExistedMap.bind(this);\r\n    }\r\n    componentWillMount(){\r\n        // console.log(\"SearcgFieldMount\");\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/SearchHistory/')\r\n        .then(function (res) {\r\n        //    console.log(res.json());\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            tmp.setState({\r\n                historyWords:myJson\r\n            });\r\n            return myJson;\r\n        });\r\n    }\r\n    \r\n    Go_CreateNewMap(keyword){\r\n        this.props.SetProgress(2);\r\n        this.props.SetSearchKeyword(keyword);\r\n    }\r\n    Go_CheckExistedMap(keyword){\r\n        if (keyword==\"bitcoin introduction\"){\r\n            console.log(\"here!!!!XXXXbitcoin\")\r\n            var tmp = this;\r\n            var index = 0;\r\n            fetch('https://appbackend-hci.herokuapp.com/GetJson_bitcoin/'+index)\r\n            .then(function (res) {\r\n                return res.json();\r\n            }).then(function(myJson) {\r\n                tmp.props.SetProgress(3,myJson);\r\n                return myJson;\r\n            });\r\n        }\r\n        else{\r\n            var tmp = this;\r\n            fetch('https://appbackend-hci.herokuapp.com/GetAnalyzeResult/'+keyword)\r\n            .then(function (res) {\r\n                return res.json();\r\n            }).then(function(myJson) {\r\n                // console.log(\"myJson\",myJson.search_info);\r\n                tmp.props.SetProgress(3,myJson);\r\n                return myJson;\r\n            });\r\n        }\r\n        \r\n    }\r\n    handleClick(e){\r\n        if(this.state.SearchKeyword==null){\r\n            this.setState({\r\n                alertOpen:true,\r\n                alertCondition:\"null\"\r\n            });\r\n        }else if(this.state.historyWords.includes(this.state.SearchKeyword)){\r\n            this.setState({\r\n                alertOpen:true,\r\n                alertCondition:\"exist\"\r\n            });\r\n        }else{\r\n            this.setState({\r\n                alertOpen:true,\r\n                alertCondition:\"notExist\"\r\n            });\r\n        }\r\n        \r\n    }\r\n    TagClick(keyword){\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/GetAnalyzeResult/'+keyword)\r\n        .then(function (res) {\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            // console.log(\"myJson\",myJson.search_info);\r\n            tmp.props.SetProgress(3,myJson);\r\n            return myJson;\r\n        });\r\n    }\r\n    TagDelete(keyword){\r\n        // console.log(\"tag delete\",this);\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/DeleteAnalyzeResult/'+keyword)\r\n        .then(function (res) {\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            tmp.props.SetSearchHistory(myJson);\r\n            return myJson;\r\n        });\r\n    }\r\n    TextChange(e){\r\n        // sconsole.log(\"eeee\",this,e.target.value);\r\n        this.setState({\r\n            SearchKeyword:e,\r\n            // SearchKeyword:e.target.value\r\n        });\r\n    }\r\n    HandleAlertClose(){\r\n        this.setState({\r\n            alertOpen:false,\r\n        });\r\n    }\r\n    render() {\r\n        // console.log(\"search\",this.state.SearchKeyword);\r\n        return (\r\n            <div style={styles.root1} >\r\n            {/* <img src={HomePage2} style={styles.img} /> */}\r\n            \r\n            <Paper style={styles.root2} elevation={13}>\r\n                <div style={styles.container} >\r\n                    {/* <Input placeholder=\"Concept \" style={styles.input} value={this.state.name} inputProps={{  'aria-label': 'Description',  } } onChange={this.TextChange} /> */}\r\n                    <AutoSuggestions historyWords={this.state.historyWords} TextChange={this.TextChange}/>\r\n                    <Button size = \"small\" onClick={this.handleClick}>\r\n                        <Search style = {{margin:10}}/>\r\n                    </Button>\r\n                </div>\r\n                \r\n            </Paper>\r\n            <AlertDialog \r\n                keyword = {this.state.SearchKeyword}\r\n                alertOpen={this.state.alertOpen} \r\n                HandleAlertClose={this.HandleAlertClose} \r\n                alertCondition={this.state.alertCondition}\r\n                Go_CreateNewMap={this.Go_CreateNewMap}\r\n                Go_CheckExistedMap={this.Go_CheckExistedMap}\r\n            />\r\n            </div>\r\n        );\r\n        \r\n    }\r\n}\r\nexport default SearchField;","import React, { Component } from 'react';\r\nimport ReactDOM, { render } from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport * as d3 from \"d3\";\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport * as cldrSegmentation from 'cldr-segmentation';\r\nimport CommunicationCallSplit from 'material-ui/svg-icons/communication/call-split';\r\nimport { text } from 'd3';\r\n\r\n\r\n// import { withStyles } from '@material-ui/core/styles';\r\nconst styles = {\r\n    block: {\r\n        margin: 10,\r\n    },\r\n    circle: {\r\n        cursor: \"pointer\",\r\n        // fill:\"#555\",\r\n        // zIndex:-1,\r\n        // opacity:0.4,\r\n    },\r\n    conceptlabel: {\r\n        // fontFamily:\"EB Garamond\",\r\n        position: \"absolute\",\r\n        zIndex: -1,\r\n        fontSize: 14,\r\n\r\n    }\r\n};\r\n\r\nif (!firebase.apps.length) {\r\n    firebase.initializeApp({\r\n        databaseURL: \"https://test-7916a-default-rtdb.asia-southeast1.firebasedatabase.app/\"\r\n    });\r\n} else {\r\n    firebase.app(); // if already initialized, use that one\r\n}\r\n\r\n\r\n//   var ScaleDotSize = d3.scaleLinear()\r\n//   .domain([0,70])//Math.max.apply(Math,recorditems.map(function(o){return o.cnt;}))\r\n//   .range([5,7]);//4,6\r\nfunction HighLightTextStyle(HighlightNodeText, HighlightNodes, index) {\r\n    if (HighlightNodeText != null) {\r\n        if (HighlightNodeText.includes(index) && HighlightNodes.includes(index)) {\r\n            // return {fill:\"red\"};\r\n            return { textShadow: \"0px 0px 15px #ff5151,0px 0px 15px #ff5151\" };\r\n        } else {\r\n            return { fill: \"black\" };\r\n        }\r\n    }\r\n    return { fill: \"black\" };\r\n}\r\nfunction FadeTextStyle(Path_ConceptIndex, HighlightNodes, index) {\r\n    if (Path_ConceptIndex != null && HighlightNodes.length != 0 && !HighlightNodes.includes(index)) {\r\n        // return {fill:\"red\"};\r\n        return { fillOpacity: \"0.5\" };\r\n    }\r\n    return { fill: \"black\" };\r\n}\r\n\r\nclass Node extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            anchorEl: null,\r\n            studentslist: []\r\n        };\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleHover = this.handleHover.bind(this);\r\n        this.NodeRadius = this.NodeRadius.bind(this);\r\n        this.handleMouseOut = this.handleMouseOut.bind(this);\r\n        //this.handleHighlight = this.handleHighlight.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.d3Node = d3.select(ReactDOM.findDOMNode(this))\r\n            .datum(this.props.data)\r\n        // .call(this.props.enterNode)\r\n        // console.log(\"node this\",ReactDOM.findDOMNode(this),this.props.data);\r\n\r\n        firebase.database().ref(\"/change\").on(\"value\", snapshot => {\r\n            let studentlist = [];\r\n            snapshot.forEach(snap => {\r\n                // snap.val() is the dictionary with all your keys/values from the 'students-list' path\r\n                var data = snap.val();\r\n                //console.log(\"snap = \", snap);\r\n                var data = data.replace(\"<p>\", \"\").replace(\"</p>\", \"\");\r\n                studentlist.push(data);\r\n                //console.log(data);\r\n            });\r\n            this.setState({ studentslist: studentlist });\r\n        });\r\n\r\n    }\r\n\r\n    // let the node can be moved!!!\r\n    componentDidUpdate() {\r\n        this.d3Node.datum(this.props.data)\r\n            .call(this.props.updateNode)\r\n        // console.log(\"Update!!\",this.props.data.index,this.props.HighlightNodes);\r\n    }\r\n\r\n\r\n\r\n    handleClick(e) {\r\n        //console.log(\"[click],conceptMapNode\",\",\",this.props.data.name,\",\",this.props.data.index);\r\n        //console.log(this.pros);\r\n        // d3.select(ReactDOM.findDOMNode(this)).select('text')\r\n        // .transition()\r\n        // .duration(500)\r\n        // .attr(\"text-anchor\",\"middle\")\r\n        // .style(\"font-style\",\"italic\")\r\n        // .style(\"text-shadow\",\"2px 2px 4px #888\")\r\n        // .style(\"font-size\",\"19\");\r\n\r\n        this.setState({\r\n            anchorEl: ReactDOM.findDOMNode(this),\r\n        });\r\n        this.props.SetPath_ConceptIndex(\"add\", this.props.data.index);\r\n    };\r\n    handleClose() {\r\n        // console.log(\"unclick\",ReactDOM.findDOMNode(this));\r\n        d3.select(ReactDOM.findDOMNode(this)).select('text')\r\n            .transition()\r\n            .duration(500)\r\n            .attr(\"text-anchor\", \"right\")\r\n            .style(\"font-style\", \"normal\")\r\n            .style(\"text-shadow\", \"none\")\r\n            .style(\"font-size\", \"14\");\r\n\r\n        this.setState({\r\n            anchorEl: null,\r\n        });\r\n\r\n    };\r\n\r\n    handleHover(i) {\r\n\r\n        /*var data_db = this.state.studentslist[0];\r\n        var revised_string = '<strong>';\r\n        if (data_db.includes(this.props.data.name)) {\r\n            //revised_string = revised_string.concat(this.props.data.name, '</strong>');\r\n            //console.log(revised_string)\r\n            //this.props.SetHighlightWord(revised_string);\r\n            this.props.SetHoverConceptIndex(this.props.data.index, this.props.data.name);\r\n            this.props.SetHighlightNodes(this.props.data.index);\r\n    \r\n        }\r\n        else {\r\n            this.props.SetHoverConceptIndex(this.props.data.index, this.props.data.name);\r\n            this.props.SetHighlightNodes(this.props.data.index);    \r\n            console.log(\"node does not exist in content\");\r\n        }\r\n        */\r\n        console.log(\"[hover],conceptMapNode\", \",\", this.props.data.name, \",\", this.props.data.index);\r\n        // console.log(ReactDOM.findDOMNode(this));\r\n\r\n        //--------------------\r\n        console.log(\"this.props.data.name = \", this.state.studentslist);\r\n        //added \r\n        console.log(\"hover mode!!\");\r\n        this.props.SetHoverConceptIndex(this.props.data.index);\r\n        this.props.SetHighlightNodes(this.props.data.index);\r\n\r\n    };\r\n\r\n\r\n\r\n    NodeRadius(cnt, Range) {\r\n        var ScaleDotSize = d3.scaleLinear()\r\n            .domain([Range[0], Range[1]])//Math.max.apply(Math,recorditems.map(function(o){return o.cnt;}))\r\n            .range([6, 15]);//4,6\r\n        return ScaleDotSize(cnt)\r\n    }\r\n\r\n    ClickedNode(highlight, radius) {\r\n        if (highlight == true) {\r\n            return (\r\n                <circle ref=\"dragMe\"\r\n                    fill=\"#AAAAAA\"\r\n                    r={radius}\r\n                    opacity={0.4} >\r\n                </circle>\r\n            );\r\n        }\r\n    }\r\n    handleMouseOut(){\r\n        this.props.ClearHoverConcept();\r\n        console.log(\"handleout!!\");\r\n    }\r\n\r\n    //欲修改Node顏色，於此區塊修改\r\n    render() {\r\n\r\n        //console.log(this.props.SetPath_ConceptIndex);\r\n        if (this.props.Path_ConceptIndex == null) {\r\n            var NodeOpacityValue = this.props.HighlightNodes.includes(this.props.data.index) ? 1 : 0.4;\r\n        } else {\r\n            var NodeOpacityValue = this.props.HighlightNodes.includes(this.props.data.index) ? 1 : 0.3;\r\n        }\r\n\r\n        // var NodeColor =  this.props.HighlightNodes.includes(this.props.data.index)? \"#009FCC\":\"#555\" ;\r\n\r\n        if (this.props.Path_ConceptIndex == this.props.data.index) {\r\n            var NodeColor = \"#444444\";\r\n        } else if (this.props.HoverConceptIndex == this.props.data.index) {\r\n            var NodeColor = \"#5c4350\";\r\n            // \"#17667c\"r\r\n        }\r\n        else {\r\n            // var NodeColor =  this.props.HighlightNodes.includes(this.props.data.index)? \"#009FCC\":\"#555\" ;\r\n            if (this.props.DirectNodes.includes(this.props.data.index)) {\r\n                var NodeColor = \"#009FCC\"; // \"#8f7683\"\r\n            } else if (this.props.HighlightNodes.includes(this.props.data.index)) {\r\n                var NodeColor = \"#009FCC\";\r\n            } else {\r\n                var NodeColor = \"#555\";\r\n            }\r\n        }\r\n        if (this.props.SetPath_ConceptIndex == false) {\r\n            var NodeColor = \"#AFC700\";\r\n            console.log(\"fixing line ...\");\r\n        }\r\n        if (this.props.updated == true) {\r\n            var NodeColor = \"#FF0000\";\r\n        }\r\n\r\n\r\n        return (\r\n            <g className='node' >\r\n                {/* <circle ref=\"dragMe\" onMouseOver={thi(s.handle.bind(this)}/> */}\r\n                <circle ref=\"dragMe\"\r\n                    onClick={this.handleClick.bind(this)}\r\n                    onMouseOver={this.handleHover.bind(this)}\r\n                    // 應該要綁定一個事件是當用戶觸發某個狀態 會從新繪圖 e.g. mouse over\r\n                    //onMouseOver={this.handleHighlight.bind(this)} \r\n                    onMouseOut={this.handleMouseOut}\r\n                    r={this.NodeRadius(this.props.data.count, this.props.ConceptRange)}\r\n                    // r = {ScaleDotSize(this.props.data.count)}\r\n                    style={Object.assign({}, styles.circle, { opacity: NodeOpacityValue, fill: NodeColor })}\r\n                >\r\n                </circle>\r\n                {/* {this.ClickedNode(this.props.BigCircleIndex==this.props.data.index,this.NodeRadius(this.props.data.count,this.props.ConceptRange)+15)} */}\r\n\r\n                {/* <Popover\r\n                    open={Boolean(this.state.anchorEl)}\r\n                    anchorEl={this.state.anchorEl}\r\n                    onClose={this.handleClose}\r\n                    anchorOrigin={{\r\n                        vertical: 'bottom',\r\n                        horizontal: 'center',\r\n                    }}\r\n                    transformOrigin={{\r\n                        vertical: 'top',\r\n                        horizontal: 'center',\r\n                    }}\r\n                >\r\n                    <div style={styles.block}>\r\n                        <PopoverContent node={this.props.data} video_info = {this.props.video_info} OpenDrawer = {(text) =>this.props.OpenDrawer(text)}/>\r\n                    </div>\r\n                </Popover> */}\r\n                {/* <circle ref=\"dragMe\" onMouseOver={ Tooltip.show(findDOMNode(this.refs.foo))}/> */}\r\n                {/* <text style={styles.conceptlabel} dx=\"5\" dy=\"8\">  {this.props.data.name}</text> */}\r\n                <text\r\n                    style={Object.assign({},\r\n                        styles.conceptlabel,\r\n                        HighLightTextStyle(this.props.HighlightNodeText, this.props.HighlightNodes, this.props.data.index),\r\n                        FadeTextStyle(this.props.Path_ConceptIndex, this.props.HighlightNodes, this.props.data.index))}\r\n                    dx=\"5\"\r\n                    dy=\"8\">{this.props.data.name}\r\n                </text>\r\n\r\n            </g>\r\n        );\r\n    }\r\n}\r\nexport default Node;","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { PropTypes } from 'prop-types';\nimport * as d3 from \"d3\";\n2. \n\nclass Link extends Component {\n    constructor(props) {\n        super(props);\n    }\n    componentDidMount() {\n        this.d3Link = d3.select(ReactDOM.findDOMNode(this))\n            .datum(this.props.data)\n            .call(this.props.enterLink);\n        d3.select(ReactDOM.findDOMNode(this)).attr('marker-end',function(d) {\n                if(d.prerequisite!=null){return 'url(#markerArrow)' }\n            })\n    }\n\n    componentDidUpdate() {\n        this.d3Link.datum(this.props.data)\n            .call(this.props.updateLink);\n        // console.log(\"Update!!\",this.props.data.index,this.props.HighlightNodes);\n        this.DoHighlight(ReactDOM.findDOMNode(this),this.props.HighlightNodes);\n    }\n    DoHighlight(loc,d_neighbors){\n        d3.select(loc)\n      //   .style(\"stroke\", function (o) {\n      //     return (d_neighbors.includes(o.source.index) & d_neighbors.includes(o.target.index) & o.prerequisite!=null)? \"#999999\":\"#bbb\";\n      //   })\n        .style(\"opacity\", function (o) {\n          if (d_neighbors.includes(o.source.index) & d_neighbors.includes(o.target.index) & o.prerequisite!=null & o.similarity>0)\n              {return 1}\n          else if ( o.prerequisite!=null & o.similarity>0)\n              {return 0.3}\n          else\n              {return 0}\n\n          //return (d_neighbors.includes(o.source.index) & d_neighbors.includes(o.target.index) & o.prerequisite!=null & o.similarity>0)? 1:0.1;\n        });\n  }\n    render() {\n        return (\n            <line className='link'  />\n        );\n    }\n}\nexport default Link;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport * as d3 from \"d3\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\n\r\n// import { withStyles } from '@material-ui/core/styles';\r\nconst styles = {\r\n    circle: {\r\n        cursor: \"pointer\",\r\n        // fill:\"red\",\r\n    }, \r\n    ConceptBigCircle:{\r\n        // fill:\"#B2DFDB\",\r\n        fill: \"#D4D4D4\",\r\n        opacity: 0.55,\r\n        cursor: \"pointer\",\r\n        // transition:\"all 12s\",\r\n    },\r\n    Sentcircle:{\r\n        opacity: 0.7,\r\n    },\r\n    conceptlabel:{\r\n        // fontFamily:\"EB Garamond\",\r\n        fontSize:19,\r\n        textAnchor:\"middle\",\r\n        fontStyle:\"italic\",\r\n        textShadow:\"2px 2px 4px #888\"\r\n    },\r\n  };\r\n\r\n  \r\n  function CircleShadow(Hightlight){\r\n    if(Hightlight){\r\n        return{stroke:\"#ff7575\", strokeWidth:3, strokeOpacity:0.8};\r\n    }\r\n    else{\r\n        return{};\r\n    }\r\n}\r\n  \r\n\r\nclass PopoverNode extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // anchorEl: null,\r\n            // NodeClicked: false\r\n        };\r\n        this.Location = this.Location.bind(this);\r\n        this.VideoRadius = this.VideoRadius.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleHover = this.handleHover.bind(this);\r\n        this.handleHoverOut = this.handleHoverOut.bind(this);   \r\n    }\r\n    componentWillMount() {\r\n        console.log(\"popover create\");\r\n    }\r\n    componentDidMount() {\r\n        console.log(\"popover create\");\r\n        this.d3Node = d3.select(ReactDOM.findDOMNode(this))\r\n            .datum(this.props.data)\r\n            // .call(this.props.enterNode)\r\n    }\r\n\r\n    // let the node can be moved!!!\r\n    componentDidUpdate() {\r\n        this.d3Node.datum(this.props.data)\r\n            .call(this.props.updateNode)\r\n        // console.log(\"Update!!\",this.props.data.index,this.props.HighlightNodes);\r\n    }\r\n    Location(index,numNodes){\r\n        // var radius = 100;\r\n        var radius = 100 + index *2.5;\r\n        var angle = (index / (numNodes/2)) * Math.PI - 1/2*Math.PI;\r\n        var cx = (radius * Math.cos(angle));\r\n        var cy = (radius * Math.sin(angle));\r\n        return [cx,cy];\r\n    }\r\n    VideoRadius(index){\r\n        return (44-(index*2.5))\r\n    }\r\n    SentimentColor(score){\r\n        // console.log(this.props.SentRange);\r\n        var sentmin = this.props.SentRange[0]<0? this.props.SentRange[0]:-0.1;\r\n        var color = d3.scaleLinear()\r\n            .domain([sentmin,0,this.props.SentRange[1]-0.1])\r\n            .range([\"red\",\"yellow\", \"green\"])\r\n            .interpolate(d3.interpolateHcl);\r\n        return color(score);      \r\n    }\r\n    SentcircleArc(r,percentage){\r\n        // var percentage = 1/4;\r\n        var arc = d3.arc()\r\n        .innerRadius(r)\r\n        .outerRadius(r);\r\n        return arc({startAngle:0, endAngle:(Math.PI*1/4+Math.PI*7/4*percentage)});      \r\n    }\r\n    ArcPercentage(this_likes,likesRange){\r\n        if(likesRange[0]!=likesRange[1]){\r\n            var ArcSize = d3.scaleLinear()\r\n            .domain([likesRange[0],likesRange[1]])\r\n            .range([0,1])\r\n            return ArcSize(this_likes);   \r\n        }else{\r\n            return 1;\r\n        }\r\n           \r\n    }\r\n    handleClose(){\r\n        this.props.SetPopoverIndexes(\"remove\",this.props.data.index);\r\n    }\r\n    handleHover(vid){\r\n        this.props.SetHoverVideoIndex(vid);\r\n    }\r\n    handleHoverOut(){\r\n        this.props.SetHoverVideoIndex(null);\r\n    }\r\n\r\n    render() {\r\n        var numNodes = this.props.data.videos_id.length;\r\n        var video_info = this.props.video_info;\r\n        var LikesList=[]\r\n        this.props.data.videos_id.map( ([vid,cnnt],index) => {LikesList.push(video_info[vid].likeCount);});\r\n        var likesRange=[Math.min(...LikesList),Math.max(...LikesList)];\r\n        var ShowVideoLinks = this.props.data.videos_id.map( ([vid,cnnt],index) => {\r\n            // console.log(vid,video_info[vid].likeCount);\r\n            \r\n            return(\r\n                <g key={\"PopoverNode\"+index}>\r\n                    <Tooltip title={this.props.video_info[vid].title} placement=\"top\">\r\n                    <a xlinkHref={\"https://www.youtube.com/watch?v=\"+vid} target=\"_blank\" >\r\n                        <circle key={vid} \r\n                            cx={this.Location(index,numNodes)[0]} \r\n                            cy={this.Location(index,numNodes)[1]} \r\n                            // r={styles.OuterCircle.r} \r\n                            r = {this.VideoRadius(index)}\r\n                            fill={this.SentimentColor(video_info[vid].userFeedbackScore)} \r\n                            // style={styles.Sentcircle} \r\n                            style = {Object.assign({}, styles.Sentcircle, CircleShadow(vid===this.props.HoverVideoIndex))}    \r\n                        >\r\n                        </circle>\r\n                        {/* <path \r\n                            transform={\"translate(\"+this.Location(index,numNodes)[0]+\",\"+this.Location(index,numNodes)[1]+\")\"}\r\n                            style={styles.Sentcircle} \r\n                            strokeWidth={9}\r\n                            stroke={this.SentimentColor(video_info[vid].comment_sentiment)}\r\n                            d={this.SentcircleArc(this.VideoRadius(index)-4,this.ArcPercentage(video_info[vid].likeCount,likesRange))}\r\n                        ></path> */}\r\n                        <pattern id = {\"attachedImage\"+vid} height = \"150%\" width = \"150%\" patternContentUnits = \"objectBoundingBox\">\r\n                        <image xlinkHref = {video_info[vid][\"thumbnail\"]} preserveAspectRatio = \"xMidYMid meet\" width = \"1.5\" style={styles.img}/>\r\n                        </pattern>\r\n                        <circle key={vid+\"img\"} \r\n                            cx={this.Location(index,numNodes)[0]} \r\n                            cy={this.Location(index,numNodes)[1]} \r\n                            // r={styles.OuterCircle.r-7} \r\n                            r={this.VideoRadius(index)-7} \r\n                            fill={\"url(#attachedImage\"+vid+\")\"} \r\n                            style = {styles.circle} \r\n                            onMouseOver={this.handleHover.bind(this,vid)}\r\n                            onMouseOut={this.handleHoverOut.bind(this)} \r\n                        >\r\n                        </circle>\r\n                    </a>\r\n                    </Tooltip>\r\n                    <text style={styles.conceptlabel} dx=\"5\" dy=\"8\">  {this.props.data.name}</text> \r\n                </g>\r\n            )\r\n        });\r\n        return (\r\n            \r\n            <g className='node' transform={\"translate(\" + this.props.data.x + \",\" + this.props.data.y + \")\"} >\r\n                {/* <circle ref=\"dragMe\" onMouseOver={this.handle.bind(this)}/> */}\r\n                <circle  ref=\"dragMe\" onClick={this.handleClose.bind(this)} r={\"150\"} style = {styles.ConceptBigCircle}></circle>\r\n                {ShowVideoLinks}\r\n            </g>\r\n        );\r\n    }\r\n}\r\nexport default PopoverNode;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport * as d3 from \"d3\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\n\r\n// import { withStyles } from '@material-ui/core/styles';\r\nconst styles = {\r\n    mask:{\r\n        opacity:\"0.01\",\r\n        fill: \"white\",\r\n    },\r\n};\r\n\r\n\r\nclass Masker extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleClick(){\r\n        this.props.SetPath_ConceptIndex(\"clear\",null);\r\n    }\r\n    render() {\r\n        if(this.props.Path_ConceptIndex!=null){\r\n            return(\r\n                <rect \r\n                    style={styles.mask} \r\n                    width={this.props.width} \r\n                    height={this.props.height} \r\n                    onClick={this.handleClick.bind(this)}\r\n                >\r\n                </rect>\r\n            );\r\n        }\r\n        return (\r\n            null\r\n        );\r\n    }\r\n}\r\nexport default Masker;","// refer to :https://codepen.io/vialito/pen/WMKwEr\r\n\r\nimport React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport * as d3 from \"d3\";\r\nimport Node from './Node';\r\nimport Link from './Link';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport PopoverNode from './PopoverNode';\r\nimport Masker from './Masker';\r\nimport * as cldrSegmentation from 'cldr-segmentation';\r\n// const width = 1000;\r\n// const height = 800;\r\n\r\n\r\n/* editor component */\r\nimport SunEditor from 'suneditor-react';\r\nimport 'suneditor/dist/css/suneditor.min.css'; // Import Sun Editor's CSS File\r\nimport { axisLeft } from 'd3';\r\n\r\n\r\nif (!firebase.apps.length) {\r\n    firebase.initializeApp({\r\n        databaseURL: \"https://test-7916a-default-rtdb.asia-southeast1.firebasedatabase.app/\"\r\n    });\r\n    }else {\r\n    firebase.app(); // if already initialized, use that one\r\n}\r\n\r\n\r\n\r\n\r\nconst styles = ({\r\n    root:{\r\n        overflowX: \"scroll\",\r\n        overflowY: \"scroll\",\r\n    },\r\n    root2:{\r\n        //  zoom:1.2\r\n    },\r\n    mask:{\r\n        opacity:\"0.5\",\r\n    },\r\n    Div:{\r\n        float:axisLeft,\r\n    }\r\n    \r\n  });\r\n\r\n\r\nconst color = d3.scaleOrdinal(d3.schemeCategory10);\r\nconst force = d3.forceSimulation();\r\nvar childNodeDict;\r\n\r\n\r\nconst drag = () => {\r\n    d3.selectAll('g')\r\n        .call(d3.drag()\r\n            .on(\"start\", dragStarted)\r\n            .on(\"drag\", dragging)\r\n            .on(\"end\", dragEnded));\r\n};\r\n\r\nfunction dragStarted(d) {\r\n    if (!d3.event.active) force.alphaTarget(0.3).restart()\r\n    d.fx = d.x\r\n    d.fy = d.y\r\n    console.log('dragStarted')\r\n}\r\nfunction dragging(d) {\r\n    d.fx = d3.event.x\r\n    d.fy = d3.event.y\r\n    console.log('dragging')\r\n}\r\nfunction dragEnded(d) {\r\n    if (!d3.event.active) force.alphaTarget(0.5)//0\r\n    d.fx = null\r\n    d.fy = null\r\n    console.log('dragEnded')\r\n}\r\n\r\nconst enterNode = (selection) => {\r\n    // selection.select('circle')\r\n        // .attr(\"r\", function(d){return ScaleDotSize(d.count)})\r\n        // .style(\"fill\", function(d) { return '#555' })\r\n\r\n    // selection.select('text')\r\n        // .style(\"transform\", \"translateX(-50%,-50%\")\r\n};\r\nconst updateNode = (selection) => {\r\n    selection.attr(\"transform\", (d) => \"translate(\" + d.x + \",\" + d.y + \")\")\r\n};\r\nconst enterLink = (selection) => {\r\n    selection.attr(\"stroke-width\", 1)\r\n    .style(\"stroke\",\"#bbb\")\r\n        .style(\"opacity\",\".2\")\r\n};\r\nconst updateLink = (selection) => {\r\n    selection\r\n        .attr(\"x1\", (d) => d.source.x)\r\n        .attr(\"y1\", (d) => d.source.y)\r\n        .attr(\"x2\", (d) => d.target.x)\r\n        .attr(\"y2\", (d) => d.target.y);\r\n};\r\nconst updateGraph = (selection) => {\r\n    \r\n    selection.selectAll('.node')\r\n        .call(updateNode);\r\n        // .call(drag);\r\n    selection.selectAll('.link')\r\n        .call(updateLink);\r\n\r\n    var zoom = d3.zoom()\r\n        .scaleExtent([0.6,2])\r\n        .on('zoom', function(d) {\r\n            console.log(\"zoom\",d3.event.transform.k,14/(d3.event.transform ?d3.event.transform.k : 1));\r\n            selection.select('g').attr(\"transform\", d3.event.transform);\r\n            selection.selectAll('text').style('font-size',14/(d3.event.transform ?d3.event.transform.k : 1));\r\n            // selection.selectAll('.node').attr(\"fontSize\",14/(d3.event.transform ? d3.event.transform : 1));\r\n          });\r\n    selection.select('.graphContainer')\r\n    .call(zoom);\r\n};\r\n\r\n\r\nfunction CheckDirectNodes(index,BFSinput) {\r\n    var ans=[]\r\n    for (var i in BFSinput) {\r\n        if(BFSinput[i].includes(index)){\r\n            ans.push(parseInt(i));\r\n        }\r\n      }\r\n    console.log(\"CheckDirectNodes\")\r\n    return ans;\r\n}\r\n\r\nclass Graph extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            HighlightNodes: [],\r\n            DirectNodes:[],\r\n            // PopoverIndexes:[],\r\n            studentslist : []\r\n        };\r\n        \r\n        this.SetHighlightNodes = this.SetHighlightNodes.bind(this);\r\n        // this.SetPopoverIndexes = this.SetPopoverIndexes.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        this.d3Graph = d3.select(ReactDOM.findDOMNode(this));\r\n        var force = d3.forceSimulation(this.props.data.concept_relationship.nodes);\r\n\r\n        firebase.database().ref(\"/change\").on(\"value\", snapshot => {\r\n            let studentlist = [];\r\n            snapshot.forEach(snap => {\r\n                // snap.val() is the dictionary with all your keys/values from the 'students-list' path\r\n                var data = snap.val();\r\n                console.log(\"snap.val=\",snap.val());\r\n                //var data = data.replace(\"<p>\",\"\").replace(\"</p>\",\"\");\r\n                studentlist.push(data);\r\n                console.log(data);\r\n            });\r\n            this.setState({ studentslist: studentlist });\r\n        });\r\n\r\n        \r\n        force.on('tick', () => {\r\n            force\r\n            .force(\"charge\", d3.forceManyBody().strength(-50))\r\n            .force(\"link\", d3.forceLink(this.props.data.concept_relationship.links).distance(function(d) {return (1/((d.similarity+0.5))*200);}).strength(0.1))\r\n            .force(\"center\", d3.forceCenter().x(this.props.width*0.6 / 2).y(this.props.height / 2))\r\n            // .force(\"collide\", d3.forceCollide([5]).iterations([5]))\r\n            // const node = d3.selectAll('g').call(drag);\r\n            this.d3Graph.call(updateGraph)\r\n        });\r\n    }\r\n    \r\n    SetHighlightNodes(index){\r\n        var ans = CheckDirectNodes(index,this.props.data.BFSinput[index]);\r\n        // console.log(\"hhh\",this.props.data.highlight_nodes[index]);\r\n        \r\n        this.setState(\r\n            {\r\n                HighlightNodes:this.props.data.highlight_nodes[index],\r\n                DirectNodes:ans\r\n            }\r\n        );\r\n    }\r\n    readFirebase()\r\n    {\r\n        var db = firebase.database();\r\n        db.ref(\"/save\").on(\"value\",function (snapshot){\r\n                \r\n                var studentlist = [];\r\n                var data_db= snapshot.val().contents.replace(\"<p>\",\"\").replace(\"</p>\",\"\");\r\n                studentlist.push(data_db);\r\n                \r\n            });\r\n        this.setState(\r\n            {\r\n                studentslist:studentlist\r\n            }\r\n        );\r\n        console.log(\"reading db complete ...\")\r\n            \r\n    }\r\n    \r\n    \r\n    render() {\r\n\r\n        var nodes = this.props.data.concept_relationship.nodes.map( (node) => {\r\n            try{\r\n                /*if(data_db.includes(node.name))\r\n                {\r\n                    return (\r\n                        <Node\r\n                            data={node}\r\n                            name={node.name}\r\n                            key={\"node\"+node.index}\r\n                            // enterNode = {enterNode}\r\n                            updateNode = {updateNode}\r\n                            // OpenDrawer = {(text) =>this.props.OpenDrawer(text)}\r\n                            SetHighlightNodes = {this.SetHighlightNodes}\r\n                            HighlightNodes = {this.state.HighlightNodes}\r\n                            DirectNodes = {this.state.DirectNodes}\r\n                            HoverConceptIndex = {this.props.HoverConceptIndex}\r\n                            SetHoverConceptIndex={this.props.SetHoverConceptIndex}\r\n                            ClearHoverConcept = {this.props.ClearHoverConcept}\r\n                            Path_ConceptIndex={this.props.Path_ConceptIndex} \r\n                            SetPath_ConceptIndex={this.props.SetPath_ConceptIndex==-1}\r\n                            ConceptRange={this.props.ConceptRange}\r\n                            HighlightNodeText={this.props.HighlightConceptIndex}\r\n                            BigCircleIndex={this.props.BigCircleIndex==null?this.props.Path_ConceptIndex:this.props.BigCircleIndex}\r\n                            SetHightlightWord={this.state.SetHightlightWord}\r\n                        />\r\n                        );\r\n                }\r\n                else*/ if(( this.props.src ==\"ApprovPanel\" ) && (node.group==2) )\r\n                {\r\n                    console.log(\"group==1!\")\r\n                    return (\r\n               \r\n                        <Node\r\n                            data={node}\r\n                            name={node.name}\r\n                            key={\"node\"+node.index}\r\n                            // enterNode = {enterNode}\r\n                            updateNode = {updateNode}\r\n                            // OpenDrawer = {(text) =>this.props.OpenDrawer(text)}\r\n                            SetHighlightNodes = {this.SetHighlightNodes}\r\n                            HighlightNodes = {this.state.HighlightNodes}\r\n                            ClearHoverConcept = {this.props.ClearHoverConcept}\r\n                            DirectNodes = {this.state.DirectNodes}\r\n                            HoverConceptIndex = {this.props.HoverConceptIndex}\r\n                            SetHoverConceptIndex={this.props.SetHoverConceptIndex}\r\n                            Path_ConceptIndex={this.props.Path_ConceptIndex} \r\n                            SetPath_ConceptIndex={this.props.SetPath_ConceptIndex}\r\n                            ConceptRange={this.props.ConceptRange}\r\n                            HighlightNodeText={this.props.HighlightConceptIndex}\r\n                            BigCircleIndex={this.props.BigCircleIndex==null?this.props.Path_ConceptIndex:this.props.BigCircleIndex}\r\n                            SetHightlightWord={this.state.SetHightlightWord}\r\n                            updated={true}\r\n                        />\r\n                        \r\n                        );\r\n    \r\n                }else{\r\n                    return(\r\n                    <Node\r\n                        data={node}\r\n                        name={node.name}\r\n                        key={\"node\"+node.index}\r\n                        // enterNode = {enterNode}\r\n                        updateNode = {updateNode}\r\n                        // OpenDrawer = {(text) =>this.props.OpenDrawer(text)}\r\n                        SetHighlightNodes = {this.SetHighlightNodes}\r\n                        HighlightNodes = {this.state.HighlightNodes}\r\n                        \r\n                        DirectNodes = {this.state.DirectNodes}\r\n                        HoverConceptIndex = {this.props.HoverConceptIndex}\r\n                        SetHoverConceptIndex={this.props.SetHoverConceptIndex}\r\n                        ClearHoverConcept = {this.props.ClearHoverConcept}\r\n                        Path_ConceptIndex={this.props.Path_ConceptIndex} \r\n                        SetPath_ConceptIndex={this.props.SetPath_ConceptIndex}\r\n                        ConceptRange={this.props.ConceptRange}\r\n                        HighlightNodeText={this.props.HighlightConceptIndex}\r\n                        BigCircleIndex={this.props.BigCircleIndex==null?this.props.Path_ConceptIndex:this.props.BigCircleIndex}\r\n                        SetHightlightWord={this.props.SetHightlightWord}\r\n                    />)\r\n                }\r\n            }\r\n            catch (err){\r\n                //console.log(err);\r\n                return (\r\n               \r\n                    <Node\r\n                        data={node}\r\n                        name={node.name}\r\n                        key={\"node\"+node.index}\r\n                        // enterNode = {enterNode}\r\n                        updateNode = {updateNode}\r\n                        // OpenDrawer = {(text) =>this.props.OpenDrawer(text)}\r\n                        SetHighlightNodes = {this.SetHighlightNodes}\r\n                        HighlightNodes = {this.state.HighlightNodes}\r\n                        \r\n                        DirectNodes = {this.state.DirectNodes}\r\n                        HoverConceptIndex = {this.props.HoverConceptIndex}\r\n                        SetHoverConceptIndex={this.props.SetHoverConceptIndex}\r\n                        ClearHoverConcept = {this.props.ClearHoverConcept}\r\n                        Path_ConceptIndex={this.props.Path_ConceptIndex} \r\n                        SetPath_ConceptIndex={this.props.SetPath_ConceptIndex}\r\n                        ConceptRange={this.props.ConceptRange}\r\n                        HighlightNodeText={this.props.HighlightConceptIndex}\r\n                        BigCircleIndex={this.props.BigCircleIndex==null?this.props.Path_ConceptIndex:this.props.BigCircleIndex}\r\n                        SetHightlightWord={this.props.SetHightlightWord}\r\n                    />\r\n                    \r\n                    );\r\n                }\r\n               \r\n      \r\n            \r\n            });\r\n        \r\n        var links = this.props.data.concept_relationship.links.map( (link,i) => {\r\n            return (\r\n                <Link\r\n                    key = {\"link\"+i}\r\n                    // key={link.target+i}\r\n                    data={link}\r\n                    enterLink = {enterLink}\r\n                    updateLink = {updateLink}\r\n                    HighlightNodes = {this.state.HighlightNodes}\r\n                    SetHightlightWord={this.props.SetHightlightWord}\r\n                />);\r\n        });\r\n        \r\n        // var PopoverNodes = this.props.data.concept_relationship.nodes.map( (node) => {\r\n        //     if(this.props.Path_ConceptIndex===node.index){\r\n        //         return(\r\n        //             <g>\r\n        //                 <PopoverNode \r\n        //                     key={\"PopoverNode\"+node.index}\r\n        //                     data={node}\r\n        //                     video_info = {this.props.data.videos_info}\r\n        //                     updateNode = {updateNode}\r\n        //                     SetPopoverIndexes = {this.props.SetPopoverIndexes}\r\n        //                     SentRange = {this.props.SentRange}\r\n        //                     SetHoverVideoIndex = {this.props.SetHoverVideoIndex}\r\n        //                     HoverVideoIndex = {this.props.HoverVideoIndex}\r\n        //                 />\r\n        //             </g>\r\n        //         );\r\n        //     }\r\n        //     return (\r\n        //         null\r\n        //     );\r\n        // });\r\n        console.log(\"nodes = \", nodes);\r\n        console.log(\"links = \", links);\r\n        return (\r\n            <div width={this.props.width} height={this.props.height} style={styles.root} >\r\n                <div style={styles.Div}>\r\n                    <svg className=\"graph\" width={(this.props.width)/2} height={this.props.height} style={styles.root2}>\r\n                        <g className='graphContainer'>\r\n                        <defs>\r\n                        <marker id=\"markerArrow\" viewBox=\"0 -4 10 10\" markerWidth=\"7\" markerHeight=\"7\" refX=\"28\" refY=\"0\" orient=\"auto\" xoverflow=\"visible\" >\r\n                            <path d=\"M0,-4 L10 ,0 L0,4\" fill=\"#5b5b5b\" stroke = \"#5b5b5b\"/>\r\n                        </marker>\r\n                        </defs>\r\n                        <g>\r\n                            {links}\r\n                        </g>\r\n                        <g>\r\n                            {nodes}\r\n                        </g>\r\n                        <g>\r\n                            <Masker \r\n                                width={this.props.width} \r\n                                height={this.props.height}\r\n                                Path_ConceptIndex={this.props.Path_ConceptIndex} \r\n                                SetPath_ConceptIndex ={this.props.SetPath_ConceptIndex}\r\n                            />\r\n                        </g>\r\n                        <g>\r\n                            {/* {PopoverNodes} */}\r\n                            {/* {this.renderMask()} */}\r\n                        </g>\r\n                        </g>\r\n                        \r\n\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Graph;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\n\r\nconst styles = ({\r\n    // root: {\r\n    //     // flexGrow: 1,\r\n    //     overflowX: \"scroll\",\r\n    //     overflowY: \"scroll\",\r\n    //   },\r\n      \r\n});\r\n\r\nclass MarkerIcon extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    \r\n    render() {\r\n        // console.log(\"markerIcon\",this.props);\r\n        return (\r\n            // <div style={styles.root}>\r\n            <svg \r\n                x={this.props.cx==undefined?0:this.props.cx}\r\n                y={this.props.cx==undefined?0:this.props.cy} \r\n                width={(this.props.radius)*2} height={(this.props.radius)*2} \r\n                viewBox={\"0 0 \"+(this.props.radius+2)*2+\" \"+(this.props.radius+2)*2}>\r\n                \r\n                <circle cx={this.props.radius+2}\r\n                        cy={this.props.radius+2}\r\n                        r={this.props.radius}\r\n                        stroke=\"white\"\r\n                        strokeWidth=\"2\"\r\n                        fill={this.props.color}/>\r\n                <text fontSize={this.props.radius*2-10}\r\n                    fill=\"white\"\r\n                    // font-family=\"Verdana\"\r\n                    textAnchor=\"middle\"\r\n                    alignmentBaseline=\"baseline\"\r\n                    x={this.props.radius+2}\r\n                    y={(this.props.radius+1)*3/2}>{this.props.text}</text>\r\n            </svg>\r\n        // </div>\r\n        );\r\n    }\r\n    \r\n}\r\nexport default MarkerIcon;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MarkerIcon from './MarkerIcon';\r\nimport * as d3 from \"d3\";\r\n\r\nconst styles = ({\r\n    container:{\r\n        display: 'flex',\r\n        flexDirection: \"column\",\r\n        paddingTop:15,\r\n    },\r\n    ItemContainer:{\r\n        display: 'flex',\r\n        flexDirection: \"row\",\r\n    },\r\n    ImageContainer:{\r\n        padding:5,\r\n    },\r\n    rowContainer:{\r\n        //  display: 'flex',\r\n        // flexDirection: \"column\",\r\n    },\r\n    videoImage:{\r\n        // width: 100,\r\n        // height: 50,\r\n        // fill: \"grey\",\r\n    },\r\n    timeLabel:{\r\n        fontSize:12,\r\n        fill:\"white\",\r\n        fontFamily:\"Gadugi\",\r\n    },\r\n});\r\nfunction VideoShadow(Hightlight){\r\n    if(Hightlight){\r\n        return{stroke:\"\t#ff7575\", strokeWidth:6, strokeOpacity:0.8};\r\n    }\r\n    else{\r\n        return{};\r\n    }\r\n}\r\nclass VideoSequence extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n        this.handleHover = this.handleHover.bind(this);\r\n        this.handleHoverOut = this.handleHoverOut.bind(this);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleHover(vid,index){\r\n        console.log(\"[hover],VideoSequence\",\",\",vid,\",\",index);\r\n        this.props.SetHoverVideoIndex(vid);\r\n    }\r\n    handleClick(vid,index){\r\n        console.log(\"[click],VideoSequence\",\",\",vid,\",\",index);\r\n    }\r\n\r\n    handleHoverOut(){\r\n        this.props.SetHoverVideoIndex(null);\r\n    }\r\n    SentimentColor(score){\r\n        var sentmin = this.props.SentRange[0]<0? this.props.SentRange[0]:-0.1;\r\n        var color = d3.scaleLinear()\r\n            .domain([sentmin,0,this.props.SentRange[1]-0.1])\r\n            .range([\"red\",\"yellow\", \"green\"])\r\n            .interpolate(d3.interpolateHcl);\r\n        return color(score);      \r\n    }\r\n    TimeProcess(str){\r\n        if (str.indexOf('S') > -1){\r\n            return str.replace(\"PT\",\"\").replace(\"H\",\":\").replace(\"M\",\":\").replace(\"S\",\"\");\r\n        }else{\r\n            return str.replace(\"PT\",\"\").replace(\"H\",\":\").replace(\"M\",\":00\");\r\n        }\r\n    }\r\n    render() {\r\n        if(this.props.video_sequences!=undefined){\r\n            var ShowVideoItems = this.props.video_sequences.map( ([vid,cnnt],index) => {\r\n            // console.log(this.props.video_info[vid].thumbnail);\r\n            return(\r\n                <div key={\"videoSeqItem\"+index} style = {styles.ItemContainer}>\r\n                    <div>\r\n                    <MarkerIcon text={index+1} \r\n                        radius={13}\r\n                        // color={\"#21435F\"}\r\n                        color={this.SentimentColor(this.props.video_info[vid].userFeedbackScore)}\r\n                        />\r\n                    </div>\r\n                    <div style={{paddingLeft:5 ,width:\"\"}}>\r\n                        <Typography variant=\"title\" component=\"h2\">\r\n                        <a href={\"https://www.youtube.com/watch?v=\"+vid} \r\n                        target=\"_blank\"\r\n                        onMouseOver={this.handleHover.bind(this,vid,index)}\r\n                        onMouseOut={this.handleHoverOut.bind(this)}\r\n                        onClick={this.handleClick.bind(this,vid,index)}\r\n                        >\r\n                        {this.props.video_info[vid].title}\r\n                        </a>\r\n                        </Typography>\r\n                    <g>\r\n                        <div style ={styles.ImageContainer}>\r\n                            <svg height=\"18\" width=\"38\">\r\n                            <rect  x={0} \r\n                                    y={0} \r\n                                    width=\"37\" height=\"15\"\r\n                                    rx=\"3\"\r\n                                    ry=\"3\"\r\n                                    style={{fill:\"#111111\", opacity: 0.7}}> \r\n                                </rect>\r\n                                <text\r\n                                    x={18} \r\n                                    y={12}\r\n                                    textAnchor=\"middle\"\r\n                                    style={styles.timeLabel}\r\n                                >{this.TimeProcess(this.props.video_info[vid].duration)}\r\n                                </text>\r\n                        </svg>\r\n                        {/* <svg width=\"170\" height=\"120\">\r\n                            <pattern id = {\"VideoSeqImage\"+vid} height = \"100%\" width = \"100%\" patternContentUnits = \"objectBoundingBox\">\r\n                            <image xlinkHref = {this.props.video_info[vid].thumbnail} preserveAspectRatio = \"xMidYMid meet\" height = \"1\"/>\r\n                            </pattern>\r\n                            <rect key={vid+\"VideoSeqImage\"} \r\n                                fill={\"url(#VideoSeqImage\"+vid+\")\"} \r\n                                width=\"160\" \r\n                                height=\"120\"\r\n                                // style = {styles.videoImage}\r\n                                // style = {Object.assign({}, styles.videoImage, {stroke:\"#ff5151\", strokeWidth:5, strokeOpacity:0.8})}\r\n                                style = {Object.assign({}, styles.videoImage, VideoShadow(vid===this.props.HoverVideoIndex))}\r\n                                onMouseOver={this.handleHover.bind(this,vid)}\r\n                                onMouseOut={this.handleHoverOut.bind(this)} >\r\n                            </rect>\r\n                        </svg> */}\r\n                        </div>\r\n                    {/* <hr></hr> */}\r\n                    </g>\r\n                    </div>\r\n                    \r\n                </div>\r\n                \r\n            )\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div style = {styles.container}>\r\n                {ShowVideoItems}\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\nexport default VideoSequence;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport * as d3 from \"d3\";\r\n\r\n\r\n\r\nconst styles = ({\r\n    path:{\r\n        fill: \"none\",\r\n        stroke: \"#222222\",\r\n        strokeWidth: 2,\r\n\t\tstrokeOpacity: 0.6,\r\n\t\tcursor: \"pointer\",\r\n    }\r\n      \r\n});\r\nvar line = d3.line()\r\n        // .curve(d3.curveCardinal.tension(0))\r\n        .curve(d3.curveMonotoneY)\r\n        .x(function(d) { return d.x; })\r\n        .y(function(d) { return d.y; });\r\n        \r\n\r\n\r\nclass CardinalPath extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            PathHovered:false,\r\n        }\r\n        this.PathHover = this.PathHover.bind(this);\r\n    }\r\n\r\n    PathHover(){\r\n        // console.log(\"pathHover\");\r\n        this.setState({\r\n            PathHovered : !this.state.PathHovered,\r\n        });\r\n    }\r\n    \r\n    render() {\r\n        // console.log(\"learingmap\",this.props);\r\n        return (\r\n            <svg>\r\n                <defs>\r\n                <marker id=\"CardinalMarker\" viewBox=\"0 -5 10 10\" refX=\"10\" refY=\"0\" markerWidth=\"3\" markerHeight=\"3\" orient=\"auto\">\r\n                <path d=\"M0,-5L10,0L0,5\"/>\r\n                </marker>\r\n                </defs>\r\n                <path \r\n                    d={line(this.props.data)}\r\n                    style={styles.path}\r\n                    opacity={this.state.PathHovered?1:0.3}\r\n                    onMouseEnter ={this.PathHover.bind(this)}\r\n                    onMouseLeave ={this.PathHover.bind(this)}\r\n                    markerEnd={\"url(#CardinalMarker)\"}\r\n                >\r\n                </path>\r\n            </svg>\r\n        );\r\n    }\r\n    \r\n}\r\nexport default CardinalPath;","// refer to : http://davidstutz.github.io/d3-topological/\r\n//refer to : https://github.com/davidstutz/d3-topological/blob/master/index.html\r\n\r\nimport React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport * as d3 from \"d3\";\r\nimport CardinalPath from \"./CardinalPath\";\r\n\r\nvar cx = 45;//\r\nvar radius = 6;\r\n\r\nconst styles = ({\r\n    conceptSeqGraph:{\r\n        paddingTop: 10,\r\n        marginTop:10,\r\n        width:250,\r\n        // height:900,\r\n    },\r\n    label:{\r\n        // fontSize:16,\r\n    },\r\n    circle:{\r\n        cursor: \"pointer\"\r\n    }\r\n});\r\nconst enterNode = (selection) => {\r\n    selection.select('circle')\r\n         .attr(\"r\", 20)\r\n        // .style(\"fill\", function(d) { return '#009FCC' })\r\n\r\n    selection.select('text')\r\n        .attr(\"dx\", 15)\r\n        .attr(\"dy\", 18)\r\n        .style(\"fontSize\", \"12\")\r\n        // .style(\"transform\", \"translateX(-50%,-50%\")\r\n};\r\nfunction ylocation(index) {\r\n    return index*60 + 15 ; \r\n}\r\n\r\nfunction calculatePath(dependencies,c_sequences,side){\r\n    var result = []\r\n    if(side===\"left\"){\r\n        var xloc = cx - radius;\r\n        var xloc_mid = cx - 40 ;\r\n    }else if (side==\"right\"){\r\n        var xloc = cx + radius;\r\n        var xloc_mid = cx + 45 ;\r\n    }\r\n    // console.log(\"dependencies\",dependencies,c_sequences);\r\n    Object.keys(dependencies).map(function(key) {\r\n        var v = dependencies[key].map((index2)=>{\r\n            var num1 = c_sequences.indexOf(parseInt(key));\r\n            var num2 = c_sequences.indexOf(index2);\r\n            result.push( {\r\n                points:[\r\n                    {\r\n                        x: xloc,//cx - radius,\r\n                        y: ylocation(num1),\r\n                    }, {\r\n                        x: xloc_mid,//cx - 60 ,\r\n                        y: (ylocation(num1) + ylocation(num2))/2,\r\n                    }, {\r\n                        x: xloc,//cx -radius,\r\n                        y: ylocation(num2),\r\n                    }\r\n                ]\r\n            });\r\n        });\r\n    });\r\n    return result;\r\n}     \r\nfunction TextStyle(HighlightConcepts,index){\r\n    if(HighlightConcepts!=null){\r\n        if(HighlightConcepts.includes(index)){\r\n            // return {fill:\"red\"};\r\n            return {textShadow:\"0px 0px 15px #ff7575,0px 0px 15px #ff5151\"};\r\n        }else{\r\n            return  {fill:\"black\"};\r\n        }\r\n    }\r\n    return {fill:\"black\"};\r\n}\r\n\r\n\r\nclass ConceptSequence extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            PathHovered: false,\r\n        };\r\n        this.PathHover = this.PathHover.bind(this);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    componentWillMount(){\r\n        var circles = d3.select('#topological')\r\n                        .selectAll('circle');\r\n    }\r\n    PathHover(){\r\n        this.setState({\r\n            PathHovered: true,\r\n        })\r\n    }\r\n    handleClick(e,number,name){\r\n        console.log(\"[click],ConceptSequenceNode\",\",\",name,\",\",number,\",\",e);\r\n        this.props.SetBigCircleIndex(e);\r\n    };\r\n    ClickedNode(highlight,cx,cy){\r\n        if(highlight==true){\r\n            return(\r\n                <circle \r\n                    cx={cx}\r\n                    cy={cy}\r\n                    fill=\"#AAAAAA\"    \r\n                    r={15}\r\n                    opacity={0.4} >  \r\n                    </circle>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var this_tmp = this;\r\n        \r\n        // console.log(\"thisprops\",this.props.BFSinput,this.props.c_index,this.props.concepts,this.props.concept_sequences);\r\n        if(this.props.c_index!=null){\r\n            var c_sequences = this.props.concept_sequences[this.props.c_index];\r\n            if(c_sequences[0]==\"cycle\"){\r\n                return(\r\n                    <p>cycle!</p>\r\n                )\r\n            }\r\n            // console.log(this.props.BFSinput[this.props.c_index]);\r\n            var nodes = c_sequences.map( (conceptnode,number) => {\r\n                // console.log(\"CheckConceptSeq\",conceptnode,this.props.BigCircleIndex);\r\n                return (\r\n                    <svg key={\"conceptSeqnode\"+number}>\r\n                    <circle key={conceptnode+number} \r\n                        cx={cx} \r\n                        cy={ylocation(number)} \r\n                        r={radius}\r\n                        style={styles.circle}\r\n                        fill={this.props.c_index===conceptnode?'\t#444444':'#009FCC'}//fill=\"#009FCC\" \r\n                        onClick={this.handleClick.bind(this,conceptnode,number,this.props.concepts[conceptnode].name)}\r\n                    >      \r\n                    </circle>\r\n                    {this.ClickedNode(this.props.BigCircleIndex==null?conceptnode==this.props.c_index:conceptnode==this.props.BigCircleIndex,cx,ylocation(number))}\r\n                    <text  x={cx+10} y={ylocation(number)+4} style={TextStyle(this.props.HighlightConceptIndex,this.props.concepts[conceptnode].index)}>{this.props.concepts[conceptnode].name} </text>\r\n                    </svg>\r\n                );\r\n            });\r\n            var dependencies = this.props.BFSinput[this.props.c_index];\r\n            var pathsdata = calculatePath(dependencies,c_sequences,\"left\");\r\n            var paths = Object.keys(pathsdata).map(function(key) {\r\n                // console.log(\"checkpath\",pathsdata[key]);\r\n                return(\r\n                    <CardinalPath key={\"cardinalpath\"+key} data={pathsdata[key].points} style = {styles.path}/>\r\n                )\r\n                \r\n            });\r\n            // console.log(this.props.RemovedCycleLinks[this.props.c_index]);\r\n            var cycle_pathsdata = calculatePath(this.props.RemovedCycleLinks[this.props.c_index],c_sequences,\"right\");\r\n            var cycle_paths = Object.keys(cycle_pathsdata).map(function(key) {\r\n                // console.log(\"checkpath\",pathsdata[key]);\r\n                return(\r\n                    <CardinalPath key={\"cyclepath\"+key} data={cycle_pathsdata[key].points} style = {styles.path}/>\r\n                )\r\n                \r\n            });\r\n           \r\n            return(\r\n                <div id=\"topological\" >\r\n                    <svg className=\"ConceptSeqGraph\" height={60*c_sequences.length} style ={styles.conceptSeqGraph} >\r\n                        <g>\r\n                            {nodes}\r\n                            \r\n                        </g>\r\n                        <g>\r\n                            {paths}\r\n                        </g>\r\n                        <g>\r\n                            {cycle_paths}\r\n                        </g>\r\n                    </svg>\r\n                </div>\r\n            )\r\n        }\r\n        return (\r\n            <p>{this.props.c_index}</p>\r\n            \r\n        );\r\n    }\r\n}\r\nexport default ConceptSequence;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport * as d3 from \"d3\";\r\n// import { typography } from 'material-ui/styles';\r\n\r\nconst styles = ({\r\n    root: {\r\n        // width: 200,\r\n        // height:800,\r\n        position: 'absolute',\r\n        top:120,\r\n        left: 30,\r\n        zIndex: 5,\r\n      },\r\n      heading:{\r\n        fontSize:14,\r\n    },\r\n      constainer:{\r\n        display: 'flex',\r\n        flexDirection: \"column\",\r\n        flexWrap: 'wrap',\r\n      },\r\n      ColorLegend:{\r\n        display: 'flex',\r\n        flexDirection: \"column\",\r\n        flexWrap: 'wrap',\r\n      },\r\n      VideoNodesText:{\r\n        textAnchor:'end'\r\n      },\r\n      \r\n      heading2:{\r\n        fontSize:14,\r\n        fontWeight: \"bold\",\r\n        paddingTop:5,\r\n        paddingBottom:5\r\n    },\r\n});\r\nvar TermCountRange = [];\r\nclass Legend extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.state = {\r\n        //     chipdata:this.props.SearchHistory,\r\n        //     SearchKeyword : null,\r\n        // }\r\n        // this.RenderSentcircles = this.RenderSentcircles.bind(this);\r\n    }\r\n\r\n    VideoRadius(index){\r\n        return (38-(index*2.5))\r\n    };\r\n    // RenderSentcircles(){\r\n    //     for (var index = 1; index <8; index++) {\r\n    //         return(\r\n    //             <svg>\r\n    //             <circle fill=\"red\" r=\"3\" cx=\"5\" cy=\"5\"> </circle>\r\n    //             </svg>\r\n    //     );  \r\n    //     }\r\n        \r\n\r\n    // }\r\n    RenderCircle(){\r\n        var MaxRadius=44;\r\n        var numOfCircle=7;\r\n        \r\n    }\r\n    \r\n    \r\n    render() {\r\n        // console.log(\"Legend\",this.props.Path_ConceptIndex);\r\n        //Concept Node\r\n        var scaleX = d3.scaleLinear()\r\n                 .range([6,15])\r\n                 .domain([0,5]);\r\n\r\n        var ConceptNodes=[0,1,2,3,4,5];\r\n        var ConceptNodesCircle = ConceptNodes.map( (index) => {\r\n            return (\r\n                <g key={\"SentcirclesLegend\"+index}>\r\n                <circle cx={10+index*30} cy={40} r={scaleX(index)} fill=\"#555\" opacity=\"0.4\" > </circle>\r\n                </g>\r\n            );\r\n        });\r\n        //Video Node\r\n        var VideoNodes=[0,1,2,3,4,5,6];\r\n        var MaxRadius=44;\r\n        var VideoNodesCircle = VideoNodes.map( (index) => {\r\n            return (\r\n                \r\n                <g key={\"VideoNodesCircle\"+index}>\r\n                <circle \r\n                    cx=\"50\" cy={50+index*2.5} \r\n                    r={MaxRadius-index*2.5} \r\n                    fill=\"none\" \r\n                    opacity=\"0.7\" \r\n                    stroke=\"#666666\" \r\n                    strokeWidth=\"1\"\r\n                    strokeDasharray=\"1\">\r\n                </circle>\r\n                </g>\r\n            );\r\n        });\r\n        if(this.props.Path_ConceptIndex==null){\r\n            return(\r\n                <div style={styles.root}>\r\n                    <ExpansionPanel defaultExpanded={true}>\r\n                        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                        <Typography style={styles.heading}>Legend</Typography>\r\n                        </ExpansionPanelSummary>\r\n                        <ExpansionPanelDetails>\r\n                            <div style={styles.container}>\r\n                                {/* <div ><hr></hr></div> */}\r\n                                <div style={styles.ColorLegend}>\r\n                                    {/* <Typography style={styles.heading2}>Concept Nodes</Typography> */}\r\n                                    <svg height=\"80\" width=\"200\">\r\n                                    <text   y=\"15\" fill=\"black\">Term Frequency</text>\r\n                                    {ConceptNodesCircle}\r\n                                    <text   y=\"75\" fill=\"#888888\">{(this.props.ConceptRange[0]/this.props.ConceptRange[2]).toFixed(2)}</text>\r\n                                    <text x=\"145\" y=\"75\" fill=\"#888888\">{(this.props.ConceptRange[1]/this.props.ConceptRange[2]).toFixed(2)}</text>\r\n                                    </svg>\r\n                                    {/* <div ><hr></hr></div> */}\r\n                                </div>\r\n                            </div>\r\n                        </ExpansionPanelDetails>\r\n                </ExpansionPanel>\r\n            </div>\r\n            );\r\n        }else{\r\n            var tmpList = [];\r\n            for(var e in this.props.data[this.props.BigCircleIndex].videos_id){\r\n                tmpList.push(this.props.data[this.props.BigCircleIndex].videos_id[e][1]);\r\n            };\r\n            // console.log(\"TermCount\",tmpList);\r\n            TermCountRange=[Math.min(...tmpList),Math.max(...tmpList)];\r\n            \r\n            return(\r\n                <div style={styles.root}>\r\n                    <ExpansionPanel>\r\n                        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                        <Typography style={styles.heading}>Legend</Typography>\r\n                        </ExpansionPanelSummary>\r\n                        <ExpansionPanelDetails>\r\n                            <div style={styles.container}>\r\n                                <div style={styles.ColorLegend}>\r\n                                    {/* <Typography style={styles.heading2}>Video Nodes</Typography> */}\r\n                                    <svg height=\"30\" width=\"200\">\r\n                                        <text y=\"15\" fill=\"black\">Term Count</text>\r\n                                    </svg>\r\n                                    <svg height=\"100\" width=\"200\">\r\n                                        {VideoNodesCircle}\r\n                                        {/* <text x=\"180\" y=\"25\" fill=\"grey\" style={styles.VideoNodesText}> Relevance to the concept</text> */}\r\n                                        <text x=\"150\" y=\"55\" fill=\"#888888\" style={styles.VideoNodesText}> {TermCountRange[1]}</text>\r\n                                        <text x=\"150\" y={55+2.5*6} fill=\"#888888\" style={styles.VideoNodesText}>{TermCountRange[0]}</text>\r\n                                        <line x1={50+MaxRadius} x2={120} y1=\"50\" y2=\"50\" stroke=\"#888888\" ></line>\r\n                                        <line x1={50+MaxRadius-2.5*6} x2={120} y1={50+2.5*6} y2={50+2.5*6} stroke=\"#888888\" ></line>\r\n                                    </svg>\r\n                                </div>\r\n                                <div style={styles.ColorLegend}>\r\n                                    <svg height=\"20\" width=\"200\">\r\n                                    <text   y=\"15\" fill=\"black\">Sentiment</text>\r\n                                    </svg>\r\n                                    <svg height=\"50\" width=\"200\">\r\n                                        <defs>\r\n                                            <linearGradient id=\"ColorLegend\" >\r\n                                                <stop offset=\"5%\"  stopColor=\"red\"/>\r\n                                                <stop offset=\"50%\" stopColor=\"yellow\"/>\r\n                                                <stop offset=\"90%\" stopColor=\"#006030\"/>\r\n                                            </linearGradient>\r\n                                        </defs>\r\n                                        <rect fill=\"url(#ColorLegend)\" opacity=\"0.7\"\r\n                                            y=\"15\" width=\"190\" height=\"15\" />\r\n                                        <text   y=\"45\" fill=\"#888888\">Negative</text>\r\n                                        <text x=\"145\" y=\"45\" fill=\"#888888\">Positive</text>\r\n                                    </svg>\r\n                                </div>\r\n                            </div>\r\n                            {/* {Sentcircles} */}\r\n                        </ExpansionPanelDetails>\r\n                </ExpansionPanel>\r\n            </div>\r\n            );\r\n        }\r\n    }\r\n    \r\n}\r\nexport default Legend;","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { PropTypes } from 'prop-types';\n// import ExpansionPanel from '@material-ui/core/ExpansionPanel';\n// import ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n// import ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\n// import ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport Typography from '@material-ui/core/Typography';\nimport * as d3 from \"d3\";\nimport { TagCloud } from \"react-tagcloud\";\n\nconst styles = ({\n    // root: {\n    //     // width: 200,\n    //     // height:800,\n    //     position: 'absolute',\n    //     left: 600,\n    //     zIndex: 5,\n    //   },\n    //   heading:{\n    //     fontSize:14,\n    // },\n    //   constainer:{\n    //     display: 'flex',\n    //     flexDirection: \"column\",\n    //     flexWrap: 'wrap',\n    //   },\n    //   ColorLegend:{\n    //     display: 'flex',\n    //     flexDirection: \"column\",\n    //     flexWrap: 'wrap',\n    //   },\n    //   VideoNodesText:{\n    //     textAnchor:'end'\n    //   },\n      \n    //   heading2:{\n    //     fontSize:14,\n    //     fontWeight: \"bold\",\n    //     paddingTop:5,\n    //     paddingBottom:5\n    // },\n});\n\nclass WordCloud extends Component {\n    constructor(props) {\n        super(props);\n        // this.state = {\n        //     chipdata:this.props.SearchHistory,\n        //     SearchKeyword : null,\n        // }\n        // this.RenderSentcircles = this.RenderSentcircles.bind(this);\n    }\n    \n    \n    render() {\n        // console.log(\"wordcloud\",this.props);\n        if(this.props.videos_info[this.props.HoverVideoIndex]!=undefined){\n            var data=[];\n            for (var index in this.props.videos_info[this.props.HoverVideoIndex].concepts){\n                if(index<10){\n                    data.push({\n                        value:this.props.videos_info[this.props.HoverVideoIndex].concepts[index][0],\n                        count:this.props.videos_info[this.props.HoverVideoIndex].concepts[index][1]\n                    })\n                }\n            }\n            // console.log(\"Clouddata2\",data);\n        }else{\n            data=[];\n        }\n        \n\n        return (\n            <div style={styles.root}>\n            <TagCloud \n                    minSize={1}\n                    maxSize={35}\n                    tags={data}\n                    style={{color:\"grey\",width: 200,height:100,fontSize: 10}}\n                    disableRandomColor={true}\n            />\n        \n            </div>\n        );\n    }\n    \n}\nexport default WordCloud;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport * as d3 from \"d3\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport MarkerIcon from './MarkerIcon';\r\nimport YoutubeIcon from './youtube.png';\r\nconst BigCircleRadius = 130;//150\r\nvar MarkerIndex=[];\r\n// import { withStyles } from '@material-ui/core/styles';\r\nconst styles = {\r\n    circle: {\r\n        cursor: \"pointer\",\r\n        // fill:\"red\",\r\n    }, \r\n    ConceptBigCircle:{\r\n        // fill:\"#B2DFDB\",\r\n        fill: \"#D4D4D4\",\r\n        opacity: 0.55,\r\n        // cursor: \"pointer\",\r\n    },\r\n    Sentcircle:{\r\n        opacity: 0.7,\r\n    },\r\n    conceptlabel:{\r\n        // fontFamily:\"EB Garamond\",\r\n        fontSize:15,\r\n        textAnchor:\"middle\",\r\n        fontStyle:\"italic\",\r\n        textShadow:\"2px 2px 4px #888\"\r\n    },\r\n    timeLabel:{\r\n        fontSize:12,\r\n        fill:\"white\",\r\n        fontFamily:\"Gadugi\",\r\n    },\r\n    videotooptip:{\r\n        maxWidth: 15\r\n    },\r\n    videotooptip_label1:{\r\n        fontSize:14,\r\n        maxWidth: 250,\r\n        // wordBreak: \"break-all\",\r\n        lineHeight: \"17px\",\r\n    },\r\n    videotooptip_label2:{\r\n        fontSize:12,\r\n        maxWidth: 137,\r\n        maxHeight:30,\r\n        overflow : \"hidden\",\r\n        textOverflow : \"ellipsis\",\r\n        whiteSpace : \"nowrap\",\r\n        // wordBreak: \"break-all\",\r\n        lineHeight: \"15px\",\r\n    }\r\n  };\r\n\r\n  \r\n  function CircleShadow(Hightlight){\r\n    if(Hightlight){\r\n        return{stroke:\"#ff7575\", strokeWidth:3, strokeOpacity:0.8};\r\n    }\r\n    else{\r\n        return{};\r\n    }\r\n}\r\n  \r\n\r\nclass RelatedVideosPanel extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tooltip_open:false,\r\n            // markIndex:[], // if markerlabel already have\r\n            // anchorEl: null,\r\n            // NodeClicked: false\r\n        };\r\n        this.Location = this.Location.bind(this);\r\n        this.VideoRadius = this.VideoRadius.bind(this);\r\n        // this.handleClose = this.handleClose.bind(this);\r\n        this.handleHover = this.handleHover.bind(this);\r\n        this.handleHoverOut = this.handleHoverOut.bind(this);   \r\n        this.videoClick = this.videoClick.bind(this);\r\n        this.YoutubeIconClick = this.YoutubeIconClick.bind(this);\r\n        // this.CheckMarkerIndex = this.CheckMarkerIndex.bind(this);  \r\n        this.RenderNumMarker = this.RenderNumMarker.bind(this);  \r\n        \r\n    }\r\n    \r\n    componentWillMount(){\r\n        MarkerIndex=[];\r\n    }\r\n    componentWillUpdate(prevProps) {\r\n        // Typical usage (don't forget to compare props):\r\n        if (this.props.data !== prevProps.data) {\r\n            MarkerIndex=[];\r\n        }\r\n      }\r\n\r\n    Location(index,numNodes,r){\r\n        var radius = r + index *2.5;// var radius = 100 + index *2.5;\r\n        var angle = (index / (numNodes/2)) * Math.PI - 1/2*Math.PI;\r\n        var cx = (radius * Math.cos(angle));\r\n        var cy = (radius * Math.sin(angle));\r\n        return [cx,cy];\r\n    }\r\n    VideoRadius(index){\r\n        // return (44-(index*2.5));\r\n        return (38-(index*2.5));\r\n    }\r\n    SentimentColor(score){\r\n        // console.log(this.props.SentRange);\r\n        var sentmin = this.props.SentRange[0]<0? this.props.SentRange[0]:-0.1;\r\n        var color = d3.scaleLinear()\r\n            .domain([sentmin,0,this.props.SentRange[1]-0.1])\r\n            .range([\"red\",\"yellow\", \"green\"])\r\n            .interpolate(d3.interpolateHcl);\r\n        return color(score);      \r\n    }\r\n    \r\n    // handleClose(){\r\n    //     this.props.SetPopoverIndexes(\"remove\",this.props.data.index);\r\n    // }\r\n    handleHover(vid,index){\r\n        console.log(\"[hover],RelatedVideos\",\",\",vid,\",\",index);\r\n        this.props.SetHoverVideoIndex(vid);\r\n    }\r\n    videoClick(vid,index){\r\n        console.log(\"[click],RelatedVideos\",\",\",vid,\",\",index);\r\n    }\r\n    handleHoverOut(){\r\n        this.props.SetHoverVideoIndex(null);\r\n    }\r\n\r\n    SentimentColor(score){\r\n        var sentmin = this.props.SentRange[0]<0? this.props.SentRange[0]:-0.1;\r\n        var color = d3.scaleLinear()\r\n            .domain([sentmin,0,this.props.SentRange[1]-0.1])\r\n            .range([\"red\",\"yellow\", \"green\"])\r\n            .interpolate(d3.interpolateHcl);\r\n        return color(score);      \r\n    }\r\n    TimeProcess(str){\r\n        if (str.indexOf('S') > -1){\r\n            return str.replace(\"PT\",\"\").replace(\"H\",\":\").replace(\"M\",\":\").replace(\"S\",\"\");\r\n        }else{\r\n            return str.replace(\"PT\",\"\").replace(\"H\",\":\").replace(\"M\",\":00\");\r\n        }\r\n    }\r\n    CheckMarkerIndex(index,num){\r\n        if ((index==0 && num>0)||(index==1 && num>0)){\r\n            \r\n            MarkerIndex.push(index);\r\n            // console.log(\"MarkerIndex\",MarkerIndex);\r\n            // this.setState({\r\n            //     markIndex: [...this.state.markIndex, index]\r\n            // });\r\n        }\r\n    }\r\n    RenderNumMarker(vid,index,num,x,y,userFeedbackScore){\r\n        // console.log(\"RenderNumMarker\",vid,index,num);\r\n        x = (x-13)-13;\r\n        y = (y-13)-18;\r\n        if (index==0 && num>0 && MarkerIndex[0]==index){\r\n            // this.props.setFlag(true);\r\n            return(\r\n                <MarkerIcon \r\n                    cx={x}\r\n                    cy={y}\r\n                    text={num} \r\n                    radius={13}\r\n                    // color={\"#21435F\"}\r\n                    color={this.SentimentColor(userFeedbackScore)}\r\n                />\r\n            );\r\n        }else if (index==1 && num>0 &&MarkerIndex[0]==index){\r\n            // this.props.setFlag(true);\r\n            return(\r\n                <MarkerIcon \r\n                    cx={x}\r\n                    cy={y}\r\n                    text={num} \r\n                    radius={13}\r\n                    color={this.SentimentColor(userFeedbackScore)}\r\n                    // color={this.SentimentColor(this.props.video_info[vid].userFeedbackScore)}\r\n                />\r\n            )\r\n        }else{\r\n            return null\r\n        }\r\n    }\r\n    YoutubeIconClick(){\r\n        console.log(\"[click],YoutubeSearch\",\",\",this.props.data.name);\r\n    }\r\n    render() {\r\n        // console.log(\"check data\",this.props.video_sequences);\r\n        var vlist=[]\r\n        if (this.props.video_sequences!=undefined){\r\n            for (var i=0;i<this.props.video_sequences.length;i++) {\r\n                vlist.push(this.props.video_sequences[i][0])\r\n            }\r\n        }\r\n        var width = BigCircleRadius*2;//+60\r\n        var height = width;\r\n        var center= width/2;\r\n        if(this.props.data!=undefined){\r\n            // console.log(\"RelatedVideodata\",this.props);\r\n            var numNodes = this.props.data.videos_id.length;\r\n            var video_info = this.props.video_info;\r\n            var LikesList=[]\r\n            this.props.data.videos_id.map( ([vid,cnnt],index) => {LikesList.push(video_info[vid].likeCount);});\r\n            var likesRange=[Math.min(...LikesList),Math.max(...LikesList)];\r\n            var flag=0;\r\n            var ShowVideoLinks = this.props.data.videos_id.map( ([vid,cnnt],index) => {\r\n                // console.log(index,vid,vlist.indexOf(vid));\r\n                // console.log(\"video_info[vid].userFeedbackScore\",video_info[vid].userFeedbackScore);\r\n                return(\r\n                    <g key={\"PopoverNode\"+index}>\r\n                        <Tooltip title={<div style={this.state.tooltip_open?styles.videotooptip_label2:styles.videotooptip_label1}\r\n                        enterTouchDelay={0}\r\n                        >\r\n                        {/* {this.props.video_info[vid].title.length>38?this.props.video_info[vid].title.substring(0,38)+\"...\":this.props.video_info[vid].title} */}\r\n                        {this.state.tooltip_open?this.props.video_info[vid].title+\"...\":this.props.video_info[vid].title}\r\n                        </div>} \r\n                            placement=\"top\"\r\n                            open={this.state.tooltip_open?true:null}\r\n                            >\r\n                        <a xlinkHref={\"https://www.youtube.com/watch?v=\"+vid} target=\"_blank\" >\r\n                            <circle key={vid} \r\n                                cx={center+this.Location(index,numNodes,83)[0]} \r\n                                cy={center+this.Location(index,numNodes,83)[1]} \r\n                                r = {this.VideoRadius(index)}\r\n                                fill={this.SentimentColor(video_info[vid].userFeedbackScore)} \r\n                                // style={styles.Sentcircle} \r\n                                style = {Object.assign({}, styles.Sentcircle, CircleShadow(vid===this.props.HoverVideoIndex))}    \r\n                            >\r\n                            </circle>\r\n                            \r\n                            <pattern id = {\"attachedImage\"+vid} height = \"150%\" width = \"150%\" patternContentUnits = \"objectBoundingBox\">\r\n                            <image xlinkHref = {video_info[vid][\"thumbnail\"]} preserveAspectRatio = \"xMidYMid meet\" width = \"1.5\" style={styles.img}/>\r\n                            </pattern>\r\n                            <circle key={vid+\"img\"} \r\n                                cx={center+this.Location(index,numNodes,83)[0]} \r\n                                cy={center+this.Location(index,numNodes,83)[1]} \r\n                                // r={styles.OuterCircle.r-7} \r\n                                r={this.VideoRadius(index)-6} \r\n                                fill={\"url(#attachedImage\"+vid+\")\"} \r\n                                style = {styles.circle} \r\n                                onMouseOver={this.handleHover.bind(this,vid,index)}\r\n                                onMouseOut={this.handleHoverOut.bind(this)} \r\n                                onClick={this.videoClick.bind(this,vid,index)}\r\n                            >\r\n                            </circle>\r\n                        </a>\r\n                        </Tooltip>\r\n                        \r\n                        <rect  x={center+this.Location(index,numNodes,83)[0]-18} \r\n                            y={center+this.Location(index,numNodes,83)[1]+this.VideoRadius(index)-18} \r\n                            width=\"37\" height=\"15\"\r\n                            rx=\"3\"\r\n                            ry=\"3\"\r\n                            style={{full:\"#888888\", opacity: 0.7}}> \r\n                        </rect>\r\n                        <text\r\n                            x={center+this.Location(index,numNodes,83)[0]} \r\n                            y={center+this.Location(index,numNodes,83)[1]+this.VideoRadius(index)-6}\r\n                            textAnchor=\"middle\"\r\n                            style={styles.timeLabel}\r\n                        >{this.TimeProcess(this.props.video_info[vid].duration)}\r\n                        </text>\r\n                        <pattern id = {\"YoutubeImage\"+vid} height = \"100%\" width = \"100%\" patternContentUnits = \"objectBoundingBox\">\r\n                            <image xlinkHref = {YoutubeIcon} preserveAspectRatio = \"xMidYMid meet\" width = \"1\"/>\r\n                        </pattern>\r\n                        \r\n                        <text \r\n                            style={styles.conceptlabel} \r\n                            // dx=\"5\" dy=\"8\"\r\n                            x={center} y={center}   \r\n                        >  \r\n                            {this.props.data.name}\r\n                        </text> \r\n                        {/* Youtube Search Icon */}\r\n                        <a xlinkHref={\"https://www.youtube.com/results?search_query=\"+this.props.data.name} target=\"_blank\" >\r\n                            <rect \r\n                                width=\"28\" \r\n                                height=\"26\"\r\n                                fill={\"url(#YoutubeImage\"+vid+\")\"} \r\n                                x={center-13} y={center+10}  \r\n                                style = {styles.circle} \r\n                                onClick={this.YoutubeIconClick.bind(this)}\r\n                                >\r\n                                <title>Search on Youtube</title>\r\n                            </rect>\r\n                        </a>\r\n                        {this.CheckMarkerIndex(index,vlist.indexOf(vid)+1)}\r\n                        {/* {this.RenderNumMarker(vid,index,vlist.indexOf(vid)+1,center+this.Location(index,numNodes,83)[0],center+this.Location(index,numNodes,83)[1],this.props.video_info[vid].userFeedbackScore)} */}\r\n                    </g>\r\n                )\r\n                \r\n            });\r\n            var ShowMarkerIcons = this.props.data.videos_id.map( ([vid,cnnt],index) => {\r\n                return(\r\n                    <g key={\"ShowMarkerIcons\"+index}> \r\n                        {this.RenderNumMarker(vid,index,vlist.indexOf(vid)+1,center+this.Location(index,numNodes,83)[0],center+this.Location(index,numNodes,83)[1],this.props.video_info[vid].userFeedbackScore)}\r\n                    </g>\r\n                )\r\n                \r\n            });\r\n            return (\r\n                <svg width={width} height={height}>\r\n                <g className='node'>\r\n                    <circle \r\n                        // onClick={this.handleClose.bind(this)}\r\n                        cx={center}\r\n                        cy={center}\r\n                        r={BigCircleRadius} \r\n                        style = {styles.ConceptBigCircle}>  \r\n                    </circle>\r\n                    {ShowVideoLinks}\r\n                    {ShowMarkerIcons}\r\n                </g>\r\n                </svg>\r\n            );\r\n        }\r\n        return (\r\n            <g className='node'  >\r\n                {/* <circle  ref=\"dragMe\" onClick={this.handleClose.bind(this)} r={\"150\"} style = {styles.ConceptBigCircle}></circle> */}\r\n                {/* {ShowVideoLinks} */}\r\n            </g>\r\n        );\r\n    }\r\n}\r\nexport default RelatedVideosPanel;","export default \"data:image/png;base64,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\"","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport VideoSequence from './VideoSequence';\r\nimport ConceptSequence from './ConceptSequence';\r\nimport RelatedVideosPanel from './RelatedVideosPanel'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\n/* editor component */\r\nimport SunEditor from 'suneditor-react';\r\nimport 'suneditor/dist/css/suneditor.min.css'; // Import Sun Editor's CSS File\r\n\r\nconst styles = ({\r\n    rootTitle:{\r\n        // margin:10,\r\n        paddingBottom:20,\r\n        textAlign:\"center\",\r\n        fontSize:20,\r\n        fontFamily:\"Cambria\"\r\n    },\r\n    containerTitle:{\r\n        display:\"flex\",\r\n        fontSize:14,\r\n        fontWeight:\"bold\"\r\n    },\r\n    OuterContainer: {\r\n        display: 'flex',\r\n        flexDirection: \"row\",\r\n        position:\"absolute\",\r\n        // left:930,\r\n        right:'0%',\r\n        flexWrap: 'no-wrap',\r\n        zIndex:6\r\n        // margin:10,\r\n        // padding:10\r\n    },\r\n  \r\n  paper2: {\r\n    width: 520,\r\n    // height: 850,\r\n    overflowX: \"hidden\",\r\n    overflowY: \"scroll\",\r\n    padding: 15,\r\n    margin : 15,\r\n  },\r\n  paper2_UpperContainer: {\r\n    display: 'flex',\r\n    flexDirection: \"column\",\r\n  },\r\n  paper2_BelowContainer: {\r\n    display: 'flex',\r\n    flexDirection: \"row\",\r\n  },\r\n  container3_1: {\r\n    width: 225,\r\n    // height: 500,\r\n  },\r\n  container3_2: {\r\n    width: 265,\r\n    // height: 500,\r\n  },\r\n  CloseBotton: {\r\n    // marginLeft: 5,\r\n    float:\"right\",\r\n    marginRight: 1,\r\n\r\n  },\r\n  content:{\r\n    // display: \"block\",\r\n    margin: \"auto\",\r\n    display:\"flex\"\r\n  }\r\n});\r\n\r\nclass ConceptDetailPanel extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.CloseOnClick = this.CloseOnClick.bind(this);\r\n    }\r\n    CloseOnClick(){\r\n        this.props.SetPath_ConceptIndex(\"clear\",null);\r\n    }\r\n    render() {\r\n\r\n        if(this.props.Path_ConceptIndex!=null){\r\n            return (\r\n                <div style = {styles.OuterContainer}>\r\n                    {/* <Paper style={styles.paper2} elevation={13}> */}\r\n                    <Paper style= {Object.assign({}, styles.paper2, {height:window.innerHeight-130})} elevation={13}>\r\n                    <div style={styles.rootTitle}>\r\n                    {this.props.data.concept_relationship.nodes[this.props.Path_ConceptIndex].name}\r\n                    <IconButton style={styles.CloseBotton} color=\"inherit\" aria-label=\"Close\">\r\n                        <CloseIcon onClick={this.CloseOnClick.bind(this)}/>\r\n                    </IconButton>\r\n                    </div>\r\n                    <div style = {styles.paper2_UpperContainer}>\r\n                        <div style={styles.containerTitle}> Video Ring</div>\r\n                        <div style={styles.content}>\r\n                        <g>\r\n                            <RelatedVideosPanel \r\n                                data={this.props.BigCircleIndex==null?this.props.data.concept_relationship.nodes[this.props.Path_ConceptIndex]:this.props.data.concept_relationship.nodes[this.props.BigCircleIndex]}\r\n                                video_info = {this.props.data.videos_info}\r\n                                concept_index={this.props.BigCircleIndex}// concept_index={this.props.Path_ConceptIndex}\r\n                                // SetPopoverIndexes = {this.props.SetPopoverIndexes}\r\n                                SentRange = {this.props.SentRange}\r\n                                SetHoverVideoIndex = {this.props.SetHoverVideoIndex}\r\n                                HoverVideoIndex = {this.props.HoverVideoIndex}\r\n                                video_sequences={this.props.data.video_sequences[this.props.Path_ConceptIndex]}\r\n                            />\r\n                        </g>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div height=\"5\"><hr></hr></div>\r\n                    <div style = {styles.paper2_BelowContainer}>\r\n                        <div style = {styles.container3_1}>\r\n                        {/* <div style = {Object.assign({}, styles.container3_1, {height:window.innerHeight-900})}> */}\r\n                        \r\n                            <div style={styles.containerTitle}> Concept Path </div>\r\n                            <ConceptSequence  \r\n                                    c_index = {this.props.Path_ConceptIndex} \r\n                                    BFSinput={this.props.data.BFSinput} \r\n                                    RemovedCycleLinks = {this.props.data.RemovedCycleLinks}\r\n                                    concepts={this.props.data.concept_relationship.nodes} \r\n                                    concept_sequences={this.props.data.concept_sequences}\r\n                                    HighlightConceptIndex={this.props.HighlightConceptTextIndex}\r\n                                    BigCircleIndex = {this.props.BigCircleIndex}\r\n                                    SetBigCircleIndex ={this.props.SetBigCircleIndex}\r\n                                    />\r\n                        </div>\r\n                        <div style = {styles.container3_2}>\r\n                        {/* <div style = {Object.assign({}, styles.container3_2, {height:window.innerHeight-900})}> */}\r\n                            <div style={styles.containerTitle}> \r\n                            Video Path\r\n                            </div>\r\n                            <VideoSequence \r\n                                video_sequences={this.props.data.video_sequences[this.props.Path_ConceptIndex]} \r\n                                video_info = {this.props.data.videos_info} \r\n                                SetHoverVideoIndex = {this.props.SetHoverVideoIndex}\r\n                                HoverVideoIndex = {this.props.HoverVideoIndex}\r\n                                SentRange = {this.props.SentRange}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    </Paper>  \r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n        \r\n    }\r\n}\r\nexport default ConceptDetailPanel;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport VideoSequence from './VideoSequence';\r\nimport ConceptSequence from './ConceptSequence';\r\nimport RelatedVideosPanel from './RelatedVideosPanel'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Graph from '../newdirected/Graph';\r\n\r\nconst styles = ({\r\n    rootTitle:{\r\n        // margin:10,\r\n        paddingBottom:20,\r\n        textAlign:\"center\",\r\n        fontSize:20,\r\n        fontFamily:\"Cambria\"\r\n    },\r\n    containerTitle:{\r\n        display:\"flex\",\r\n        fontSize:14,\r\n        fontWeight:\"bold\"\r\n    },\r\n    OuterContainer: {\r\n        display: 'flex',\r\n        flexDirection: \"row\",\r\n        position:\"absolute\",\r\n        // left:930,\r\n        right:'0%',\r\n        flexWrap: 'no-wrap',\r\n        zIndex:6,\r\n        // margin:10,\r\n        // padding:10\r\n        width:window.innerWidth - 50,\r\n        height:window.innerHeight - 100\r\n    },\r\n  \r\n  paper2: {\r\n    width: 1560,\r\n    // height: 850,\r\n    overflowX: \"hidden\",\r\n    overflowY: \"scroll\",\r\n    padding: 15,\r\n    margin : 15,\r\n  },\r\n  paper2_UpperContainer: {\r\n    display: 'flex',\r\n    flexDirection: \"column\",\r\n  },\r\n  paper2_BelowContainer: {\r\n    display: 'flex',\r\n    flexDirection: \"row\",\r\n  },\r\n  container3_1: {\r\n    width: 225,\r\n    // height: 500,\r\n  },\r\n  container3_2: {\r\n    width: 265,\r\n    // height: 500,\r\n  },\r\n  CloseBotton: {\r\n    // marginLeft: 5,\r\n    float:\"right\",\r\n    marginRight: 1,\r\n\r\n  },\r\n  content:{\r\n    // display: \"block\",\r\n    margin: \"auto\",\r\n    display:\"flex\"\r\n  }\r\n});\r\nvar SentRange = []\r\nvar ConceptRange = []\r\nclass MapApprovPanel extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.CloseOnClick = this.CloseOnClick.bind(this);\r\n        this.ApproveClicked = this.ApproveClicked.bind(this);\r\n        //console.log(\"before getting, this.props.NewJson == \", this.props.NewJson);\r\n    //for getting new json---------------------------------\r\n        /*var tmp=this;\r\n        fetch('http://localhost:8001/GetJson/')     //跟後端連結去getJson\r\n        .then(function (res) {\r\n        //    console.log(res.json());\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            tmp.props.SetNewJson(myJson);\r\n            return myJson;\r\n          });\r\n        //this.props.SetNewJson(tmp);\r\n        console.log(\"this.props.NewJson == \", this.props.NewJson);\r\n        */\r\n    }\r\n    ApproveClicked(){\r\n        fetch('https://appbackend-hci.herokuapp.com/Update/<Keyword>')     //跟後端連結去getJson\r\n            .then(function (res) {\r\n            //    console.log(res.json());\r\n                return res.json();\r\n            }).then(function(myJson) {\r\n                this.props.SetNewJson(myJson);\r\n                this.props.SetVisJson(myJson);\r\n                return myJson;\r\n            });\r\n    }\r\n        \r\n    componentDidUpdate(prevProps) {\r\n        // 常見用法（別忘了比較 prop）：\r\n        if (this.props !== prevProps) {\r\n              this.forceUpdate();\r\n        }\r\n      }\r\n      componentWillMount() {\r\n        console.log(\"[graph]\", \",\", this.props.data.search_info.key);\r\n        // console.log(\"cheeeee\",this.props.data.concept_relationship.nodes);\r\n        // calcalate SentimentScoreRange [SentScoreMin,SentScoreMax];\r\n        var tmpList = [];\r\n        for (var e in this.props.data.videos_info) {\r\n\r\n            tmpList.push(this.props.data.videos_info[e].userFeedbackScore);\r\n        };\r\n        var tmpList2 = [];\r\n        for (var e in this.props.data.concept_relationship.nodes) {\r\n            tmpList2.push(this.props.data.concept_relationship.nodes[e].count);\r\n        };\r\n        // console.log(\"SentRange\",[Math.min(...tmpList),Math.max(...tmpList)]);\r\n        // console.log(\"tmpList2\",tmpList2);\r\n        SentRange = [Math.min(...tmpList), Math.max(...tmpList)];\r\n        ConceptRange = [Math.min(...tmpList2), Math.max(...tmpList2), tmpList2.reduce((a, b) => a + b, 0)];\r\n    }\r\n    CloseOnClick(){\r\n        this.props.SetMapConsult(\"dont_ask\");\r\n    }\r\n    render() {\r\n        //console.log(\"this.props.NewJson = \", this.props.NewJson );\r\n        if(this.props.MapConsult==true){\r\n            return (\r\n                <div style = {styles.OuterContainer}>\r\n                    {/* <Paper style={styles.paper2} elevation={13}> */}\r\n                    <Paper style= {Object.assign({}, styles.paper2, {height:window.innerHeight-130})} elevation={13}>\r\n                    <div style={styles.rootTitle}>\r\n                    <h1>Map Approval Consult</h1>\r\n                    <IconButton style={styles.CloseBotton} color=\"inherit\" aria-label=\"Close\">\r\n                        <CloseIcon onClick={this.CloseOnClick.bind(this)}/>\r\n                    </IconButton>\r\n                    </div>\r\n                    <div style = {styles.paper2_UpperContainer}>\r\n                        <div style={styles.content}>\r\n                            <button onClick = {this.ApproveClicked}\r\n                                    className=\"btn btn-primary btn-lg m-5\">Approve</button>\r\n                            <button onClick = {this.CloseOnClick}\r\n                                    className=\"btn btn-danger btn-lg m-5\">Disprove</button>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div height=\"5\"><hr></hr></div>\r\n                    <div style = {styles.paper2_BelowContainer}>\r\n                        <Graph data={this.props.NewJson}\r\n                                width={(window.innerWidth)*2} height={window.innerHeight}\r\n                                SentRange={SentRange}\r\n                                ConceptRange={ConceptRange}\r\n                                src={\"ApprovPanel\"}\r\n                            />\r\n                    </div>\r\n                    </Paper>  \r\n                </div>\r\n            );\r\n        }\r\n        else{\r\n            return null;\r\n        }\r\n        \r\n        \r\n    }\r\n}\r\nexport default MapApprovPanel;\r\n\r\n//node 顏色要改，group=1 要改顏色\r\n//是是把圖畫小一點\r\n","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\nconst styles = ({\r\n    root:{\r\n        // paddingTop:50,\r\n        // marginTop:100,\r\n        fontSize:20\r\n    },\r\n    content:{\r\n        // height:100,\r\n        fontSize:13,\r\n    }\r\n});\r\n\r\nclass Notification extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.state = {\r\n        //     open:this.props.open\r\n        // }\r\n    }\r\n    // handleClose = (event, reason) => {\r\n    //     if (reason === 'clickaway') {\r\n    //       return;\r\n    //     }\r\n    \r\n    //     this.setState({ open: false });\r\n    // };\r\n    render() {\r\n        // console.log(\"learingmap\",this.props);\r\n        return (\r\n            <div style={styles.root}>\r\n                <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'left',\r\n                }}\r\n                open={this.props.open}\r\n                autoHideDuration={6000}\r\n                style={styles.content}\r\n                // onClose={this.handleClose}\r\n                // ContentProps={{\r\n                //     'aria-describedby': 'message-id',\r\n                // }}\r\n                message={<span style={styles.content} >Click A Node To See More Information</span>}\r\n                // action={[\r\n                //     <Button key=\"undo\" color=\"secondary\" size=\"small\" onClick={this.handleClose}>\r\n                //     UNDO\r\n                //     </Button>,\r\n                //     <IconButton\r\n                //     key=\"close\"\r\n                //     aria-label=\"Close\"\r\n                //     color=\"inherit\"\r\n                //     className={classes.close}\r\n                //     onClick={this.handleClose}\r\n                //     >\r\n                //     <CloseIcon />\r\n                //     </IconButton>,\r\n                // ]}\r\n            />\r\n        </div>\r\n        );\r\n        \r\n    }\r\n    \r\n}\r\nexport default Notification;","import React, { Component } from 'react';\n\n/* editor component */\nimport SunEditor,{buttonList} from 'suneditor-react';\nimport 'suneditor/dist/css/suneditor.min.css'; // Import Sun Editor's CSS File\nimport plugins from 'suneditor/src/plugins'\nimport { axisLeft } from 'd3-axis';\nimport SUNEDITOR from 'suneditor';\n//Start Connect to database----------\nif (!firebase.apps.length) {\n  firebase.initializeApp({\n    databaseURL: \"https://test-7916a-default-rtdb.asia-southeast1.firebasedatabase.app/\"\n  })\n  }else {\n  firebase.app(); // if already initialized, use that one\n  }\n\nconst mydatabase = firebase.database();\n\nvar options = {\n  buttonList: [\n      ['undo', 'redo'],\n      ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'],\n      ['removeFormat'],\n      ['outdent', 'indent'],\n      ['fullScreen', 'showBlocks', 'codeView'],\n      ['preview', 'print'],\n      ['image', 'video']\n  ],\n  width: '100%'\n}\n\n// ex) A command plugin to add \"text node\" to selection\nvar plugin_command = {\n  name: 'customCommand',\n  display: 'command',\n\n  title:'Text node change', \n  buttonClass:'', \n  // This icon uses Font Awesome\n  innerHTML:'<i class=\"fas fa-font\"></i>', \n\n  add: function (core, targetElement) {\n      const context = core.context;\n      context.customCommand_2 = {\n          targetButton: targetElement\n      };\n  },\n  active: function (element) {\n      if (!element) {\n          this.util.removeClass(this.context.customCommand_2.targetButton, 'active');\n      } else if (/^mark$/i.test(element.nodeName) && element.style.backgroundColor.length > 0) {\n          this.util.addClass(this.context.customCommand_2.targetButton, 'active');\n          return true;\n      }\n\n      return false;\n  },\n  action: function () {\n      if (!this.util.hasClass(this.context.customCommand_2.targetButton, 'active')) {\n          const newNode = this.util.createElement('MARK');\n          newNode.style.backgroundColor = 'hsl(60,75%,60%)';\n          this.nodeChange(newNode, ['background-color'], null, null);\n      } else {\n          this.nodeChange(null, ['background-color'], ['mark'], true);\n      }\n  }\n}\n\n\nclass Editor extends Component {\n\n    // Your web app's Firebase configuration\n    // For Firebase JS SDK v7.20.0 and later, measurementId is optional\n    constructor(props) {\n      super(props);\n      //this.callBackSave = this.SetHighlightNodes.bind(this);\n      this.handleChange=this.handleChange.bind(this);\n      this.onInput=this.onInput.bind(this);\n      this.save = this.save.bind(this);\n      this.getSunEditorInstance = this.getSunEditorInstance.bind(this);\n      this.state = {\n        content:this.props.content\n      };\n      this.ref = React.createRef();\n      }\n    handleChange(content){\n      //var today = new Date();\n      mydatabase.ref('/change/').set({content});\n      //console.log(content,typeof(content));\n      //console.log(\"this.ref = \", this.ref);\n      //console.log(this.ref.current.core)\n      var keyword = this.props.content;\n      if(keyword!=\" \"){\n          if (content.includes(keyword) && !content.includes(\"<strong>\"+keyword)){\n          //var n = content.search(\"bitcoin\")\n          var word = \"<strong>\"+keyword+\"</strong> \"\n          var newcontent = content.replace(keyword, word)\n          //console.log(word)\n          //console.log(newcontent)\n          this.ref.current.setContents(newcontent);\n          console.log(\"keyword = \", keyword);\n          console.log(\"onChange: \",content,\">>>\",newcontent);\n          this.setState({content: newcontent});\n          this.ref.current.core.focusEdge();\n        }\n      }\n      else{\n        //this.setState({content : this.props.content});\n        this.setState({content : content});\n        //this.forceUpdate();\n      }\n    };\n    onInput(e, core){\n      console.log('onInput', e, core);\n    };\n\n\t\tgetSunEditorInstance(sunEditor){\n      this.ref.current = sunEditor;\n      console.log(\"this.ref = \",this.ref);\n    }; \n    onFocus(event, core){\n      console.log(\"On Focus!!\");\n    };\n    onBlur(event, core){\n      console.log(\"on Blur!!\");\n    };\n    componentDidUpdate(prevProps, prevState, snapshot){\n      console.log(\"content update!!\")\n      if (this.props.content == \" \"){\n        var prevKey = prevProps.content;\n        var content = this.ref.current.core.getContents();\n        if (content.includes(prevKey)){\n          var word = \"<strong>\"+prevKey+\"</strong>\";\n          var newcontent = content.replace(word, prevKey);\n          this.ref.current.setContents(newcontent);\n          console.log(\"DidUpdate: \",content,\">>>\",newcontent);\n          this.ref.current.core.focusEdge();\n        }\n      }\n      else if(prevProps.content!==this.props.content){\n        var keyword = this.props.content;\n        var content = this.ref.current.core.getContents();\n        //console.log(\"contents=\",this.ref.current.core.getContents());\n        if (content.includes(keyword) && !content.includes(\"<strong>\"+keyword)){\n          //var n = content.search(\"bitcoin\")\n          var word = \"<strong>\"+keyword+\"</strong> \";\n          var newcontent = content.replace(keyword, word);\n          //console.log(word)\n          //console.log(newcontent)\n          this.ref.current.setContents(newcontent);\n          //console.log(\"DidUpdate: \",content,\">>>\",newcontent);\n          this.ref.current.core.focusEdge();\n        }\n      }      \n  }\n  componentDidMount(){\n    console.log(this.ref);\n  }\n  save(){\n    //console.log(\"SetMapConsult(add)\");\n    //console.log(this.ref.current);\n    this.props.SetNewCardContent(this.ref.current.getText());\n    var tmp = this;\n    fetch('https://appbackend-hci.herokuapp.com/GetJson/')     //跟後端連結去getJson\n    .then(function (res) {\n        //console.log(res.json());\n        return res.json();\n    }).then(function(myJson) {\n        tmp.props.SetNewJson(myJson);\n        return myJson;\n    });\n    //console.log(this.props);\n    //this.props.SetMapConsult(\"add\");\n    //mydatabase.ref('/save').set({contents});\n  }\n\n    render() {\n      var width = (window.innerWidth/3)+\"px\";\n      return (\n        <div>\n        <SunEditor      \n                        width = '600px'\n                        SetMapConsult = {this.props.SetMapConsult}\n                        setOptions = {{\n                          height:window.innerHeight-100,\n                          plugins: [plugin_command],\n                          buttonList:[\n                            ['undo', 'redo'],\n                            ['font', 'align', 'save' ],\n                            [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"],\n                            [\"removeFormat\"],\n                            [\"outdent\", \"indent\"],\n                            ['customCommand'],\n                            ['-right', ':i-More Misc-default.more_vertical', 'fullScreen', 'showBlocks', 'codeView', 'preview', 'print'],\n                          ],\n                          callBackSave : this.save\n                    }}\n                    onChange = {this.handleChange}\n                    getSunEditorInstance={this.getSunEditorInstance}\n                    onFocus = {this.onFocus}\n                    onBlur = {this.onBlur}\n                    SetMapConsult={this.props.SetMapConsult}\n                     />\n    </div>\n      );\n    }\n  }\n  export default Editor;","import React, { Component } from 'react';\n\n/* editor component */\nimport SunEditor,{buttonList} from 'suneditor-react';\nimport 'suneditor/dist/css/suneditor.min.css'; // Import Sun Editor's CSS File\n\nclass Card extends Component {\n    constructor(props) {\n        super(props);\n        this.getSunEditorInstance = this.getSunEditorInstance.bind(this);\n        this.handleEdit = this.handleEdit.bind(this);\n        this.handleSave = this.handleSave.bind(this);\n        this.ref = React.createRef();\n        this.state = {editing:false,\n                        content:this.props.content};\n        }\n    getSunEditorInstance(sunEditor){\n        this.ref.current = sunEditor;\n        console.log(\"this.ref = \",this.ref);\n        //this.ref.current.readOnly(true);\n        //this.ref.current.disabled();    \n    };\n    componentDidMount(){\n        //this.ref.current.readOnly(true);\n        console.log(this.ref.current);\n        //this.ref.current.disable();\n    }\n    handleEdit(){\n        this.ref.current.enabled();\n        this.ref.current.core.focusEdge();\n        this.props.onEdit(this.props.id);\n        this.setState({editing:true});\n    }\n    handleSave(){\n        this.ref.current.disabled();\n        this.props.onSave(this.props.id);\n        this.setState({editing:false,\n                        content:this.ref.current.core.getContents()});\n    }\n    handleCancel(){\n        this.ref.current.disabled();\n        this.ref.current.setContents(this.state.content);\n        this.setState({editing:false});\n    }\n    componentDidUpdate(prevProps) {\n        if (this.props.id !== prevProps.id) {        \n            this.setState({content:this.props.content});\n        }\n      }\n    render(){\n        if(this.state.editing==false){\n            return (\n                <div>\n                    <SunEditor \n                                getSunEditorInstance={this.getSunEditorInstance}\n                                setOptions ={{buttonList:[],\n                                                width:window.innerWidth/3}}\n                                setContents = {this.state.content}\n                                disable={true}\n                                setDefaultStyle=\"font-family: Hahmlet; font-size:15px\"\n                    />\n                    <button\n                        onClick={this.handleEdit}\n                        className=\"btn btn-primary btn-sm\"\n                    >\n                        Edit\n                    </button>\n                    <button\n                        onClick={()=>this.props.onDelete(this.props.id)}\n                        className=\"btn btn-danger btn-sm m-2\"\n                    >\n                        Delete\n                    </button>\n                \n                </div>\n            )\n        }\n        else{\n            return(\n                <div>\n                    <SunEditor  width=\"400px\"\n                                getSunEditorInstance={this.getSunEditorInstance}\n                                setOptions ={{buttonList:[],\n                                                }}\n                                setContents = {this.state.content}\n                                disable={true}\n                    />\n                    <button\n                        onClick={this.handleSave}\n                        className=\"btn btn-primary btn-sm\"\n                    >\n                        Save\n                    </button>\n                    <button\n                        onClick={()=>this.handleCancel()}\n                        className=\"btn btn-danger btn-sm m-2\"\n                    >\n                        Cancel\n                    </button>\n                \n                </div>\n            )\n        }\n        \n\n    }\n}\nexport default Card;\n","import React, { Component } from 'react';\nimport Card from './Card'\n\nclass Cards extends Component {\n    constructor(props){\n        super(props);\n        this.state={\n            cards: [\n            ]\n        };\n        this.handleDelete=this.handleDelete.bind(this);\n        this.handleEdit=this.handleEdit.bind(this);      \n        this.addCard=this.addCard.bind(this);  \n        this.handleSave=this.handleSave.bind(this);      \n    }\n    addCard(content){\n        let cards = this.state.cards;\n        cards.push({id:cards.length+1, content: content});\n        this.setState({cards});\n    }\n    handleDelete(cardId) {\n        const cards = this.state.cards.filter(c=>c.id!==cardId);\n        console.log(cards);\n        console.log(cardId);\n        this.setState({cards});\n    }\n    handleEdit(cardId) {\n        console.log(\"handleEdit\",cardId);\n    }\n    handleSave(cardId){\n        // Extracting card's content is still under development\n        //var topic = \"\";\n        //var backend_api = \"https://appbackend-hci.herokuapp.com/MapUpdate/\";\n        console.log(\"handleSave\", cardId);\n        let cd = this.state.cards;\n        console.log(cd);\n        console.log(cd[0].content);\n        fetch(\"https://appbackend-hci.herokuapp.com/MapUpdate/COVID19_It is evitably disaster for human to suffer disease like that\")     //跟後端連結去getJson\n        .then(function (res) {\n            return res.json();\n        }).then(function(myJson) {\n            this.props.SetNewJson(myJson);\n            return myJson;\n        });\n        console.log(\"Handle saving is completed ...\");\n            \n    }\n    componentDidUpdate(prevProps,prevState) {\n        // 常見用法（別忘了比較 prop）：\n        if (this.props.newCardContent !== prevProps.newCardContent) {\n              this.addCard(this.props.newCardContent);\n        };\n        if (this.state!== prevState) {\n            console.log(\"this.state = \", this.state);\n        }\n      }\n    render() { \n        return (\n            <div>\n                {this.state.cards.map(card =>\n                    (<Card content={card.content}\n                            key={card.id}\n                            id = {card.id}\n                            onDelete={this.handleDelete}\n                            onEdit={this.handleEdit} \n                            onSave={this.handleSave}/>\n                        ))}\n            </div>\n        );\n    }\n}\n \nexport default Cards;\n","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Graph from '../newdirected/Graph';\r\nimport VideoSequence from './VideoSequence';\r\nimport ConceptSequence from './ConceptSequence';\r\nimport Legend from './Legend';\r\nimport WordCloud from './WordCloud';\r\nimport RelatedVideosPanel from './RelatedVideosPanel';\r\nimport ConceptDetailPanel from './ConceptDetailPanel';\r\nimport MapApprovPanel from './MapApprovPanel';\r\nimport Notification from './Notification';\r\nimport Editor from './Editor'\r\nimport Cards from './Cards'\r\nconst styles = ({\r\n    container: {\r\n        // justifyContent: 'center',\r\n        display: 'flex',\r\n        flexDirection: \"row\",\r\n        // flexGrow: 1,\r\n        flexWrap: 'wrap',\r\n        // margin:10,\r\n        // padding:10\r\n        paddingTop: 10,\r\n        paddingLeft: 10,\r\n        // marginTop:10,\r\n        marginLeft: 10\r\n\r\n    },\r\n    Editor: {\r\n        // width: 200,\r\n        // height:800,\r\n        position: 'fixed',\r\n        bottom:10,\r\n        right:10\r\n      },\r\n    LeftField: {\r\n        // display:'flex',\r\n        // width: 900,\r\n        // height: 700,\r\n        // overflowX: \"scroll\",\r\n        // overflowY: \"hidden\",\r\n        // padding: 20,\r\n        // margin : 20,\r\n    },\r\n});\r\nvar SentRange = []\r\nvar ConceptRange = []\r\nclass LearningMapFrame extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            HoverConceptIndex: null,\r\n            HoverVideoIndex: null,\r\n            PopoverIndexes: [],\r\n            Path_ConceptIndex: null,\r\n            BigCircleIndex: null,\r\n            Hightlight_word: null,\r\n            content:[\r\n                \" \"\r\n            ],\r\n            newCardContent:false,\r\n            MapConsult: false,\r\n            };\r\n        this.SetHoverConceptIndex = this.SetHoverConceptIndex.bind(this);\r\n        this.SetMapConsult = this.SetMapConsult.bind(this);\r\n        this.SetNewCardContent = this.SetNewCardContent.bind(this);\r\n        this.SetHoverVideoIndex = this.SetHoverVideoIndex.bind(this);\r\n        this.SetPopoverIndexes = this.SetPopoverIndexes.bind(this);\r\n        this.SetPath_ConceptIndex = this.SetPath_ConceptIndex.bind(this);\r\n        this.SetBigCircleIndex = this.SetBigCircleIndex.bind(this);\r\n        this.ClearHoverConcept = this.ClearHoverConcept.bind(this);\r\n        // Adding words hightlighting functions by YHT\r\n        this.SetHightlightWord = this.SetHightlightWord.bind(this);\r\n    }\r\n    componentWillMount() {\r\n        console.log(\"[graph]\", \",\", this.props.data.search_info.key);\r\n        // console.log(\"cheeeee\",this.props.data.concept_relationship.nodes);\r\n        // calcalate SentimentScoreRange [SentScoreMin,SentScoreMax];\r\n        var tmpList = [];\r\n        for (var e in this.props.data.videos_info) {\r\n\r\n            tmpList.push(this.props.data.videos_info[e].userFeedbackScore);\r\n        };\r\n        var tmpList2 = [];\r\n        for (var e in this.props.data.concept_relationship.nodes) {\r\n            tmpList2.push(this.props.data.concept_relationship.nodes[e].count);\r\n        };\r\n        // console.log(\"SentRange\",[Math.min(...tmpList),Math.max(...tmpList)]);\r\n        // console.log(\"tmpList2\",tmpList2);\r\n        SentRange = [Math.min(...tmpList), Math.max(...tmpList)];\r\n        ConceptRange = [Math.min(...tmpList2), Math.max(...tmpList2), tmpList2.reduce((a, b) => a + b, 0)];\r\n    }\r\n    SetHoverConceptIndex(i, word) {\r\n        // console.log(\"[hover] conceptMapNode\",i);\r\n        // Adding concept panel words highlighting\r\n        console.log(\"word = \", word);\r\n        console.log(\"i = \",i);\r\n        this.setState({\r\n            HoverConceptIndex: i,\r\n            HightlightWord: word\r\n        });\r\n        this.setState({\r\n            content: word\r\n        });\r\n        console.log(\"call set hightlight\");\r\n        console.log(\"this.state.content=\", this.state.content);\r\n        console.log(\"this.state.HLW=\", this.state.HightlightWord);\r\n        //console.log(word);\r\n        //this.forceUpdate();\r\n    }\r\n    ClearHoverConcept(){\r\n        this.setState({content:\" \"});\r\n        console.log(\"ClearHoverConcept\");\r\n    }\r\n    // Adding by YHT\r\n    SetHightlightWord(word) {\r\n\r\n        // Adding concept panel words highlighting\r\n        // Hightlight word in editor\r\n        this.setState({\r\n            HightlightWord: word\r\n        });\r\n        console.log(\"call set hightlight\");\r\n        console.log(word);\r\n        // call function in Editor.js\r\n\r\n    }\r\n    SetHoverVideoIndex(vid) {\r\n        this.setState({\r\n            HoverVideoIndex: vid\r\n        });\r\n    };\r\n    SetPopoverIndexes(method, index) {\r\n        if (method == \"add\") {\r\n            if (this.state.PopoverIndexes.includes(index) == false) {\r\n                this.setState({\r\n                    PopoverIndexes: [...this.state.PopoverIndexes, index]\r\n                    // PopoverIndexes:this.state.PopoverIndexes.concat([index])\r\n                });\r\n            }\r\n        } else if (method == \"remove\") {\r\n            this.setState({\r\n                PopoverIndexes: this.state.PopoverIndexes.filter(val => val !== index)\r\n            });\r\n        } else if (method == \"clear\") {\r\n            this.setState({\r\n                PopoverIndexes: []\r\n            });\r\n        }\r\n    }\r\n    SetPath_ConceptIndex(method, index) {\r\n        if (method == \"add\") {\r\n            this.setState({\r\n                Path_ConceptIndex: index\r\n            });\r\n        } else if (method == \"clear\") {\r\n            console.log(\"[close] ConceptDetailPanel\");\r\n            this.setState({\r\n                Path_ConceptIndex: null,\r\n                BigCircleIndex: null\r\n            });\r\n        }\r\n    }\r\n    SetMapConsult(method){\r\n        if (method == \"add\"){\r\n            /*     正式的讓後端去取db資料，算出新的Json檔\r\n            fetch('https://appbackend-hci.herokuapp.com/MapPreview/<Keyword>')     //跟後端連結去getJson\r\n            .then(function (res) {\r\n            //    console.log(res.json());\r\n                return res.json();\r\n            }).then(function(myJson) {\r\n                this.props.SetNewJson(myJson);\r\n                return myJson;\r\n            });\r\n            */\r\n            this.setState({MapConsult: true});\r\n            \r\n        } else if (method ==\"dont_ask\") {\r\n            console.log(\"SetMapConsult(false)!!)\");\r\n            this.setState({MapConsult:false });\r\n    }\r\n    }\r\n    SetBigCircleIndex(index) {\r\n        this.setState({\r\n            BigCircleIndex: index\r\n        });\r\n    }\r\n    \r\n    SetNewCardContent(content) {\r\n        this.setState({\r\n            newCardContent: content\r\n        });\r\n    }\r\n    componentDidUpdate(prevState){\r\n        if(this.state.HoverConceptIndex!==prevState.HoverConceptIndex){\r\n            console.log(\"prevConceptIndex = \",prevState.HoverConceptIndex,\" >>> \", this.state.HoverConceptIndex);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props.data.VideoSequence_ConceptInfo);\r\n        var HighlightConceptTextIndex = this.state.HoverVideoIndex == null ? [] : this.props.data.VideoSequence_ConceptInfo[this.state.HoverConceptIndex][this.state.HoverVideoIndex];\r\n        // console.log(\"windowheight\",window.innerHeight);\r\n        console.log (this.props.data);\r\n        return (\r\n            <div style={styles.container}>\r\n                {/* {this.props.data.search_info.key} */}\r\n                {/* <div style = {styles.LeftField} > */}\r\n                <div width={window.innerWidth - 50} height={window.innerHeight - 100}>\r\n                    <Typography variant=\"headline\" component=\"h5\">\r\n                        {this.props.data.search_info.key}\r\n                    </Typography>\r\n                    <Legend Path_ConceptIndex={this.state.Path_ConceptIndex}\r\n                        BigCircleIndex={this.state.BigCircleIndex == null ? this.state.Path_ConceptIndex : this.state.BigCircleIndex}\r\n                        ConceptRange={ConceptRange}\r\n                        data={this.props.data.concept_relationship.nodes}\r\n                    />\r\n                    {/* <WordCloud videos_info={this.props.data.videos_info} HoverVideoIndex={this.state.HoverVideoIndex}/> */}\r\n                    <Graph data={this.props.data}\r\n                        HoverConceptIndex={this.state.HoverConceptIndex}\r\n                        SetHoverConceptIndex={this.SetHoverConceptIndex}\r\n                        ClearHoverConcept = {this.ClearHoverConcept} \r\n                        OpenDrawer={(text) => props.OpenDrawer(text)}\r\n                        width={window.innerWidth - 50} height={window.innerHeight - 100}\r\n                        SentRange={SentRange}\r\n                        ConceptRange={ConceptRange}\r\n                        SetHoverVideoIndex={this.SetHoverVideoIndex}\r\n                        HoverVideoIndex={this.state.HoverVideoIndex}\r\n                        Path_ConceptIndex={this.state.Path_ConceptIndex}\r\n                        SetPath_ConceptIndex={this.SetPath_ConceptIndex}\r\n                        BigCircleIndex={this.state.BigCircleIndex}\r\n                        SetHightlightWord={this.SetHightlightWord}\r\n                    />\r\n                </div>\r\n                \r\n                <div>\r\n                    <div>\r\n                    <Cards newCardContent = {this.state.newCardContent}/>\r\n                    </div>\r\n                    <div style = {styles.Editor}>\r\n                    <Editor content = {this.state.content}\r\n                            SetMapConsult = {this.SetMapConsult}\r\n                            SetNewJson = {this.props.SetNewJson}\r\n                            SetNewCardContent = {this.SetNewCardContent}\r\n                    />\r\n                    {/*<button onClick={()=>this.SetMapConsult(\"add\")}\r\n                            className=\"btn btn-primary btn-lg m-5\">Show New Map</button>*/}\r\n                    </div>  \r\n                </div>\r\n\r\n                <ConceptDetailPanel\r\n                    data={this.props.data}\r\n                    Path_ConceptIndex={this.state.Path_ConceptIndex}\r\n                    SetPath_ConceptIndex={this.SetPath_ConceptIndex}\r\n                    SentRange={SentRange}\r\n                    SetHoverVideoIndex={this.SetHoverVideoIndex}\r\n                    SetHightlightWord={this.SetHightlightWord}\r\n                    HoverVideoIndex={this.state.HoverVideoIndex}\r\n                    HighlightConceptTextIndex={HighlightConceptTextIndex}\r\n                    BigCircleIndex={this.state.BigCircleIndex}\r\n                    SetBigCircleIndex={this.SetBigCircleIndex}\r\n                    \r\n                    SetNewCardContent = {this.SetNewCardContent}\r\n                />\r\n                <MapApprovPanel \r\n                    data={this.props.data}\r\n                    MapConsult={this.state.MapConsult}\r\n                    SetMapConsult={this.SetMapConsult}\r\n                    SetVisJson = {this.props.SetVisJson}\r\n                    SetNewJson = {this.props.SetNewJson}   \r\n                    NewJson = {this.props.NewJson}\r\n                />\r\n                <Notification open={this.state.Path_ConceptIndex == null} />\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\nexport default LearningMapFrame;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst styles = {\n  root: {\n    // flexGrow: 1,\n    padding: 10,\n    margin:20,\n  },\n};\n\nfunction LinearIndeterminate(props) {\n  const { classes } = props;\n  return (\n    <div style={styles.root}>\n      <LinearProgress variant=\"determinate\" value={props.value} />\n      <br />\n      {/* <LinearProgress color=\"secondary\" /> */}\n    </div>\n  );\n}\n\nLinearIndeterminate.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(LinearIndeterminate);","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Input from '@material-ui/core/Input';\r\nimport Search from '@material-ui/icons/Search';\r\nimport Button from '@material-ui/core/Button';\r\nimport LinearIndeterminate from './LinearIndeterminate';\r\n\r\nvar progressValue = 10;\r\n\r\nconst styles = ({\r\n    root: {\r\n    //   height: 100,\r\n      padding: 5, //theme.spacing.unit * 2,\r\n      margin : 0,//theme.spacing.unit * 4,\r\n      // paddingTop: theme.spacing.unit * 2,\r\n      // paddingBottom: theme.spacing.unit * 2,\r\n      \r\n    },\r\n    container: {\r\n        // justifyContent: 'center',\r\n    //   display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    input: {\r\n      margin: 10,//theme.spacing.unit,\r\n    },\r\n    buttonContainer:{\r\n        marginLeft:\"auto\",\r\n        marginRight:\"auto\"\r\n    },\r\n    button:{\r\n        fontSize:13,\r\n        padding:10,\r\n        margin:10,\r\n        left:\"46%\",\r\n    },\r\n  });\r\n\r\n  \r\nclass CreateMapField extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            secondsElapsed: 0,\r\n            minutesElapsed:0,\r\n            NotFinish_Create : true,\r\n            progressValue : 3,\r\n            message:\" Collecting data from Youtube ... \"\r\n        }\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    componentWillMount(){\r\n        // console.log(\"comein!\",this.props.SearchKeyword);\r\n        this.interval = setInterval(() => this.secondtick(), 1000);\r\n        this.interval = setInterval(() => this.progresstick(), 9000);\r\n        var keyword = this.props.SearchKeyword;\r\n        var tmp = this;\r\n        //1.download\r\n        // fetch('http://localhost:8001/Download/'+keyword)\r\n        // .then(function (res) {return res.json();\r\n        // }).then(function(myJson) {\r\n        //     console.log(\"finish download\",myJson);\r\n        //     tmp.setState({\r\n        //         progressValue : 25,\r\n        //         message:\"( Sentiment analysis of youtube comments... )\"\r\n        //     });\r\n        //     //2.start comment anaylze\r\n        //         fetch('http://localhost:8001/Comment_Analyze/'+keyword)\r\n        //         .then(function (res2) {\r\n        //             return res2.json();\r\n        //         }).then(function(myJson2) {\r\n        //             console.log(\"finish comment anaylze\",myJson2);\r\n        //             tmp.setState({\r\n        //                 progressValue : 40,\r\n        //                 message:\"\"\r\n        //             });\r\n        //             //3.start caption anaylze\r\n        //             fetch('http://localhost:8001/Caption_Analyze/'+keyword)\r\n        //             .then(function (res3) {\r\n        //                 return res3.json();\r\n        //             }).then(function(myJson3) {\r\n        //                 console.log(\"finish caption anaylze\",myJson3);\r\n        //                 tmp.setState({\r\n        //                     progressValue : 100,\r\n        //                     NotFinish_Create : false\r\n        //                 });\r\n        //                 return myJson3;\r\n        //             });\r\n        //             return myJson2;\r\n        //         });\r\n        //     return myJson;\r\n        // });\r\n\r\n        fetch('https://appbackend-hci.herokuapp.com/Analyze/'+keyword)\r\n        .then(function (res) {\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            // console.log(\"finish analyze\",myJson);\r\n            tmp.setState({\r\n                NotFinish_Create : false,\r\n                progressValue :100\r\n            });\r\n            return myJson;\r\n        });\r\n    }\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval);\r\n      }\r\n    \r\n    secondtick() {\r\n        this.setState((prevState) => ({\r\n          secondsElapsed: prevState.secondsElapsed + 1\r\n        }));\r\n        // message\r\n        if(this.state.secondsElapsed==3*60){\r\n            this.setState((prevState) => ({\r\n                message: \" Analyzing sentiment of videos' comments... \"\r\n              }));\r\n        }\r\n        else if(this.state.secondsElapsed==4*60){\r\n            this.setState((prevState) => ({\r\n                message: \" Extracting concept words from transcript... \"\r\n              }));\r\n        }\r\n        else if(this.state.secondsElapsed==6*60){\r\n            this.setState((prevState) => ({\r\n                message: \" Analyzing concept similarity... \"\r\n              }));\r\n        }\r\n        else if(this.state.secondsElapsed==8*60){\r\n            this.setState((prevState) => ({\r\n                message: \" Analyzing prerequisite relationship... \"\r\n              }));\r\n        }\r\n        else if(this.state.secondsElapsed==10*60){\r\n            this.setState((prevState) => ({\r\n                message: \" Generating Learning map ... \"\r\n              }));\r\n        }\r\n      }\r\n      progresstick() {\r\n        if(this.state.progressValue < 10){\r\n            this.setState((prevState) => ({\r\n                progressValue: prevState.progressValue + 5\r\n              }));\r\n        }\r\n        else if(this.state.progressValue < 96){\r\n            this.setState((prevState) => ({\r\n                progressValue: prevState.progressValue + 1\r\n              }));\r\n        }\r\n      }\r\n\r\n    handleClick(){\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/GetJson/')\r\n        .then(function (res) {\r\n        //    console.log(res.json());\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            // console.log(myJson);\r\n            tmp.props.SetProgress(3,myJson);\r\n            return myJson;\r\n          });\r\n          \r\n    }\r\n    render() {\r\n        // console.log(this.state.secondsElapsed/60,\" minutes\");\r\n        return (\r\n            <Paper style={styles.root} elevation={1}>\r\n            <div style={styles.container} >\r\n            \r\n              <LinearIndeterminate value = {this.state.progressValue}/>\r\n              {/* <Typography variant=\"title\" component=\"h5\" align=\"center\">Creating Learning Map...</Typography> */}\r\n              <Typography variant=\"title\" component=\"h5\" align=\"center\">{this.state.progressValue+\"%\"}</Typography>\r\n              <Typography variant=\"title\" component=\"h5\" align=\"center\">{this.state.message}</Typography>\r\n              <br/>\r\n              <div style={styles.buttonContainer}>\r\n              <Button variant=\"raised\"  style = {styles.button} size = \"small\" onClick={this.handleClick} disabled={this.state.NotFinish_Create}>\r\n                    See the map\r\n              </Button>\r\n              </div>\r\n            </div>\r\n            </Paper>\r\n        );\r\n    }\r\n}\r\nexport default CreateMapField;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Chip from '@material-ui/core/Chip';\r\n\r\nconst styles = ({\r\n    root: {\r\n       width: 450,\r\n      },\r\n    chip: {\r\n        margin: 8,\r\n        padding: 5,\r\n        fontSize: 13\r\n      },\r\n      chip2: {\r\n        margin: 8,\r\n        padding: 5,\r\n        fontSize: 13,\r\n        color:\"blue\",\r\n      },\r\n    root2:{\r\n        width: 450,\r\n        padding: 5,\r\n        margin: 5 ,\r\n    },\r\n    DrawerName: {\r\n        flexGrow: 1,\r\n        marginLeft:20,\r\n        fontSize:20,\r\n        fontFamily:\"Cambria\",\r\n        margin: 15,\r\n    },\r\n});\r\n\r\n\r\nvar hidden_list=['automatic summarization introduction','computer graphic','computer graphics','natural language processing','sentiment analysis introduction','text preprocessing','Sentiment analysis']\r\n\r\nclass MenuDrawer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            drawer_switch:this.props.open,\r\n        }\r\n        this.TagClick = this.TagClick.bind(this);\r\n        this.TagDelete = this.TagDelete.bind(this);\r\n        this.HandleClose = this.HandleClose.bind(this);\r\n    }\r\n\r\n    TagClick(keyword){\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/GetAnalyzeResult/'+keyword)\r\n        .then(function (res) {\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            // console.log(\"myJson\",myJson.search_info);\r\n            tmp.props.SetMenuClose();\r\n            tmp.props.SetProgress(3,myJson);\r\n            return myJson;\r\n        });\r\n    }\r\n    ButtonClick(index){\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/GetJson_bitcoin/'+index)\r\n        .then(function (res) {\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            // console.log(\"myJson\",myJson.search_info);\r\n            tmp.props.SetMenuClose();\r\n            tmp.props.SetProgress(3,myJson);\r\n            //tmp.props.SetNewJson(myJson);\r\n            return myJson;\r\n        });\r\n    }\r\n    TagDelete(keyword){\r\n        // console.log(\"tag delete\",this);\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/DeleteAnalyzeResult/'+keyword)\r\n        .then(function (res) {\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            // console.log(\"newhistory\",myJson);\r\n            tmp.props.SetSearchHistory(myJson);\r\n            return myJson;\r\n        });\r\n    }\r\n    HandleClose(){\r\n        // console.log(\"close!\");\r\n        this.props.SetMenuClose();\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.props.SearchHistory) {\r\n            var chips = this.props.SearchHistory.map( (word) => {\r\n                if (hidden_list.includes(word)){\r\n                    return null;\r\n                }\r\n                return (\r\n                <Chip\r\n                    key = {word} \r\n                    label={word} \r\n                    style={styles.chip}  \r\n                    onClick={this.TagClick.bind(this,word)} \r\n                    clickable=\"true\" \r\n                    // onDelete={this.TagDelete.bind(this,word)}\r\n                />);\r\n            });\r\n        }\r\n        \r\n        // console.log(\"opendrawer\",this.props.open,this.state.drawer_switch);\r\n        \r\n        return (\r\n            <div style={styles.root}>\r\n            <Drawer anchor=\"left\" open = {this.props.open} onClose={this.HandleClose} > \r\n                <div style={styles.root2} onKeyDown={this.HandleClose}>\r\n                <Typography variant=\"title\" color=\"inherit\" style={styles.DrawerName}>\r\n                    Search History\r\n                </Typography>\r\n                {chips}\r\n                <Chip\r\n                    key = {\"Bitcoin_Demo\"} \r\n                    label={\"Bitcoin_Demo\"} \r\n                    style={styles.chip2}  \r\n                    onClick={this.ButtonClick.bind(this,0)} \r\n                    clickable=\"true\" \r\n                    // onDelete={this.TagDelete.bind(this,word)}\r\n                />\r\n                <Chip\r\n                    key = {\"Bitcoin_mining_Demo\"} \r\n                    label={\"Bitcoin_mining_Demo\"} \r\n                    style={styles.chip2}  \r\n                    onClick={this.ButtonClick.bind(this,1)} \r\n                    clickable=\"true\" \r\n                    // onDelete={this.TagDelete.bind(this,word)}\r\n                />\r\n                <Chip\r\n                    key = {\"NLP_intro_Demo\"} \r\n                    label={\"NLP_intro_Demo\"} \r\n                    style={styles.chip2}  \r\n                    onClick={this.ButtonClick.bind(this,2)} \r\n                    clickable=\"true\" \r\n                    // onDelete={this.TagDelete.bind(this,word)}\r\n                />\r\n                <Chip\r\n                    key = {\"NLP_Demo\"} \r\n                    label={\"NLP_Demo\"} \r\n                    style={styles.chip2}  \r\n                    onClick={this.ButtonClick.bind(this,3)} \r\n                    clickable=\"true\" \r\n                    // onDelete={this.TagDelete.bind(this,word)}\r\n                />\r\n                </div>\r\n            </Drawer>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\nexport default MenuDrawer;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport HighlightModeSelector from './HighlightModeSelector';\r\nimport Video_info from './newdirected/Video_info';\r\n// import jsondata from './graphFile.json';\r\nimport BarField from './components/BarField';\r\nimport SearchField from './components/SearchField';\r\nimport LearningMapFrame from './components/LearningMapFrame';\r\nimport CreatingField from './components/CreatingField';\r\nimport MenuDrawer from './components/MenuDrawer';\r\nimport { EditorState } from 'draft-js';\r\nimport Editor from './components/Editor'\r\nimport '../node_modules/react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport Cards from './components/Cards';\r\n\r\n\r\n\r\nfunction storedata() {\r\n  var firebaseConfig = {\r\n    apiKey: \"AIzaSyD5ro8Oj_EHuFweJR3bywJCO49egETQp7g\",\r\n    authDomain: \"test-7916a.firebaseapp.com\",\r\n    databaseURL: \"https://test-7916a-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n    projectId: \"test-7916a\",\r\n    storageBucket: \"test-7916a.appspot.com\",\r\n    messagingSenderId: \"931195594829\",\r\n    appId: \"1:931195594829:web:65c637f9dc54e245d4d404\",\r\n    measurementId: \"G-T5RH81V2MG\"\r\n    };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n  firebase.analytics();\r\n  var db = firebase.firestore();\r\n  db.collection(\"movies\").doc(\"Harry Potter\").set(\r\n    {\r\n      name:\"Harry\",\r\n      date:\"2010\",\r\n    }\r\n  )\r\n  console.log(\"hit!!\")\r\n}\r\n\r\n/*** * 獲取當前瀏覽器類型 */ \r\nfunction myBrowser() { \r\n  var userAgent = navigator.userAgent; //取得瀏覽器的userAgent字符串 \r\n  \r\n  var isOpera = userAgent.indexOf(\"Opera\") > -1; \r\n  if (isOpera) { //判斷是否Opera瀏覽器 \r\n  return \"Opera\"; }\r\n  \r\n  if (userAgent.indexOf(\"Firefox\") > -1) { //判斷是否Firefox瀏覽器 \r\n  return \"FF\"; }\r\n  if (userAgent.indexOf(\"Chrome\") > -1){ return \"Chrome\"; }\r\n  if (userAgent.indexOf(\"Safari\") > -1) { //判斷是否Safari瀏覽器\r\n  return \"Safari\"; }\r\n  if (userAgent.indexOf(\"compatible\") > -1 && userAgent.indexOf(\"MSIE\") > -1 && !isOpera) { //判斷是否IE瀏覽器\r\n  return \"IE\"; }\r\n  }\r\nfunction beforunload(event) { event = event ? event : (window.event ? window.event : null); \r\n  var myIE = myBrowser(); \r\n  if (myIE==\"IE\") { // IE \r\n  var cy = event.clientY || event.target.event.clientY;\r\n  var ak = event.altKey || event.target.event.altKey; \r\n  if (cy < 0 || ak) { \r\n  return \"確定要離開本頁面嗎？\"; }\r\n  } \r\n  else {\r\n  // Firefox、Chrome\r\n  var nodeName = event.currentTarget.document.activeElement.nodeName; \r\n  if (nodeName!=\"A\") { return \"確定要離開本頁面嗎？\"; } } } \r\n\r\n    \r\n\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      MenuOpened : false,\r\n      drawer:false,\r\n      selectedVid:null,\r\n      Progress:1,\r\n      SearchHistory:null,\r\n      VisJson:null,\r\n      SearchKeyword:null\r\n  };\r\n    this.SetProgress = this.SetProgress.bind(this);\r\n    this.SetMenuOpen = this.SetMenuOpen.bind(this);\r\n    this.SetMenuClose = this.SetMenuClose.bind(this);\r\n    this.SetSearchHistory = this.SetSearchHistory.bind(this);\r\n    this.SetSearchKeyword = this.SetSearchKeyword.bind(this);\r\n    this.OpenDrawer = this.OpenDrawer.bind(this);\r\n    this.CloseDrawer = this.CloseDrawer.bind(this);\r\n    this.SetVisJson = this.SetVisJson.bind(this);\r\n    this.SetNewJson = this.SetNewJson.bind(this);\r\n  }\r\n  SetVisJson(json){\r\n    this.setState({VisJson : json});\r\n  }\r\n  SetNewJson(json){\r\n    console.log(\"NewJson setted from \", this.state.NewJson, \" to \", json);\r\n    this.setState({NewJson : json});\r\n  }\r\n\r\n\r\n  SetProgress(progress,json){\r\n    // console.log(\"p,k\",progress,json);\r\n    if(json==undefined){\r\n      this.setState({Progress:progress});\r\n    }\r\n    else{\r\n      this.setState({\r\n        Progress: progress,\r\n        VisJson : json,\r\n        NewJson : json\r\n      });\r\n    }\r\n  }\r\n  SetMenuOpen(){\r\n    this.setState({\r\n      MenuOpened: true,\r\n    });\r\n  }\r\n  SetMenuClose(){\r\n    this.setState({\r\n      MenuOpened: false,\r\n    });\r\n  }\r\n\r\n\r\n  SetSearchHistory(v){\r\n    this.setState({SearchHistory:v});\r\n  }\r\n\r\n  SetSearchKeyword(w){\r\n    this.setState({SearchKeyword:w});\r\n  }\r\n  OpenDrawer(vid,e){\r\n    // console.log(\"here\",vid,e,jsondata.videos_info[vid].transcript);\r\n    this.setState(\r\n      {\r\n        drawer:true,\r\n        selectedVid:vid\r\n      });\r\n  }\r\n  CloseDrawer(){\r\n    this.setState({drawer:false});\r\n  }\r\n\r\n  render() {\r\n    window.onbeforeunload = function(event) { \r\n      return beforunload(event); \r\n      }; \r\n      \r\n\r\n  \r\n  \r\n    if(this.state.Progress==1){\r\n      return (       \r\n        <div>\r\n          <MuiThemeProvider>\r\n              <BarField \r\n                SetProgress = {this.SetProgress} \r\n                SetMenuOpen = {this.SetMenuOpen} \r\n                SetSearchHistory={this.SetSearchHistory}\r\n                />\r\n              <MenuDrawer  \r\n                SetNewJson = {this.SetNewJson}\r\n                open = {this.state.MenuOpened} \r\n                SetProgress = {this.SetProgress}  \r\n                SearchHistory={this.state.SearchHistory} \r\n                SetSearchHistory={this.SetSearchHistory} \r\n                SetMenuClose={this.SetMenuClose}\r\n                />\r\n              <SearchField SetProgress = {this.SetProgress} SearchHistory={this.state.SearchHistory} SetSearchHistory={this.SetSearchHistory} SetSearchKeyword={this.SetSearchKeyword} Set_NotFinishCreate={this.Set_NotFinishCreate}/>   \r\n          </MuiThemeProvider>\r\n        </div>\r\n      \r\n      );\r\n    }else if(this.state.Progress==2){\r\n      return (       \r\n        <div>\r\n          <MuiThemeProvider>\r\n          <BarField \r\n            SetProgress = {this.SetProgress} \r\n            SetMenuOpen = {this.SetMenuOpen} \r\n            SetSearchHistory={this.SetSearchHistory}\r\n          />\r\n          <CreatingField SetProgress = {this.SetProgress} SearchKeyword={this.state.SearchKeyword} />\r\n          </MuiThemeProvider>\r\n        </div>\r\n      );\r\n    }else if(this.state.Progress==3){\r\n      return(\r\n        <div style={{userSelect: \"none\"}}>\r\n          <MuiThemeProvider>\r\n          <BarField \r\n            SetProgress = {this.SetProgress} \r\n            SetMenuOpen = {this.SetMenuOpen} \r\n            SetSearchHistory={this.SetSearchHistory}\r\n          />\r\n          <LearningMapFrame data={this.state.VisJson} \r\n                            OpenDrawer={(text) =>this.OpenDrawer(text)}\r\n                            SetVisJson = {this.SetVisJson}\r\n                            SetNewJson = {this.SetNewJson}\r\n                            NewJson = {this.state.NewJson}\r\n          />\r\n          <Dialog\r\n            fullScreen\r\n            open={this.state.drawer}\r\n            onClose={this.CloseDrawer}\r\n          >\r\n          <Video_info vid = {this.state.selectedVid} videos_info = {this.state.VisJson.videos_info} CloseDrawer={this.CloseDrawer} />\r\n          </Dialog>\r\n          </MuiThemeProvider> \r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\n\r\n    \r\n\r\nReactDOM.render(<App />, document.getElementById('app'));"],"sourceRoot":""}