{"version":3,"sources":["HighlightModeSelector.js","newdirected/Video_info.js","components/BarField.js","components/AlertDialog.js","components/homepage2.png","components/AutoSuggestions.js","components/SearchField.js","newdirected/Node.js","newdirected/Link.js","newdirected/PopoverNode.js","newdirected/Masker.js","newdirected/Graph.js","components/MarkerIcon.js","components/VideoSequence.js","components/CardinalPath.js","components/ConceptSequence.js","components/Legend.js","components/WordCloud.js","components/RelatedVideosPanel.js","components/youtube.png","components/ConceptDetailPanel.js","components/MapApprovPanel.js","components/Notification.js","components/Editor.js","components/LearningMapFrame.js","components/LinearIndeterminate.js","components/CreatingField.js","components/MenuDrawer.js","index.js"],"names":["React","Component","styles","theme","area","margin","paper","padding","container","display","flexWrap","text","fontSize","Video_info","props","IconButton","color","onClick","this","CloseDrawer","Paper","elevation","style","Typography","variant","component","videos_info","vid","transcript","root","flexGrow","bar","background","APPName","marginLeft","fontFamily","menuButton","marginRight","BarField","HomeOnClick","bind","MenuOnClick","console","log","SetProgress","tmp","fetch","then","res","json","myJson","SetSearchHistory","SetMenuOpen","AppBar","position","Toolbar","homeButton","title","AlertDialog","RenderButtons","CheckExistedMap","CreateNewMap","Go_CheckExistedMap","keyword","Go_CreateNewMap","alertCondition","Button","HandleAlertClose","message","Dialog","open","alertOpen","onClose","DialogTitle","id","DialogContent","DialogContentText","DialogActions","listStyleType","input","backgroundColor","suggestionsContainerOpen","zIndex","left","right","suggestion","suggestionsList","getSuggestions","o","tmpthis","inputValue","value","trim","toLowerCase","inputLength","length","historyWords","filter","option","slice","getSuggestionValue","renderInputComponent","inputProps","Input","renderSuggestion","MenuItem","renderSuggestionsContainer","options","square","containerProps","children","AutoSuggestions","state","suggestions","onChange","onSuggestionsFetchRequested","onSuggestionsClearRequested","event","newValue","TextChange","setState","placeholder","root1","height","width","justifyContent","backgroundImage","HomePageImg","backgroundRepeat","backgroundSize","backgroundPosition","root2","paddingTop","paddingBottom","chip","img","opacity","SearchField","chipdata","SearchHistory","SearchKeyword","handleClick","TagClick","SetSearchKeyword","e","includes","size","cursor","FadeTextStyle","Path_ConceptIndex","HighlightNodes","index","fill","fillOpacity","Node","anchorEl","studentslist","handleClose","handleHover","NodeRadius","handleMouseOut","d3Node","d3","ReactDOM","findDOMNode","datum","data","call","updateNode","SetPath_ConceptIndex","select","transition","duration","attr","i","name","SetHoverConceptIndex","SetHighlightNodes","cnt","Range","domain","range","ScaleDotSize","highlight","radius","ref","r","ClearHoverConcept","NodeOpacityValue","NodeColor","HoverConceptIndex","DirectNodes","className","onMouseOver","onMouseOut","count","ConceptRange","Object","assign","HighlightNodeText","textShadow","dx","dy","Link","d3Link","enterLink","d","prerequisite","updateLink","DoHighlight","loc","d_neighbors","source","target","circle","ConceptBigCircle","Sentcircle","conceptlabel","textAnchor","fontStyle","mask","Masker","overflowX","overflowY","Div","float","axisLeft","selection","x","y","updateGraph","selectAll","zoom","scaleExtent","on","currentEvent","transform","k","Graph","d3Graph","force","concept_relationship","nodes","strength","links","distance","similarity","ans","BFSinput","push","parseInt","CheckDirectNodes","highlight_nodes","map","node","data_db","HighlightConceptIndex","BigCircleIndex","SetHightlightWord","err","link","viewBox","markerWidth","markerHeight","refX","refY","orient","xoverflow","stroke","MarkerIcon","undefined","cx","cy","strokeWidth","alignmentBaseline","flexDirection","ItemContainer","ImageContainer","rowContainer","videoImage","timeLabel","VideoSequence","handleHoverOut","SetHoverVideoIndex","score","sentmin","SentRange","interpolate","str","indexOf","replace","video_sequences","ShowVideoItems","SentimentColor","video_info","userFeedbackScore","paddingLeft","href","rx","ry","TimeProcess","path","strokeOpacity","line","curve","CardinalPath","PathHovered","PathHover","onMouseEnter","onMouseLeave","markerEnd","conceptSeqGraph","marginTop","label","ylocation","calculatePath","dependencies","c_sequences","side","result","xloc","xloc_mid","keys","key","index2","num1","num2","points","ConceptSequence","number","SetBigCircleIndex","c_index","concept_sequences","conceptnode","concepts","ClickedNode","HighlightConcepts","pathsdata","paths","cycle_pathsdata","RemovedCycleLinks","cycle_paths","top","heading","constainer","ColorLegend","VideoNodesText","heading2","fontWeight","TermCountRange","Legend","scaleX","ConceptNodesCircle","VideoNodesCircle","strokeDasharray","ExpansionPanel","defaultExpanded","ExpansionPanelSummary","expandIcon","ExpansionPanelDetails","toFixed","tmpList","videos_id","Math","min","max","x1","x2","y1","y2","offset","stopColor","MarkerIndex","videotooptip","maxWidth","videotooptip_label1","lineHeight","videotooptip_label2","maxHeight","overflow","textOverflow","whiteSpace","RelatedVideosPanel","tooltip_open","Location","VideoRadius","videoClick","YoutubeIconClick","RenderNumMarker","prevProps","numNodes","angle","PI","cos","sin","num","vlist","center","LikesList","likeCount","ShowVideoLinks","Hightlight","Tooltip","enterTouchDelay","placement","xlinkHref","HoverVideoIndex","patternContentUnits","preserveAspectRatio","full","CheckMarkerIndex","ShowMarkerIcons","BigCircleRadius","rootTitle","textAlign","containerTitle","OuterContainer","paper2","paper2_UpperContainer","paper2_BelowContainer","container3_1","container3_2","CloseBotton","content","ConceptDetailPanel","CloseOnClick","window","innerHeight","concept_index","HighlightConceptTextIndex","innerWidth","MapApprovPanel","NewJson","SetNewJson","forceUpdate","search_info","tmpList2","reduce","a","b","SetMapConsult","MapConsult","Notification","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","plugin_command","buttonClass","innerHTML","add","core","targetElement","context","customCommand_2","targetButton","active","element","test","nodeName","util","addClass","removeClass","action","hasClass","nodeChange","newNode","createElement","Editor","handleChange","onInput","save","getSunEditorInstance","createRef","mydatabase","set","word","newcontent","current","setContents","focusEdge","sunEditor","prevState","snapshot","prevKey","getContents","contents","isChange","setOptions","plugins","buttonList","callBackSave","onFocus","onBlur","LeftField","LearningMapFrame","PopoverIndexes","Hightlight_word","SetPopoverIndexes","HightlightWord","method","val","VideoSequence_ConceptInfo","OpenDrawer","SetVisJson","withStyles","classes","LinearProgress","buttonContainer","button","CreateMapField","secondsElapsed","minutesElapsed","NotFinish_Create","progressValue","interval","setInterval","secondtick","progresstick","clearInterval","align","disabled","chip2","DrawerName","hidden_list","MenuDrawer","drawer_switch","TagDelete","HandleClose","SetMenuClose","chips","Chip","clickable","Drawer","anchor","onKeyDown","ButtonClick","beforunload","userAgent","navigator","isOpera","myBrowser","clientY","ak","altKey","currentTarget","document","activeElement","App","MenuOpened","drawer","selectedVid","Progress","VisJson","progress","v","w","onbeforeunload","Set_NotFinishCreate","CreatingField","userSelect","fullScreen","render","basename","process","getElementById"],"mappings":"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","file":"static/js/main.1d6d43a0.chunk.js","sourcesContent":["import React from 'react';\nimport {RadioButton, RadioButtonGroup} from 'material-ui/RadioButton';\n\nclass HighlightModeSelector extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n  return(\n    <div>\n    <RadioButtonGroup name=\"choose\" defaultSelected=\"not_light\" onChange = {this.props.action}>\n    <RadioButton\n        value=\"1\"\n        label=\"mode1\"\n      />\n      <RadioButton\n        value=\"2\"\n        label=\"mode2\"\n      />\n      <RadioButton\n        value=\"3\"\n        label=\"mode3\"\n      />\n    </RadioButtonGroup>\n      </div>\n  );\n  }\n}\nexport default HighlightModeSelector;","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { PropTypes } from 'prop-types';\nimport * as d3 from \"d3\";\n\nconst styles = theme => ({\n    area: {\n      margin:10,\n    //   padding: 20,\n    //   overflow:auto\n    },\n    paper: {\n          padding: 10, //theme.spacing.unit * 2,\n          margin : 20,//theme.spacing.unit * 4,\n        },\n    container: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        },\n    text:{\n        margin:10,\n        padding:20,\n        fontSize:16,\n    }\n  });\n\nclass Video_info extends Component {\n    constructor(props) {\n        super(props);\n        // this.buttonClick = this.buttonClick.bind(this);\n    }\n    \n    componentDidMount() {\n    }\n    // buttonClick(vid,e){\n    //     console.log(\"click\",e,vid);\n    // }\n    \n    render() {\n        return ( \n            // <Typography className=\"node_info\"><a href=\"https://www.w3schools.com/html/\">Visit our HTML tutorial</a></Typography>\n            <div>\n                <IconButton color=\"inherit\" onClick={this.props.CloseDrawer} aria-label=\"Close\">\n                    <CloseIcon /> \n                </IconButton>\n                \n                <Paper  elevation={1} style={styles.paper}>\n                <div style={styles.container}>\n                        <Typography variant=\"headline\" component=\"h5\" >\n                            {this.props.videos_info[this.props.vid].transcript}\n                        </Typography>\n                </div>\n                    \n                </Paper>\n            </div>\n        );\n    }\n}\nexport default Video_info;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\n\r\nconst styles = ({\r\n    root: {\r\n        flexGrow: 1,\r\n      },\r\n      bar:{\r\n        background:\"#0088A8\",\r\n        // padding:2\r\n      },\r\n      APPName: {\r\n        flexGrow: 1,\r\n        marginLeft:10,\r\n        fontSize:20,\r\n        fontFamily:\"Cambria\"\r\n      },\r\n      menuButton: {\r\n        // marginLeft: 5,\r\n        marginRight: 1,\r\n\r\n      },\r\n      menuButton: {\r\n        // marginLeft: -5,\r\n        marginRight: 1,\r\n\r\n      },\r\n});\r\n\r\nclass BarField extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.state = {\r\n        //     chipdata:this.props.SearchHistory,\r\n        //     SearchKeyword : null,\r\n        // }\r\n        this.HomeOnClick = this.HomeOnClick.bind(this);\r\n        this.MenuOnClick = this.MenuOnClick.bind(this);\r\n    }\r\n    HomeOnClick(){\r\n        console.log(\"[click] HomePage\");\r\n        this.props.SetProgress(1);//this.setProgress(1,null);\r\n    }\r\n    MenuOnClick(){\r\n        // console.log(\"menu click\");\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/SearchHistory/')\r\n        .then(function (res) {\r\n        //    console.log(res.json());\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            // console.log(\"already\",myJson);\r\n            // tmp.setState({SearchHistory:myJson});\r\n            tmp.props.SetSearchHistory(myJson);\r\n            tmp.props.SetMenuOpen();\r\n            return myJson;\r\n        });\r\n        \r\n    }\r\n    render() {\r\n        // console.log(\"learingmap\",this.props);\r\n        return (\r\n            <div style={styles.root}>\r\n            <AppBar position=\"static\" style={styles.bar}>\r\n            <Toolbar>\r\n                <IconButton style={styles.menuButton} color=\"inherit\" aria-label=\"Menu\">\r\n                    <MenuIcon onClick={this.MenuOnClick}/>\r\n                </IconButton>\r\n                <IconButton style={styles.homeButton} color=\"inherit\" aria-label=\"Home\">\r\n                    <HomeIcon onClick={this.HomeOnClick}/>\r\n                </IconButton>\r\n                <Typography variant=\"title\" color=\"inherit\" style={styles.APPName}>\r\n                Learning Map\r\n                </Typography>\r\n                {/* <Button color=\"inherit\">Login</Button> */}\r\n            </Toolbar>\r\n            </AppBar>\r\n        </div>\r\n        );\r\n    }\r\n    \r\n}\r\nexport default BarField;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nconst styles = ({\r\n    title:{\r\n        fontSize:150,\r\n    },\r\n  });\r\nclass AlertDialog extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.RenderButtons = this.RenderButtons.bind(this);\r\n        this.CheckExistedMap = this.CheckExistedMap.bind(this);\r\n        this.CreateNewMap = this.CreateNewMap.bind(this);\r\n        \r\n    }\r\n    CheckExistedMap(){\r\n        this.props.Go_CheckExistedMap(this.props.keyword);\r\n    }\r\n    CreateNewMap(){\r\n        this.props.Go_CreateNewMap(this.props.keyword);\r\n    }\r\n    \r\n\r\n    RenderButtons(){\r\n        if(this.props.alertCondition==\"null\"){\r\n            return(\r\n                <Button onClick={this.props.HandleAlertClose} color=\"primary\">\r\n                OK\r\n                </Button>\r\n            );\r\n        }\r\n        else if(this.props.alertCondition==\"exist\"){\r\n            return(\r\n                <div>\r\n                <Button onClick={this.CheckExistedMap.bind(this)} color=\"primary\">\r\n                OK\r\n                </Button>\r\n                <Button onClick={this.CreateNewMap.bind(this)} color=\"primary\">\r\n                No,Create a new one\r\n                </Button>\r\n                </div>\r\n            );\r\n        }\r\n        else if(this.props.alertCondition==\"notExist\"){\r\n            return(\r\n                <div>\r\n                <Button onClick={this.CreateNewMap.bind(this)} color=\"primary\">\r\n                    OK\r\n                </Button>\r\n                <Button onClick={this.props.HandleAlertClose} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        // console.log(this.props.keyword);\r\n        var title,message;\r\n        if(this.props.alertCondition==\"null\"){\r\n            title=\"Error\";\r\n            message = \"The query must have at least a keyword! \";\r\n        }\r\n        else if(this.props.alertCondition==\"exist\"){\r\n            title=\"Check the learning map already created?\";\r\n            message = \" '\"+this.props.keyword+\"' has already been searched before. You can check the learning map already created or create a new one.\";\r\n        }\r\n        else if(this.props.alertCondition==\"notExist\"){\r\n            title=\"Create a learning map?\";\r\n            message = \"Create a learning map will cost about 10~15 minutes, Are you sure you want to create a learning map? \"\r\n        }\r\n        return (\r\n        <div  style={styles.title}>\r\n            <Dialog\r\n            open={this.props.alertOpen}\r\n            onClose={this.props.HandleAlertClose}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n            >\r\n            <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText id=\"alert-dialog-description\">\r\n                {message}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            {this.RenderButtons()}\r\n                {/* <Button onClick={this.handleClose} color=\"primary\">\r\n                Disagree\r\n                </Button>\r\n                <Button onClick={this.handleClose} color=\"primary\" autoFocus>\r\n                Agree\r\n                </Button> */}\r\n            </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n        );\r\n  }\r\n}\r\nexport default AlertDialog;","export default __webpack_public_path__ + \"static/media/homepage2.b2d75fa2.png\";","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { PropTypes } from 'prop-types';\nimport Autosuggest from 'react-autosuggest';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Downshift from 'downshift';\nimport Input from '@material-ui/core/Input';\nimport Typography from '@material-ui/core/Typography';\nconst styles = ({\n  paper:{\n    listStyleType: 'none',\n  },\n  input: {\n     \n    // margin: 10,\n    fontSize:20,\n  },\n  container: {\n    flexGrow: 1,\n    backgroundColor: 'white',\n    position: \"relative\",\n},\nsuggestionsContainerOpen: {\n    zIndex: 5,\n    position: \"absolute\",\n    left: 0,\n    right: 0,\n},\nsuggestion: {\n    display: 'block',\n    position:  \"relative\",\n    fontSize:20,\n},\nsuggestionsList: {\n    position:  \"relative\",\n    margin: 0,\n    padding: 0,\n    listStyleType: 'none',\n    fontSize:20,\n},\n});\n  function getSuggestions(o,tmpthis){\n    const inputValue = o.value.trim().toLowerCase();\n    const inputLength = inputValue.length;\n  \n    return inputLength === 0 ? [] : tmpthis.props.historyWords.filter(option =>\n      option.toLowerCase().slice(0, inputLength) === inputValue\n    );\n  };\n  \n  // When suggestion is clicked, Autosuggest needs to populate the input\n  // based on the clicked suggestion. Teach Autosuggest how to calculate the\n  // input value for every given suggestion.\nfunction getSuggestionValue (suggestion){\n  return  suggestion;\n};\n  \n  function renderInputComponent  (inputProps){\n    // console.log(\"inputProps\",inputProps);\n   return(\n        <div >\n        <Input {...inputProps} style={styles.input} />\n        {/* <Input placeholder=\"Concept \" \n        style={styles.input} value={this.state.name} \n        // inputProps={{  'aria-label': 'Description',  } }    */}\n      </div>\n   );\n  };\n\n\n  function renderSuggestion (suggestion){\n    return(\n      <MenuItem\n      component=\"div\">\n      {suggestion}\n    </MenuItem>\n    );\n  };\n  function renderSuggestionsContainer(options ){\n    return(\n          <Paper style={styles.paper}\n          square\n          {...options.containerProps}\n          >\n          {options.children}\n          </Paper>\n    );\n \n  };\n  \n \n  class AutoSuggestions extends Component {\n    constructor(props) {\n      super(props);\n      \n      // Autosuggest is a controlled component.\n      // This means that you need to provide an input value\n      // and an onChange handler that updates this value (see below).\n      // Suggestions also need to be provided to the Autosuggest,\n      // and they are initially empty because the Autosuggest is closed.\n      this.state = {\n        value: '',\n        suggestions: []\n      };\n      this.onChange = this.onChange.bind(this);\n      this.onSuggestionsFetchRequested = this.onSuggestionsFetchRequested.bind(this);\n      this.onSuggestionsClearRequested = this.onSuggestionsClearRequested.bind(this);\n    }\n    \n    \n    onChange (event, { newValue })  {\n      this.props.TextChange(newValue);\n      this.setState({\n        value: newValue\n      });\n      \n    };\n\n  \n  \n    // Autosuggest will call this function every time you need to update suggestions.\n    // You already implemented this logic above, so just use it.\n    onSuggestionsFetchRequested( value ) {\n      this.setState({\n        suggestions: getSuggestions(value,this)\n      });\n    };\n  \n    // Autosuggest will call this function every time you need to clear suggestions.\n    onSuggestionsClearRequested() {\n      this.setState({\n        suggestions: []\n      });\n    };\n  \n    render() {\n      const { value, suggestions } = this.state;\n      // Autosuggest will pass through all these props to the input.\n      const inputProps = {\n        placeholder: 'Concept',\n        value,\n        onChange: this.onChange\n      };\n  \n      // Finally, render it!\n      return (\n        <div style={styles.paper}>\n        <Autosuggest\n        theme={{\n                    container: styles.container,\n                    suggestionsContainerOpen: styles.suggestionsContainerOpen,\n                    suggestionsList: styles.suggestionsList,\n                    suggestion: styles.suggestion,\n                }}\n          suggestions={this.state.suggestions}\n          onSuggestionsFetchRequested={this.onSuggestionsFetchRequested.bind(this)}\n          onSuggestionsClearRequested={this.onSuggestionsClearRequested.bind(this)}\n          getSuggestionValue={getSuggestionValue}\n          renderInputComponent={renderInputComponent.bind(this)}\n          renderSuggestion={renderSuggestion}\n          renderSuggestionsContainer={renderSuggestionsContainer.bind(this)}\n          inputProps={inputProps}\n        />\n        </div>\n      );\n      \n    }\n  }export default AutoSuggestions;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Input from '@material-ui/core/Input';\r\nimport Search from '@material-ui/icons/Search';\r\nimport Button from '@material-ui/core/Button';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport AlertDialog from './AlertDialog';\r\nimport HomePageImg from './homepage2.png';\r\nimport AutoSuggestions from './AutoSuggestions';\r\n\r\nconst styles = ({\r\n    root1:{\r\n        height:\"85%\",\r\n        width:\"95%\",\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        backgroundImage: \"url(\" + HomePageImg + \")\",\r\n        backgroundRepeat: \"no-repeat\",\r\n        backgroundSize: \"74%\",\r\n        backgroundPosition: \"center\",\r\n        margin:20,\r\n\r\n    },\r\n    root2: {\r\n    //   height: \"100%\",\r\n      width : \"40%\",\r\n      padding: 15, //theme.spacing.unit * 2,\r\n      margin : 120,//theme.spacing.unit * 4,\r\n    },\r\n    container: {\r\n      display: 'flex',\r\n      justifyContent: 'center',\r\n      flexWrap: 'wrap',\r\n      paddingTop:10,\r\n      paddingBottom:5,\r\n    },\r\n    input: {\r\n     \r\n      margin: 10,//theme.spacing.unit,\r\n      fontSize:20,\r\n    },\r\n    chip: {\r\n        margin: 8,\r\n        padding:5,\r\n        fontSize:13\r\n      },\r\n    img:{\r\n        opacity:0.2\r\n    }\r\n  });\r\n\r\n  \r\nclass SearchField extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            chipdata:this.props.SearchHistory,\r\n            SearchKeyword : null,\r\n            historyWords:[],\r\n            alertOpen:false,\r\n            alertCondition : null,\r\n        }\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.TagClick = this.TagClick.bind(this);\r\n        this.TextChange = this.TextChange.bind(this);\r\n        this.HandleAlertClose = this.HandleAlertClose.bind(this);\r\n        this.Go_CreateNewMap = this.Go_CreateNewMap.bind(this);\r\n        this.Go_CheckExistedMap = this.Go_CheckExistedMap.bind(this);\r\n    }\r\n    componentWillMount(){\r\n        // console.log(\"SearcgFieldMount\");\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/SearchHistory/')\r\n        .then(function (res) {\r\n        //    console.log(res.json());\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            tmp.setState({\r\n                historyWords:myJson\r\n            });\r\n            return myJson;\r\n        });\r\n    }\r\n    \r\n    Go_CreateNewMap(keyword){\r\n        this.props.SetProgress(2);\r\n        this.props.SetSearchKeyword(keyword);\r\n    }\r\n    Go_CheckExistedMap(keyword){\r\n        console.log(\"here .....\")\r\n        console.log(keyword);\r\n        if (keyword==\"bitcoin introduction\"){\r\n            console.log(\"here!!!!XXXXbitcoin\")\r\n            var tmp = this;\r\n            var index = 0;\r\n            fetch('https://appbackend-hci.herokuapp.com/GetJson_bitcoin/'+index)\r\n            .then(function (res) {\r\n                return res.json();\r\n            }).then(function(myJson) {\r\n                tmp.props.SetProgress(3,myJson);\r\n                return myJson;\r\n            });\r\n        }\r\n        else{\r\n            var tmp = this;\r\n            fetch('https://appbackend-hci.herokuapp.com/GetAnalyzeResult/'+keyword)\r\n            .then(function (res) {\r\n                return res.json();\r\n            }).then(function(myJson) {\r\n                // console.log(\"myJson\",myJson.search_info);\r\n                tmp.props.SetProgress(3,myJson);\r\n                return myJson;\r\n            });\r\n        }\r\n        \r\n    }\r\n    handleClick(e){\r\n        if(this.state.SearchKeyword==null){\r\n            this.setState({\r\n                alertOpen:true,\r\n                alertCondition:\"null\"\r\n            });\r\n        }else if(this.state.historyWords.includes(this.state.SearchKeyword)){\r\n            this.setState({\r\n                alertOpen:true,\r\n                alertCondition:\"exist\"\r\n            });\r\n        }else{\r\n            this.setState({\r\n                alertOpen:true,\r\n                alertCondition:\"notExist\"\r\n            });\r\n        }\r\n        \r\n    }\r\n    TagClick(keyword){\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/GetAnalyzeResult/'+keyword)\r\n        .then(function (res) {\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            // console.log(\"myJson\",myJson.search_info);\r\n            tmp.props.SetProgress(3,myJson);\r\n            return myJson;\r\n        });\r\n    }\r\n    TagDelete(keyword){\r\n        // console.log(\"tag delete\",this);\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/DeleteAnalyzeResult/'+keyword)\r\n        .then(function (res) {\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            tmp.props.SetSearchHistory(myJson);\r\n            return myJson;\r\n        });\r\n    }\r\n    TextChange(e){\r\n        // sconsole.log(\"eeee\",this,e.target.value);\r\n        this.setState({\r\n            SearchKeyword:e,\r\n            // SearchKeyword:e.target.value\r\n        });\r\n    }\r\n    HandleAlertClose(){\r\n        this.setState({\r\n            alertOpen:false,\r\n        });\r\n    }\r\n    render() {\r\n        // console.log(\"search\",this.state.SearchKeyword);\r\n        return (\r\n            <div style={styles.root1} >\r\n            {/* <img src={HomePage2} style={styles.img} /> */}\r\n            \r\n            <Paper style={styles.root2} elevation={13}>\r\n                <div style={styles.container} >\r\n                    {/* <Input placeholder=\"Concept \" style={styles.input} value={this.state.name} inputProps={{  'aria-label': 'Description',  } } onChange={this.TextChange} /> */}\r\n                    <AutoSuggestions historyWords={this.state.historyWords} TextChange={this.TextChange}/>\r\n                    <Button size = \"small\" onClick={this.handleClick}>\r\n                        <Search style = {{margin:10}}/>\r\n                    </Button>\r\n                </div>\r\n                \r\n            </Paper>\r\n            <AlertDialog \r\n                keyword = {this.state.SearchKeyword}\r\n                alertOpen={this.state.alertOpen} \r\n                HandleAlertClose={this.HandleAlertClose} \r\n                alertCondition={this.state.alertCondition}\r\n                Go_CreateNewMap={this.Go_CreateNewMap}\r\n                Go_CheckExistedMap={this.Go_CheckExistedMap}\r\n            />\r\n            </div>\r\n        );\r\n        \r\n    }\r\n}\r\nexport default SearchField;","import React, { Component } from 'react';\r\nimport ReactDOM, { render } from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport * as d3 from \"d3\";\r\nimport Popover from '@material-ui/core/Popover';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport * as cldrSegmentation from 'cldr-segmentation';\r\nimport CommunicationCallSplit from 'material-ui/svg-icons/communication/call-split';\r\nimport { text } from 'd3';\r\n\r\n\r\n// import { withStyles } from '@material-ui/core/styles';\r\nconst styles = {\r\n    block: {\r\n        margin: 10,\r\n    },\r\n    circle: {\r\n        cursor: \"pointer\",\r\n        // fill:\"#555\",\r\n        // zIndex:-1,\r\n        // opacity:0.4,\r\n    },\r\n    conceptlabel: {\r\n        // fontFamily:\"EB Garamond\",\r\n        position: \"absolute\",\r\n        zIndex: -1,\r\n        fontSize: 14,\r\n\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n//   var ScaleDotSize = d3.scaleLinear()\r\n//   .domain([0,70])//Math.max.apply(Math,recorditems.map(function(o){return o.cnt;}))\r\n//   .range([5,7]);//4,6\r\nfunction HighLightTextStyle(HighlightNodeText, HighlightNodes, index) {\r\n    if (HighlightNodeText != null) {\r\n        if (HighlightNodeText.includes(index) && HighlightNodes.includes(index)) {\r\n            // return {fill:\"red\"};\r\n            return { textShadow: \"0px 0px 15px #ff5151,0px 0px 15px #ff5151\" };\r\n        } else {\r\n            return { fill: \"black\" };\r\n        }\r\n    }\r\n    return { fill: \"black\" };\r\n}\r\nfunction FadeTextStyle(Path_ConceptIndex, HighlightNodes, index) {\r\n    if (Path_ConceptIndex != null && HighlightNodes.length != 0 && !HighlightNodes.includes(index)) {\r\n        // return {fill:\"red\"};\r\n        return { fillOpacity: \"0.5\" };\r\n    }\r\n    return { fill: \"black\" };\r\n}\r\n\r\nclass Node extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            anchorEl: null,\r\n            studentslist: []\r\n        };\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleHover = this.handleHover.bind(this);\r\n        this.NodeRadius = this.NodeRadius.bind(this);\r\n        this.handleMouseOut = this.handleMouseOut.bind(this);\r\n        //this.handleHighlight = this.handleHighlight.bind(this);\r\n        //console.log(this.props.data.name);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.d3Node = d3.select(ReactDOM.findDOMNode(this))\r\n            .datum(this.props.data)\r\n        // .call(this.props.enterNode)\r\n        // console.log(\"node this\",ReactDOM.findDOMNode(this),this.props.data);\r\n    }\r\n\r\n    // let the node can be moved!!!\r\n    componentDidUpdate() {\r\n        this.d3Node.datum(this.props.data)\r\n            .call(this.props.updateNode)\r\n        // console.log(\"Update!!\",this.props.data.index,this.props.HighlightNodes);\r\n    }\r\n\r\n\r\n\r\n    handleClick(e) {\r\n        //console.log(\"[click],conceptMapNode\",\",\",this.props.data.name,\",\",this.props.data.index);\r\n        //console.log(this.pros);\r\n        // d3.select(ReactDOM.findDOMNode(this)).select('text')\r\n        // .transition()\r\n        // .duration(500)\r\n        // .attr(\"text-anchor\",\"middle\")\r\n        // .style(\"font-style\",\"italic\")\r\n        // .style(\"text-shadow\",\"2px 2px 4px #888\")\r\n        // .style(\"font-size\",\"19\");\r\n\r\n        this.setState({\r\n            anchorEl: ReactDOM.findDOMNode(this),\r\n        });\r\n        this.props.SetPath_ConceptIndex(\"add\", this.props.data.index);\r\n    };\r\n    handleClose() {\r\n        // console.log(\"unclick\",ReactDOM.findDOMNode(this));\r\n        d3.select(ReactDOM.findDOMNode(this)).select('text')\r\n            .transition()\r\n            .duration(500)\r\n            .attr(\"text-anchor\", \"right\")\r\n            .style(\"font-style\", \"normal\")\r\n            .style(\"text-shadow\", \"none\")\r\n            .style(\"font-size\", \"14\");\r\n\r\n        this.setState({\r\n            anchorEl: null,\r\n        });\r\n\r\n    };\r\n\r\n    handleHover(i) {\r\n\r\n        var data_db = this.state.studentslist[0];\r\n        var revised_string = '<strong>';\r\n        if (data_db.includes(this.props.data.name)) {\r\n            //revised_string = revised_string.concat(this.props.data.name, '</strong>');\r\n            //console.log(revised_string)\r\n            //this.props.SetHighlightWord(revised_string);\r\n            this.props.SetHoverConceptIndex(this.props.data.index, this.props.data.name);\r\n            this.props.SetHighlightNodes(this.props.data.index);\r\n    \r\n        }\r\n        else {\r\n            this.props.SetHoverConceptIndex(this.props.data.index, this.props.data.name);\r\n            this.props.SetHighlightNodes(this.props.data.index);    \r\n            console.log(\"node does not exist in content\");\r\n        }\r\n        \r\n        console.log(\"[hover],conceptMapNode\", \",\", this.props.data.name, \",\", this.props.data.index);\r\n        // console.log(ReactDOM.findDOMNode(this));\r\n\r\n        //--------------------\r\n        console.log(\"this.props.data.name = \", this.state.studentslist);\r\n        //---------------------\r\n\r\n\r\n    };\r\n\r\n\r\n\r\n    NodeRadius(cnt, Range) {\r\n        var ScaleDotSize = d3.scaleLinear()\r\n            .domain([Range[0], Range[1]])//Math.max.apply(Math,recorditems.map(function(o){return o.cnt;}))\r\n            .range([6, 15]);//4,6\r\n        return ScaleDotSize(cnt)\r\n    }\r\n\r\n    ClickedNode(highlight, radius) {\r\n        if (highlight == true) {\r\n            return (\r\n                <circle ref=\"dragMe\"\r\n                    fill=\"#AAAAAA\"\r\n                    r={radius}\r\n                    opacity={0.4} >\r\n                </circle>\r\n            );\r\n        }\r\n    }\r\n    handleMouseOut(){\r\n        this.props.ClearHoverConcept();\r\n        console.log(\"handleout!!\");\r\n    }\r\n\r\n    //欲修改Node顏色，於此區塊修改\r\n    render() {\r\n\r\n        //console.log(this.props.SetPath_ConceptIndex);\r\n        if (this.props.Path_ConceptIndex == null) {\r\n            var NodeOpacityValue = this.props.HighlightNodes.includes(this.props.data.index) ? 1 : 0.4;\r\n        } else {\r\n            var NodeOpacityValue = this.props.HighlightNodes.includes(this.props.data.index) ? 1 : 0.3;\r\n        }\r\n\r\n        // var NodeColor =  this.props.HighlightNodes.includes(this.props.data.index)? \"#009FCC\":\"#555\" ;\r\n\r\n        if (this.props.Path_ConceptIndex == this.props.data.index) {\r\n            var NodeColor = \"#444444\";\r\n        } else if (this.props.HoverConceptIndex == this.props.data.index) {\r\n            var NodeColor = \"#5c4350\";\r\n            // \"#17667c\"r\r\n        }\r\n        else {\r\n            // var NodeColor =  this.props.HighlightNodes.includes(this.props.data.index)? \"#009FCC\":\"#555\" ;\r\n            if (this.props.DirectNodes.includes(this.props.data.index)) {\r\n                var NodeColor = \"#009FCC\"; // \"#8f7683\"\r\n            } else if (this.props.HighlightNodes.includes(this.props.data.index)) {\r\n                var NodeColor = \"#009FCC\";\r\n            } else {\r\n                var NodeColor = \"#555\";\r\n            }\r\n        }\r\n        if (this.props.SetPath_ConceptIndex == false) {\r\n            var NodeColor = \"#AFC700\";\r\n            console.log(\"fixing line ...\");\r\n        }\r\n\r\n\r\n        return (\r\n            <g className='node' >\r\n                {/* <circle ref=\"dragMe\" onMouseOver={thi(s.handle.bind(this)}/> */}\r\n                <circle ref=\"dragMe\"\r\n                    onClick={this.handleClick.bind(this)}\r\n                    onMouseOver={this.handleHover.bind(this)}\r\n\r\n                    // 應該要綁定一個事件是當用戶觸發某個狀態 會從新繪圖 e.g. mouse over\r\n                    //onMouseOver={this.handleHighlight.bind(this)} \r\n\r\n\r\n                    onMouseOut={this.handleMouseOut}\r\n                    r={this.NodeRadius(this.props.data.count, this.props.ConceptRange)}\r\n                    // r = {ScaleDotSize(this.props.data.count)}\r\n                    style={Object.assign({}, styles.circle, { opacity: NodeOpacityValue, fill: NodeColor })}\r\n                >\r\n                </circle>\r\n                {/* {this.ClickedNode(this.props.BigCircleIndex==this.props.data.index,this.NodeRadius(this.props.data.count,this.props.ConceptRange)+15)} */}\r\n\r\n                {/* <Popover\r\n                    open={Boolean(this.state.anchorEl)}\r\n                    anchorEl={this.state.anchorEl}\r\n                    onClose={this.handleClose}\r\n                    anchorOrigin={{\r\n                        vertical: 'bottom',\r\n                        horizontal: 'center',\r\n                    }}\r\n                    transformOrigin={{\r\n                        vertical: 'top',\r\n                        horizontal: 'center',\r\n                    }}\r\n                >\r\n                    <div style={styles.block}>\r\n                        <PopoverContent node={this.props.data} video_info = {this.props.video_info} OpenDrawer = {(text) =>this.props.OpenDrawer(text)}/>\r\n                    </div>\r\n                </Popover> */}\r\n                {/* <circle ref=\"dragMe\" onMouseOver={ Tooltip.show(findDOMNode(this.refs.foo))}/> */}\r\n                {/* <text style={styles.conceptlabel} dx=\"5\" dy=\"8\">  {this.props.data.name}</text> */}\r\n                <text\r\n                    style={Object.assign({},\r\n                        styles.conceptlabel,\r\n                        HighLightTextStyle(this.props.HighlightNodeText, this.props.HighlightNodes, this.props.data.index),\r\n                        FadeTextStyle(this.props.Path_ConceptIndex, this.props.HighlightNodes, this.props.data.index))}\r\n                    dx=\"5\"\r\n                    dy=\"8\">{this.props.data.name}\r\n                </text>\r\n\r\n            </g>\r\n        );\r\n    }\r\n}\r\nexport default Node;","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { PropTypes } from 'prop-types';\nimport * as d3 from \"d3\";\n\n\nclass Link extends Component {\n    constructor(props) {\n        super(props);\n    }\n    componentDidMount() {\n        this.d3Link = d3.select(ReactDOM.findDOMNode(this))\n            .datum(this.props.data)\n            .call(this.props.enterLink);\n        d3.select(ReactDOM.findDOMNode(this)).attr('marker-end',function(d) {\n                if(d.prerequisite!=null){return 'url(#markerArrow)' }\n            })\n    }\n\n    componentDidUpdate() {\n        this.d3Link.datum(this.props.data)\n            .call(this.props.updateLink);\n        // console.log(\"Update!!\",this.props.data.index,this.props.HighlightNodes);\n        this.DoHighlight(ReactDOM.findDOMNode(this),this.props.HighlightNodes);\n    }\n    DoHighlight(loc,d_neighbors){\n          d3.select(loc)\n        //   .style(\"stroke\", function (o) {\n        //     return (d_neighbors.includes(o.source.index) & d_neighbors.includes(o.target.index) & o.prerequisite!=null)? \"#999999\":\"#bbb\";\n        //   })\n          .style(\"opacity\", function (o) {\n            return (d_neighbors.includes(o.source.index) & d_neighbors.includes(o.target.index) & o.prerequisite!=null)? 1:0.1;\n          });\n    }\n    render() {\n        return (\n            <line className='link'  />\n        );\n    }\n}\nexport default Link;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport * as d3 from \"d3\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\n\r\n// import { withStyles } from '@material-ui/core/styles';\r\nconst styles = {\r\n    circle: {\r\n        cursor: \"pointer\",\r\n        // fill:\"red\",\r\n    }, \r\n    ConceptBigCircle:{\r\n        // fill:\"#B2DFDB\",\r\n        fill: \"#D4D4D4\",\r\n        opacity: 0.55,\r\n        cursor: \"pointer\",\r\n        // transition:\"all 12s\",\r\n    },\r\n    Sentcircle:{\r\n        opacity: 0.7,\r\n    },\r\n    conceptlabel:{\r\n        // fontFamily:\"EB Garamond\",\r\n        fontSize:19,\r\n        textAnchor:\"middle\",\r\n        fontStyle:\"italic\",\r\n        textShadow:\"2px 2px 4px #888\"\r\n    },\r\n  };\r\n\r\n  \r\n  function CircleShadow(Hightlight){\r\n    if(Hightlight){\r\n        return{stroke:\"#ff7575\", strokeWidth:3, strokeOpacity:0.8};\r\n    }\r\n    else{\r\n        return{};\r\n    }\r\n}\r\n  \r\n\r\nclass PopoverNode extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            // anchorEl: null,\r\n            // NodeClicked: false\r\n        };\r\n        this.Location = this.Location.bind(this);\r\n        this.VideoRadius = this.VideoRadius.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleHover = this.handleHover.bind(this);\r\n        this.handleHoverOut = this.handleHoverOut.bind(this);   \r\n    }\r\n    componentWillMount() {\r\n        console.log(\"popover create\");\r\n    }\r\n    componentDidMount() {\r\n        console.log(\"popover create\");\r\n        this.d3Node = d3.select(ReactDOM.findDOMNode(this))\r\n            .datum(this.props.data)\r\n            // .call(this.props.enterNode)\r\n    }\r\n\r\n    // let the node can be moved!!!\r\n    componentDidUpdate() {\r\n        this.d3Node.datum(this.props.data)\r\n            .call(this.props.updateNode)\r\n        // console.log(\"Update!!\",this.props.data.index,this.props.HighlightNodes);\r\n    }\r\n    Location(index,numNodes){\r\n        // var radius = 100;\r\n        var radius = 100 + index *2.5;\r\n        var angle = (index / (numNodes/2)) * Math.PI - 1/2*Math.PI;\r\n        var cx = (radius * Math.cos(angle));\r\n        var cy = (radius * Math.sin(angle));\r\n        return [cx,cy];\r\n    }\r\n    VideoRadius(index){\r\n        return (44-(index*2.5))\r\n    }\r\n    SentimentColor(score){\r\n        // console.log(this.props.SentRange);\r\n        var sentmin = this.props.SentRange[0]<0? this.props.SentRange[0]:-0.1;\r\n        var color = d3.scaleLinear()\r\n            .domain([sentmin,0,this.props.SentRange[1]-0.1])\r\n            .range([\"red\",\"yellow\", \"green\"])\r\n            .interpolate(d3.interpolateHcl);\r\n        return color(score);      \r\n    }\r\n    SentcircleArc(r,percentage){\r\n        // var percentage = 1/4;\r\n        var arc = d3.arc()\r\n        .innerRadius(r)\r\n        .outerRadius(r);\r\n        return arc({startAngle:0, endAngle:(Math.PI*1/4+Math.PI*7/4*percentage)});      \r\n    }\r\n    ArcPercentage(this_likes,likesRange){\r\n        if(likesRange[0]!=likesRange[1]){\r\n            var ArcSize = d3.scaleLinear()\r\n            .domain([likesRange[0],likesRange[1]])\r\n            .range([0,1])\r\n            return ArcSize(this_likes);   \r\n        }else{\r\n            return 1;\r\n        }\r\n           \r\n    }\r\n    handleClose(){\r\n        this.props.SetPopoverIndexes(\"remove\",this.props.data.index);\r\n    }\r\n    handleHover(vid){\r\n        this.props.SetHoverVideoIndex(vid);\r\n    }\r\n    handleHoverOut(){\r\n        this.props.SetHoverVideoIndex(null);\r\n    }\r\n\r\n    render() {\r\n        var numNodes = this.props.data.videos_id.length;\r\n        var video_info = this.props.video_info;\r\n        var LikesList=[]\r\n        this.props.data.videos_id.map( ([vid,cnnt],index) => {LikesList.push(video_info[vid].likeCount);});\r\n        var likesRange=[Math.min(...LikesList),Math.max(...LikesList)];\r\n        var ShowVideoLinks = this.props.data.videos_id.map( ([vid,cnnt],index) => {\r\n            // console.log(vid,video_info[vid].likeCount);\r\n            \r\n            return(\r\n                <g key={\"PopoverNode\"+index}>\r\n                    <Tooltip title={this.props.video_info[vid].title} placement=\"top\">\r\n                    <a xlinkHref={\"https://www.youtube.com/watch?v=\"+vid} target=\"_blank\" >\r\n                        <circle key={vid} \r\n                            cx={this.Location(index,numNodes)[0]} \r\n                            cy={this.Location(index,numNodes)[1]} \r\n                            // r={styles.OuterCircle.r} \r\n                            r = {this.VideoRadius(index)}\r\n                            fill={this.SentimentColor(video_info[vid].userFeedbackScore)} \r\n                            // style={styles.Sentcircle} \r\n                            style = {Object.assign({}, styles.Sentcircle, CircleShadow(vid===this.props.HoverVideoIndex))}    \r\n                        >\r\n                        </circle>\r\n                        {/* <path \r\n                            transform={\"translate(\"+this.Location(index,numNodes)[0]+\",\"+this.Location(index,numNodes)[1]+\")\"}\r\n                            style={styles.Sentcircle} \r\n                            strokeWidth={9}\r\n                            stroke={this.SentimentColor(video_info[vid].comment_sentiment)}\r\n                            d={this.SentcircleArc(this.VideoRadius(index)-4,this.ArcPercentage(video_info[vid].likeCount,likesRange))}\r\n                        ></path> */}\r\n                        <pattern id = {\"attachedImage\"+vid} height = \"150%\" width = \"150%\" patternContentUnits = \"objectBoundingBox\">\r\n                        <image xlinkHref = {video_info[vid][\"thumbnail\"]} preserveAspectRatio = \"xMidYMid meet\" width = \"1.5\" style={styles.img}/>\r\n                        </pattern>\r\n                        <circle key={vid+\"img\"} \r\n                            cx={this.Location(index,numNodes)[0]} \r\n                            cy={this.Location(index,numNodes)[1]} \r\n                            // r={styles.OuterCircle.r-7} \r\n                            r={this.VideoRadius(index)-7} \r\n                            fill={\"url(#attachedImage\"+vid+\")\"} \r\n                            style = {styles.circle} \r\n                            onMouseOver={this.handleHover.bind(this,vid)}\r\n                            onMouseOut={this.handleHoverOut.bind(this)} \r\n                        >\r\n                        </circle>\r\n                    </a>\r\n                    </Tooltip>\r\n                    <text style={styles.conceptlabel} dx=\"5\" dy=\"8\">  {this.props.data.name}</text> \r\n                </g>\r\n            )\r\n        });\r\n        return (\r\n            \r\n            <g className='node' transform={\"translate(\" + this.props.data.x + \",\" + this.props.data.y + \")\"} >\r\n                {/* <circle ref=\"dragMe\" onMouseOver={this.handle.bind(this)}/> */}\r\n                <circle  ref=\"dragMe\" onClick={this.handleClose.bind(this)} r={\"150\"} style = {styles.ConceptBigCircle}></circle>\r\n                {ShowVideoLinks}\r\n            </g>\r\n        );\r\n    }\r\n}\r\nexport default PopoverNode;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport * as d3 from \"d3\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\n\r\n// import { withStyles } from '@material-ui/core/styles';\r\nconst styles = {\r\n    mask:{\r\n        opacity:\"0.01\",\r\n        fill: \"white\",\r\n    },\r\n};\r\n\r\n\r\nclass Masker extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleClick(){\r\n        this.props.SetPath_ConceptIndex(\"clear\",null);\r\n    }\r\n    render() {\r\n        if(this.props.Path_ConceptIndex!=null){\r\n            return(\r\n                <rect \r\n                    style={styles.mask} \r\n                    width={this.props.width} \r\n                    height={this.props.height} \r\n                    onClick={this.handleClick.bind(this)}\r\n                >\r\n                </rect>\r\n            );\r\n        }\r\n        return (\r\n            null\r\n        );\r\n    }\r\n}\r\nexport default Masker;","// refer to :https://codepen.io/vialito/pen/WMKwEr\r\n\r\nimport React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport * as d3 from 'd3';\r\nimport Node from './Node';\r\nimport Link from './Link';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport PopoverNode from './PopoverNode';\r\nimport Masker from './Masker';\r\nimport * as cldrSegmentation from 'cldr-segmentation';\r\n// const width = 1000;\r\n// const height = 800;\r\n\r\n\r\n/* editor component */\r\nimport SunEditor from 'suneditor-react';\r\nimport 'suneditor/dist/css/suneditor.min.css'; // Import Sun Editor's CSS File\r\nimport { axisLeft } from 'd3';\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst styles = ({\r\n    root:{\r\n        overflowX: \"scroll\",\r\n        overflowY: \"scroll\",\r\n    },\r\n    root2:{\r\n        //  zoom:1.2\r\n    },\r\n    mask:{\r\n        opacity:\"0.5\",\r\n    },\r\n    Div:{\r\n        float:axisLeft,\r\n    }\r\n    \r\n  });\r\n\r\n\r\nconst color = d3.scaleOrdinal(d3.schemeCategory10);\r\nconst force = d3.forceSimulation();\r\nvar childNodeDict;\r\n\r\n\r\nconst drag = () => {\r\n    d3.selectAll('g')\r\n        .call(d3.drag()\r\n            .on(\"start\", dragStarted)\r\n            .on(\"drag\", dragging)\r\n            .on(\"end\", dragEnded));\r\n};\r\n\r\nfunction dragStarted(d) {\r\n    if (!currentEvent.active) force.alphaTarget(0.3).restart()\r\n    d.fx = d.x\r\n    d.fy = d.y\r\n    console.log('dragStarted')\r\n}\r\nfunction dragging(d) {\r\n    d.fx = currentEvent.x\r\n    d.fy = currentEvent.y\r\n    console.log('dragging')\r\n}\r\nfunction dragEnded(d) {\r\n    if (!currentEvent.active) force.alphaTarget(0.5)//0\r\n    d.fx = null\r\n    d.fy = null\r\n    console.log('dragEnded')\r\n}\r\n\r\nconst enterNode = (selection) => {\r\n    // selection.select('circle')\r\n        // .attr(\"r\", function(d){return ScaleDotSize(d.count)})\r\n        // .style(\"fill\", function(d) { return '#555' })\r\n\r\n    // selection.select('text')\r\n        // .style(\"transform\", \"translateX(-50%,-50%\")\r\n};\r\nconst updateNode = (selection) => {\r\n    selection.attr(\"transform\", (d) => \"translate(\" + d.x + \",\" + d.y + \")\")\r\n};\r\nconst enterLink = (selection) => {\r\n    selection.attr(\"stroke-width\", 1)\r\n    .style(\"stroke\",\"#bbb\")\r\n        .style(\"opacity\",\".2\")\r\n};\r\nconst updateLink = (selection) => {\r\n    selection\r\n        .attr(\"x1\", (d) => d.source.x)\r\n        .attr(\"y1\", (d) => d.source.y)\r\n        .attr(\"x2\", (d) => d.target.x)\r\n        .attr(\"y2\", (d) => d.target.y);\r\n};\r\nconst updateGraph = (selection) => {\r\n    \r\n    selection.selectAll('.node')\r\n        .call(updateNode);\r\n        // .call(drag);\r\n    selection.selectAll('.link')\r\n        .call(updateLink);\r\n\r\n    var zoom = d3.zoom()\r\n        .scaleExtent([0.6,2])\r\n        .on('zoom', function(d) {\r\n            console.log(\"zoom\",currentEvent.transform.k,14/(currentEvent.transform ?currentEvent.transform.k : 1));\r\n            selection.select('g').attr(\"transform\", currentEvent.transform);\r\n            selection.selectAll('text').style('font-size',14/(currentEvent.transform ?currentEvent.transform.k : 1));\r\n            // selection.selectAll('.node').attr(\"fontSize\",14/(d3.event.transform ? d3.event.transform : 1));\r\n          });\r\n    selection.select('.graphContainer')\r\n    .call(zoom);\r\n};\r\n\r\nfunction CheckDirectNodes(index,BFSinput) {\r\n    var ans=[]\r\n    for (var i in BFSinput) {\r\n        if(BFSinput[i].includes(index)){\r\n            ans.push(parseInt(i));\r\n        }\r\n      }\r\n    console.log(\"CheckDirectNodes\")\r\n    return ans;\r\n}\r\n\r\nclass Graph extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            HighlightNodes: [],\r\n            DirectNodes:[],\r\n            // PopoverIndexes:[],\r\n            studentslist : []\r\n        };\r\n        \r\n        this.SetHighlightNodes = this.SetHighlightNodes.bind(this);\r\n        // this.SetPopoverIndexes = this.SetPopoverIndexes.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        this.d3Graph = d3.select(ReactDOM.findDOMNode(this));\r\n        var force = d3.forceSimulation(this.props.data.concept_relationship.nodes);\r\n\r\n    \r\n        force.on('tick', () => {\r\n            force\r\n            .force(\"charge\", d3.forceManyBody().strength(-700))\r\n            .force(\"link\", d3.forceLink(this.props.data.concept_relationship.links).distance(function(d) {return (1/((d.similarity+0.5))*200);}).strength(0.1))\r\n            .force(\"center\", d3.forceCenter().x(this.props.width*0.6 / 2).y(this.props.height / 2))\r\n            // .force(\"collide\", d3.forceCollide([5]).iterations([5]))\r\n\r\n            // const node = d3.selectAll('g').call(drag);\r\n            this.d3Graph.call(updateGraph)\r\n        });\r\n    }\r\n    SetHighlightNodes(index){\r\n        var ans = CheckDirectNodes(index,this.props.data.BFSinput[index]);\r\n        // console.log(\"hhh\",this.props.data.highlight_nodes[index]);\r\n        \r\n        this.setState(\r\n            {\r\n                HighlightNodes:this.props.data.highlight_nodes[index],\r\n                DirectNodes:ans\r\n            }\r\n        );\r\n    }\r\n    \r\n    \r\n    \r\n    render() {\r\n        \r\n        \r\n        var nodes = this.props.data.concept_relationship.nodes.map( (node) => {\r\n        \r\n\r\n            \r\n            //this.readFirebase();\r\n\r\n\r\n            //console.log(node.name);\r\n            //console.log(\"--------\");\r\n            \r\n            \r\n            \r\n            var data_db = this.state.studentslist[0];\r\n            //console.log(this.state.studentslist);\r\n\r\n            //Assuming reading firebase work\r\n            //var data_db = \"Bitcoin a new wave which is a decentralized digital currency, without a central bank or single administrator, a breakout,that can be sent from user to user on the peer-to-peer bitcoin network without the need for intermediaries. Transactions are verified by network nodes through cryptography and recorded in a public distributed ledger called a blockchain. The cryptocurrency was invented in 2008 by an unknown person or group of people using the name Satoshi Nakamoto. The currency began use in 2009 when its implementation was released as open-source software.\";\r\n            \r\n            // if-else statement on whether token is matched with the left conceptmap\r\n            try{\r\n                //var text_seg = cldrSegmentation.wordSplit(data_db);\r\n                if(data_db.includes(node.name))\r\n                {\r\n                    \r\n                    return (\r\n               \r\n                        <Node\r\n                            data={node}\r\n                            name={node.name}\r\n                            key={\"node\"+node.index}\r\n                            // enterNode = {enterNode}\r\n                            updateNode = {updateNode}\r\n                            // OpenDrawer = {(text) =>this.props.OpenDrawer(text)}\r\n                            SetHighlightNodes = {this.SetHighlightNodes}\r\n                            HighlightNodes = {this.state.HighlightNodes}\r\n                            DirectNodes = {this.state.DirectNodes}\r\n                            HoverConceptIndex = {this.props.HoverConceptIndex}\r\n                            SetHoverConceptIndex={this.props.SetHoverConceptIndex}\r\n                            ClearHoverConcept = {this.props.ClearHoverConcept}\r\n                            Path_ConceptIndex={this.props.Path_ConceptIndex} \r\n                            SetPath_ConceptIndex={this.props.SetPath_ConceptIndex==-1}\r\n                            ConceptRange={this.props.ConceptRange}\r\n                            HighlightNodeText={this.props.HighlightConceptIndex}\r\n                            BigCircleIndex={this.props.BigCircleIndex==null?this.props.Path_ConceptIndex:this.props.BigCircleIndex}\r\n                            SetHightlightWord={this.state.SetHightlightWord}\r\n                        />\r\n                        \r\n                        );\r\n                        \r\n                \r\n    \r\n                }\r\n                else\r\n                {\r\n                    \r\n                    return (\r\n               \r\n                        <Node\r\n                            data={node}\r\n                            name={node.name}\r\n                            key={\"node\"+node.index}\r\n                            // enterNode = {enterNode}\r\n                            updateNode = {updateNode}\r\n                            // OpenDrawer = {(text) =>this.props.OpenDrawer(text)}\r\n                            SetHighlightNodes = {this.SetHighlightNodes}\r\n                            HighlightNodes = {this.state.HighlightNodes}\r\n                            ClearHoverConcept = {this.props.ClearHoverConcept}\r\n                            DirectNodes = {this.state.DirectNodes}\r\n                            HoverConceptIndex = {this.props.HoverConceptIndex}\r\n                            SetHoverConceptIndex={this.props.SetHoverConceptIndex}\r\n                            Path_ConceptIndex={this.props.Path_ConceptIndex} \r\n                            SetPath_ConceptIndex={this.props.SetPath_ConceptIndex}\r\n                            ConceptRange={this.props.ConceptRange}\r\n                            HighlightNodeText={this.props.HighlightConceptIndex}\r\n                            BigCircleIndex={this.props.BigCircleIndex==null?this.props.Path_ConceptIndex:this.props.BigCircleIndex}\r\n                            SetHightlightWord={this.state.SetHightlightWord}\r\n                        />\r\n                        \r\n                        );\r\n    \r\n                }\r\n            }\r\n            catch (err){\r\n                //console.log(err);\r\n                return (\r\n               \r\n                    <Node\r\n                        data={node}\r\n                        name={node.name}\r\n                        key={\"node\"+node.index}\r\n                        // enterNode = {enterNode}\r\n                        updateNode = {updateNode}\r\n                        // OpenDrawer = {(text) =>this.props.OpenDrawer(text)}\r\n                        SetHighlightNodes = {this.SetHighlightNodes}\r\n                        HighlightNodes = {this.state.HighlightNodes}\r\n                        \r\n                        DirectNodes = {this.state.DirectNodes}\r\n                        HoverConceptIndex = {this.props.HoverConceptIndex}\r\n                        SetHoverConceptIndex={this.props.SetHoverConceptIndex}\r\n                        ClearHoverConcept = {this.props.ClearHoverConcept}\r\n                        Path_ConceptIndex={this.props.Path_ConceptIndex} \r\n                        SetPath_ConceptIndex={this.props.SetPath_ConceptIndex}\r\n                        ConceptRange={this.props.ConceptRange}\r\n                        HighlightNodeText={this.props.HighlightConceptIndex}\r\n                        BigCircleIndex={this.props.BigCircleIndex==null?this.props.Path_ConceptIndex:this.props.BigCircleIndex}\r\n                        SetHightlightWord={this.props.SetHightlightWord}\r\n                    />\r\n                    \r\n                    );\r\n            }\r\n      \r\n            \r\n            });\r\n        \r\n        var links = this.props.data.concept_relationship.links.map( (link,i) => {\r\n            return (\r\n                <Link\r\n                    key = {\"link\"+i}\r\n                    // key={link.target+i}\r\n                    data={link}\r\n                    enterLink = {enterLink}\r\n                    updateLink = {updateLink}\r\n                    HighlightNodes = {this.state.HighlightNodes}\r\n                    SetHightlightWord={this.props.SetHightlightWord}\r\n                />);\r\n        });\r\n        \r\n        // var PopoverNodes = this.props.data.concept_relationship.nodes.map( (node) => {\r\n        //     if(this.props.Path_ConceptIndex===node.index){\r\n        //         return(\r\n        //             <g>\r\n        //                 <PopoverNode \r\n        //                     key={\"PopoverNode\"+node.index}\r\n        //                     data={node}\r\n        //                     video_info = {this.props.data.videos_info}\r\n        //                     updateNode = {updateNode}\r\n        //                     SetPopoverIndexes = {this.props.SetPopoverIndexes}\r\n        //                     SentRange = {this.props.SentRange}\r\n        //                     SetHoverVideoIndex = {this.props.SetHoverVideoIndex}\r\n        //                     HoverVideoIndex = {this.props.HoverVideoIndex}\r\n        //                 />\r\n        //             </g>\r\n        //         );\r\n        //     }\r\n        //     return (\r\n        //         null\r\n        //     );\r\n        // });\r\n        \r\n        return (\r\n            <div width={this.props.width} height={this.props.height} style={styles.root} >\r\n                <div style={styles.Div}>\r\n                    <svg className=\"graph\" width={(this.props.width)/2} height={this.props.height} style={styles.root2}>\r\n                        <g className='graphContainer'>\r\n                        <defs>\r\n                        <marker id=\"markerArrow\" viewBox=\"0 -4 10 10\" markerWidth=\"7\" markerHeight=\"7\" refX=\"28\" refY=\"0\" orient=\"auto\" xoverflow=\"visible\" >\r\n                            <path d=\"M0,-4 L10 ,0 L0,4\" fill=\"#5b5b5b\" stroke = \"#5b5b5b\"/>\r\n                        </marker>\r\n                        </defs>\r\n                        <g>\r\n                            {links}\r\n                        </g>\r\n                        <g>\r\n                            {nodes}\r\n                        </g>\r\n                        <g>\r\n                            <Masker \r\n                                width={this.props.width} \r\n                                height={this.props.height}\r\n                                Path_ConceptIndex={this.props.Path_ConceptIndex} \r\n                                SetPath_ConceptIndex ={this.props.SetPath_ConceptIndex}\r\n                            />\r\n                        </g>\r\n                        <g>\r\n                            {/* {PopoverNodes} */}\r\n                            {/* {this.renderMask()} */}\r\n                        </g>\r\n                        </g>\r\n                        \r\n\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Graph;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\n\r\nconst styles = ({\r\n    // root: {\r\n    //     // flexGrow: 1,\r\n    //     overflowX: \"scroll\",\r\n    //     overflowY: \"scroll\",\r\n    //   },\r\n      \r\n});\r\n\r\nclass MarkerIcon extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    \r\n    render() {\r\n        // console.log(\"markerIcon\",this.props);\r\n        return (\r\n            // <div style={styles.root}>\r\n            <svg \r\n                x={this.props.cx==undefined?0:this.props.cx}\r\n                y={this.props.cx==undefined?0:this.props.cy} \r\n                width={(this.props.radius)*2} height={(this.props.radius)*2} \r\n                viewBox={\"0 0 \"+(this.props.radius+2)*2+\" \"+(this.props.radius+2)*2}>\r\n                \r\n                <circle cx={this.props.radius+2}\r\n                        cy={this.props.radius+2}\r\n                        r={this.props.radius}\r\n                        stroke=\"white\"\r\n                        strokeWidth=\"2\"\r\n                        fill={this.props.color}/>\r\n                <text fontSize={this.props.radius*2-10}\r\n                    fill=\"white\"\r\n                    // font-family=\"Verdana\"\r\n                    textAnchor=\"middle\"\r\n                    alignmentBaseline=\"baseline\"\r\n                    x={this.props.radius+2}\r\n                    y={(this.props.radius+1)*3/2}>{this.props.text}</text>\r\n            </svg>\r\n        // </div>\r\n        );\r\n    }\r\n    \r\n}\r\nexport default MarkerIcon;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MarkerIcon from './MarkerIcon';\r\nimport * as d3 from \"d3\";\r\n\r\nconst styles = ({\r\n    container:{\r\n        display: 'flex',\r\n        flexDirection: \"column\",\r\n        paddingTop:15,\r\n    },\r\n    ItemContainer:{\r\n        display: 'flex',\r\n        flexDirection: \"row\",\r\n    },\r\n    ImageContainer:{\r\n        padding:5,\r\n    },\r\n    rowContainer:{\r\n        //  display: 'flex',\r\n        // flexDirection: \"column\",\r\n    },\r\n    videoImage:{\r\n        // width: 100,\r\n        // height: 50,\r\n        // fill: \"grey\",\r\n    },\r\n    timeLabel:{\r\n        fontSize:12,\r\n        fill:\"white\",\r\n        fontFamily:\"Gadugi\",\r\n    },\r\n});\r\nfunction VideoShadow(Hightlight){\r\n    if(Hightlight){\r\n        return{stroke:\"\t#ff7575\", strokeWidth:6, strokeOpacity:0.8};\r\n    }\r\n    else{\r\n        return{};\r\n    }\r\n}\r\nclass VideoSequence extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n        this.handleHover = this.handleHover.bind(this);\r\n        this.handleHoverOut = this.handleHoverOut.bind(this);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    handleHover(vid,index){\r\n        console.log(\"[hover],VideoSequence\",\",\",vid,\",\",index);\r\n        this.props.SetHoverVideoIndex(vid);\r\n    }\r\n    handleClick(vid,index){\r\n        console.log(\"[click],VideoSequence\",\",\",vid,\",\",index);\r\n    }\r\n\r\n    handleHoverOut(){\r\n        this.props.SetHoverVideoIndex(null);\r\n    }\r\n    SentimentColor(score){\r\n        var sentmin = this.props.SentRange[0]<0? this.props.SentRange[0]:-0.1;\r\n        var color = d3.scaleLinear()\r\n            .domain([sentmin,0,this.props.SentRange[1]-0.1])\r\n            .range([\"red\",\"yellow\", \"green\"])\r\n            .interpolate(d3.interpolateHcl);\r\n        return color(score);      \r\n    }\r\n    TimeProcess(str){\r\n        if (str.indexOf('S') > -1){\r\n            return str.replace(\"PT\",\"\").replace(\"H\",\":\").replace(\"M\",\":\").replace(\"S\",\"\");\r\n        }else{\r\n            return str.replace(\"PT\",\"\").replace(\"H\",\":\").replace(\"M\",\":00\");\r\n        }\r\n    }\r\n    render() {\r\n        if(this.props.video_sequences!=undefined){\r\n            var ShowVideoItems = this.props.video_sequences.map( ([vid,cnnt],index) => {\r\n            // console.log(this.props.video_info[vid].thumbnail);\r\n            return(\r\n                <div key={\"videoSeqItem\"+index} style = {styles.ItemContainer}>\r\n                    <div>\r\n                    <MarkerIcon text={index+1} \r\n                        radius={13}\r\n                        // color={\"#21435F\"}\r\n                        color={this.SentimentColor(this.props.video_info[vid].userFeedbackScore)}\r\n                        />\r\n                    </div>\r\n                    <div style={{paddingLeft:5 ,width:\"\"}}>\r\n                        <Typography variant=\"title\" component=\"h2\">\r\n                        <a href={\"https://www.youtube.com/watch?v=\"+vid} \r\n                        target=\"_blank\"\r\n                        onMouseOver={this.handleHover.bind(this,vid,index)}\r\n                        onMouseOut={this.handleHoverOut.bind(this)}\r\n                        onClick={this.handleClick.bind(this,vid,index)}\r\n                        >\r\n                        {this.props.video_info[vid].title}\r\n                        </a>\r\n                        </Typography>\r\n                    <g>\r\n                        <div style ={styles.ImageContainer}>\r\n                            <svg height=\"18\" width=\"38\">\r\n                            <rect  x={0} \r\n                                    y={0} \r\n                                    width=\"37\" height=\"15\"\r\n                                    rx=\"3\"\r\n                                    ry=\"3\"\r\n                                    style={{fill:\"#111111\", opacity: 0.7}}> \r\n                                </rect>\r\n                                <text\r\n                                    x={18} \r\n                                    y={12}\r\n                                    textAnchor=\"middle\"\r\n                                    style={styles.timeLabel}\r\n                                >{this.TimeProcess(this.props.video_info[vid].duration)}\r\n                                </text>\r\n                        </svg>\r\n                        {/* <svg width=\"170\" height=\"120\">\r\n                            <pattern id = {\"VideoSeqImage\"+vid} height = \"100%\" width = \"100%\" patternContentUnits = \"objectBoundingBox\">\r\n                            <image xlinkHref = {this.props.video_info[vid].thumbnail} preserveAspectRatio = \"xMidYMid meet\" height = \"1\"/>\r\n                            </pattern>\r\n                            <rect key={vid+\"VideoSeqImage\"} \r\n                                fill={\"url(#VideoSeqImage\"+vid+\")\"} \r\n                                width=\"160\" \r\n                                height=\"120\"\r\n                                // style = {styles.videoImage}\r\n                                // style = {Object.assign({}, styles.videoImage, {stroke:\"#ff5151\", strokeWidth:5, strokeOpacity:0.8})}\r\n                                style = {Object.assign({}, styles.videoImage, VideoShadow(vid===this.props.HoverVideoIndex))}\r\n                                onMouseOver={this.handleHover.bind(this,vid)}\r\n                                onMouseOut={this.handleHoverOut.bind(this)} >\r\n                            </rect>\r\n                        </svg> */}\r\n                        </div>\r\n                    {/* <hr></hr> */}\r\n                    </g>\r\n                    </div>\r\n                    \r\n                </div>\r\n                \r\n            )\r\n            });\r\n        }\r\n\r\n        return (\r\n            <div style = {styles.container}>\r\n                {ShowVideoItems}\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\nexport default VideoSequence;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport * as d3 from \"d3\";\r\n\r\n\r\n\r\nconst styles = ({\r\n    path:{\r\n        fill: \"none\",\r\n        stroke: \"#222222\",\r\n        strokeWidth: 2,\r\n\t\tstrokeOpacity: 0.6,\r\n\t\tcursor: \"pointer\",\r\n    }\r\n      \r\n});\r\nvar line = d3.line()\r\n        // .curve(d3.curveCardinal.tension(0))\r\n        .curve(d3.curveMonotoneY)\r\n        .x(function(d) { return d.x; })\r\n        .y(function(d) { return d.y; });\r\n        \r\n\r\n\r\nclass CardinalPath extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            PathHovered:false,\r\n        }\r\n        this.PathHover = this.PathHover.bind(this);\r\n    }\r\n\r\n    PathHover(){\r\n        // console.log(\"pathHover\");\r\n        this.setState({\r\n            PathHovered : !this.state.PathHovered,\r\n        });\r\n    }\r\n    \r\n    render() {\r\n        // console.log(\"learingmap\",this.props);\r\n        return (\r\n            <svg>\r\n                <defs>\r\n                <marker id=\"CardinalMarker\" viewBox=\"0 -5 10 10\" refX=\"10\" refY=\"0\" markerWidth=\"3\" markerHeight=\"3\" orient=\"auto\">\r\n                <path d=\"M0,-5L10,0L0,5\"/>\r\n                </marker>\r\n                </defs>\r\n                <path \r\n                    d={line(this.props.data)}\r\n                    style={styles.path}\r\n                    opacity={this.state.PathHovered?1:0.3}\r\n                    onMouseEnter ={this.PathHover.bind(this)}\r\n                    onMouseLeave ={this.PathHover.bind(this)}\r\n                    markerEnd={\"url(#CardinalMarker)\"}\r\n                >\r\n                </path>\r\n            </svg>\r\n        );\r\n    }\r\n    \r\n}\r\nexport default CardinalPath;","// refer to : http://davidstutz.github.io/d3-topological/\r\n//refer to : https://github.com/davidstutz/d3-topological/blob/master/index.html\r\n\r\nimport React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport * as d3 from \"d3\";\r\nimport CardinalPath from \"./CardinalPath\";\r\n\r\nvar cx = 45;//\r\nvar radius = 6;\r\n\r\nconst styles = ({\r\n    conceptSeqGraph:{\r\n        paddingTop: 10,\r\n        marginTop:10,\r\n        width:250,\r\n        // height:900,\r\n    },\r\n    label:{\r\n        // fontSize:16,\r\n    },\r\n    circle:{\r\n        cursor: \"pointer\"\r\n    }\r\n});\r\nconst enterNode = (selection) => {\r\n    selection.select('circle')\r\n         .attr(\"r\", 20)\r\n        // .style(\"fill\", function(d) { return '#009FCC' })\r\n\r\n    selection.select('text')\r\n        .attr(\"dx\", 15)\r\n        .attr(\"dy\", 18)\r\n        .style(\"fontSize\", \"12\")\r\n        // .style(\"transform\", \"translateX(-50%,-50%\")\r\n};\r\nfunction ylocation(index) {\r\n    return index*60 + 15 ; \r\n}\r\n\r\nfunction calculatePath(dependencies,c_sequences,side){\r\n    var result = []\r\n    if(side===\"left\"){\r\n        var xloc = cx - radius;\r\n        var xloc_mid = cx - 40 ;\r\n    }else if (side==\"right\"){\r\n        var xloc = cx + radius;\r\n        var xloc_mid = cx + 45 ;\r\n    }\r\n    // console.log(\"dependencies\",dependencies,c_sequences);\r\n    Object.keys(dependencies).map(function(key) {\r\n        var v = dependencies[key].map((index2)=>{\r\n            var num1 = c_sequences.indexOf(parseInt(key));\r\n            var num2 = c_sequences.indexOf(index2);\r\n            result.push( {\r\n                points:[\r\n                    {\r\n                        x: xloc,//cx - radius,\r\n                        y: ylocation(num1),\r\n                    }, {\r\n                        x: xloc_mid,//cx - 60 ,\r\n                        y: (ylocation(num1) + ylocation(num2))/2,\r\n                    }, {\r\n                        x: xloc,//cx -radius,\r\n                        y: ylocation(num2),\r\n                    }\r\n                ]\r\n            });\r\n        });\r\n    });\r\n    return result;\r\n}     \r\nfunction TextStyle(HighlightConcepts,index){\r\n    if(HighlightConcepts!=null){\r\n        if(HighlightConcepts.includes(index)){\r\n            // return {fill:\"red\"};\r\n            return {textShadow:\"0px 0px 15px #ff7575,0px 0px 15px #ff5151\"};\r\n        }else{\r\n            return  {fill:\"black\"};\r\n        }\r\n    }\r\n    return {fill:\"black\"};\r\n}\r\n\r\n\r\nclass ConceptSequence extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            PathHovered: false,\r\n        };\r\n        this.PathHover = this.PathHover.bind(this);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    componentWillMount(){\r\n        var circles = d3.select('#topological')\r\n                        .selectAll('circle');\r\n    }\r\n    PathHover(){\r\n        this.setState({\r\n            PathHovered: true,\r\n        })\r\n    }\r\n    handleClick(e,number,name){\r\n        console.log(\"[click],ConceptSequenceNode\",\",\",name,\",\",number,\",\",e);\r\n        this.props.SetBigCircleIndex(e);\r\n    };\r\n    ClickedNode(highlight,cx,cy){\r\n        if(highlight==true){\r\n            return(\r\n                <circle \r\n                    cx={cx}\r\n                    cy={cy}\r\n                    fill=\"#AAAAAA\"    \r\n                    r={15}\r\n                    opacity={0.4} >  \r\n                    </circle>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var this_tmp = this;\r\n        \r\n        // console.log(\"thisprops\",this.props.BFSinput,this.props.c_index,this.props.concepts,this.props.concept_sequences);\r\n        if(this.props.c_index!=null){\r\n            var c_sequences = this.props.concept_sequences[this.props.c_index];\r\n            if(c_sequences[0]==\"cycle\"){\r\n                return(\r\n                    <p>cycle!</p>\r\n                )\r\n            }\r\n            // console.log(this.props.BFSinput[this.props.c_index]);\r\n            var nodes = c_sequences.map( (conceptnode,number) => {\r\n                // console.log(\"CheckConceptSeq\",conceptnode,this.props.BigCircleIndex);\r\n                return (\r\n                    <svg key={\"conceptSeqnode\"+number}>\r\n                    <circle key={conceptnode+number} \r\n                        cx={cx} \r\n                        cy={ylocation(number)} \r\n                        r={radius}\r\n                        style={styles.circle}\r\n                        fill={this.props.c_index===conceptnode?'\t#444444':'#009FCC'}//fill=\"#009FCC\" \r\n                        onClick={this.handleClick.bind(this,conceptnode,number,this.props.concepts[conceptnode].name)}\r\n                    >      \r\n                    </circle>\r\n                    {this.ClickedNode(this.props.BigCircleIndex==null?conceptnode==this.props.c_index:conceptnode==this.props.BigCircleIndex,cx,ylocation(number))}\r\n                    <text  x={cx+10} y={ylocation(number)+4} style={TextStyle(this.props.HighlightConceptIndex,this.props.concepts[conceptnode].index)}>{this.props.concepts[conceptnode].name} </text>\r\n                    </svg>\r\n                );\r\n            });\r\n            var dependencies = this.props.BFSinput[this.props.c_index];\r\n            var pathsdata = calculatePath(dependencies,c_sequences,\"left\");\r\n            var paths = Object.keys(pathsdata).map(function(key) {\r\n                // console.log(\"checkpath\",pathsdata[key]);\r\n                return(\r\n                    <CardinalPath key={\"cardinalpath\"+key} data={pathsdata[key].points} style = {styles.path}/>\r\n                )\r\n                \r\n            });\r\n            // console.log(this.props.RemovedCycleLinks[this.props.c_index]);\r\n            var cycle_pathsdata = calculatePath(this.props.RemovedCycleLinks[this.props.c_index],c_sequences,\"right\");\r\n            var cycle_paths = Object.keys(cycle_pathsdata).map(function(key) {\r\n                // console.log(\"checkpath\",pathsdata[key]);\r\n                return(\r\n                    <CardinalPath key={\"cyclepath\"+key} data={cycle_pathsdata[key].points} style = {styles.path}/>\r\n                )\r\n                \r\n            });\r\n           \r\n            return(\r\n                <div id=\"topological\" >\r\n                    <svg className=\"ConceptSeqGraph\" height={60*c_sequences.length} style ={styles.conceptSeqGraph} >\r\n                        <g>\r\n                            {nodes}\r\n                            \r\n                        </g>\r\n                        <g>\r\n                            {paths}\r\n                        </g>\r\n                        <g>\r\n                            {cycle_paths}\r\n                        </g>\r\n                    </svg>\r\n                </div>\r\n            )\r\n        }\r\n        return (\r\n            <p>{this.props.c_index}</p>\r\n            \r\n        );\r\n    }\r\n}\r\nexport default ConceptSequence;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport * as d3 from \"d3\";\r\n// import { typography } from 'material-ui/styles';\r\n\r\nconst styles = ({\r\n    root: {\r\n        // width: 200,\r\n        // height:800,\r\n        position: 'absolute',\r\n        top:120,\r\n        left: 30,\r\n        zIndex: 5,\r\n      },\r\n      heading:{\r\n        fontSize:14,\r\n    },\r\n      constainer:{\r\n        display: 'flex',\r\n        flexDirection: \"column\",\r\n        flexWrap: 'wrap',\r\n      },\r\n      ColorLegend:{\r\n        display: 'flex',\r\n        flexDirection: \"column\",\r\n        flexWrap: 'wrap',\r\n      },\r\n      VideoNodesText:{\r\n        textAnchor:'end'\r\n      },\r\n      \r\n      heading2:{\r\n        fontSize:14,\r\n        fontWeight: \"bold\",\r\n        paddingTop:5,\r\n        paddingBottom:5\r\n    },\r\n});\r\nvar TermCountRange = [];\r\nclass Legend extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.state = {\r\n        //     chipdata:this.props.SearchHistory,\r\n        //     SearchKeyword : null,\r\n        // }\r\n        // this.RenderSentcircles = this.RenderSentcircles.bind(this);\r\n    }\r\n\r\n    VideoRadius(index){\r\n        return (38-(index*2.5))\r\n    };\r\n    // RenderSentcircles(){\r\n    //     for (var index = 1; index <8; index++) {\r\n    //         return(\r\n    //             <svg>\r\n    //             <circle fill=\"red\" r=\"3\" cx=\"5\" cy=\"5\"> </circle>\r\n    //             </svg>\r\n    //     );  \r\n    //     }\r\n        \r\n\r\n    // }\r\n    RenderCircle(){\r\n        var MaxRadius=44;\r\n        var numOfCircle=7;\r\n        \r\n    }\r\n    \r\n    \r\n    render() {\r\n        // console.log(\"Legend\",this.props.Path_ConceptIndex);\r\n        //Concept Node\r\n        var scaleX = d3.scaleLinear()\r\n                 .range([6,15])\r\n                 .domain([0,5]);\r\n\r\n        var ConceptNodes=[0,1,2,3,4,5];\r\n        var ConceptNodesCircle = ConceptNodes.map( (index) => {\r\n            return (\r\n                <g key={\"SentcirclesLegend\"+index}>\r\n                <circle cx={10+index*30} cy={40} r={scaleX(index)} fill=\"#555\" opacity=\"0.4\" > </circle>\r\n                </g>\r\n            );\r\n        });\r\n        //Video Node\r\n        var VideoNodes=[0,1,2,3,4,5,6];\r\n        var MaxRadius=44;\r\n        var VideoNodesCircle = VideoNodes.map( (index) => {\r\n            return (\r\n                \r\n                <g key={\"VideoNodesCircle\"+index}>\r\n                <circle \r\n                    cx=\"50\" cy={50+index*2.5} \r\n                    r={MaxRadius-index*2.5} \r\n                    fill=\"none\" \r\n                    opacity=\"0.7\" \r\n                    stroke=\"#666666\" \r\n                    strokeWidth=\"1\"\r\n                    strokeDasharray=\"1\">\r\n                </circle>\r\n                </g>\r\n            );\r\n        });\r\n        if(this.props.Path_ConceptIndex==null){\r\n            return(\r\n                <div style={styles.root}>\r\n                    <ExpansionPanel defaultExpanded={true}>\r\n                        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                        <Typography style={styles.heading}>Legend</Typography>\r\n                        </ExpansionPanelSummary>\r\n                        <ExpansionPanelDetails>\r\n                            <div style={styles.container}>\r\n                                {/* <div ><hr></hr></div> */}\r\n                                <div style={styles.ColorLegend}>\r\n                                    {/* <Typography style={styles.heading2}>Concept Nodes</Typography> */}\r\n                                    <svg height=\"80\" width=\"200\">\r\n                                    <text   y=\"15\" fill=\"black\">Term Frequency</text>\r\n                                    {ConceptNodesCircle}\r\n                                    <text   y=\"75\" fill=\"#888888\">{(this.props.ConceptRange[0]/this.props.ConceptRange[2]).toFixed(2)}</text>\r\n                                    <text x=\"145\" y=\"75\" fill=\"#888888\">{(this.props.ConceptRange[1]/this.props.ConceptRange[2]).toFixed(2)}</text>\r\n                                    </svg>\r\n                                    {/* <div ><hr></hr></div> */}\r\n                                </div>\r\n                            </div>\r\n                        </ExpansionPanelDetails>\r\n                </ExpansionPanel>\r\n            </div>\r\n            );\r\n        }else{\r\n            var tmpList = [];\r\n            for(var e in this.props.data[this.props.BigCircleIndex].videos_id){\r\n                tmpList.push(this.props.data[this.props.BigCircleIndex].videos_id[e][1]);\r\n            };\r\n            // console.log(\"TermCount\",tmpList);\r\n            TermCountRange=[Math.min(...tmpList),Math.max(...tmpList)];\r\n            \r\n            return(\r\n                <div style={styles.root}>\r\n                    <ExpansionPanel>\r\n                        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n                        <Typography style={styles.heading}>Legend</Typography>\r\n                        </ExpansionPanelSummary>\r\n                        <ExpansionPanelDetails>\r\n                            <div style={styles.container}>\r\n                                <div style={styles.ColorLegend}>\r\n                                    {/* <Typography style={styles.heading2}>Video Nodes</Typography> */}\r\n                                    <svg height=\"30\" width=\"200\">\r\n                                        <text y=\"15\" fill=\"black\">Term Count</text>\r\n                                    </svg>\r\n                                    <svg height=\"100\" width=\"200\">\r\n                                        {VideoNodesCircle}\r\n                                        {/* <text x=\"180\" y=\"25\" fill=\"grey\" style={styles.VideoNodesText}> Relevance to the concept</text> */}\r\n                                        <text x=\"150\" y=\"55\" fill=\"#888888\" style={styles.VideoNodesText}> {TermCountRange[1]}</text>\r\n                                        <text x=\"150\" y={55+2.5*6} fill=\"#888888\" style={styles.VideoNodesText}>{TermCountRange[0]}</text>\r\n                                        <line x1={50+MaxRadius} x2={120} y1=\"50\" y2=\"50\" stroke=\"#888888\" ></line>\r\n                                        <line x1={50+MaxRadius-2.5*6} x2={120} y1={50+2.5*6} y2={50+2.5*6} stroke=\"#888888\" ></line>\r\n                                    </svg>\r\n                                </div>\r\n                                <div style={styles.ColorLegend}>\r\n                                    <svg height=\"20\" width=\"200\">\r\n                                    <text   y=\"15\" fill=\"black\">Sentiment</text>\r\n                                    </svg>\r\n                                    <svg height=\"50\" width=\"200\">\r\n                                        <defs>\r\n                                            <linearGradient id=\"ColorLegend\" >\r\n                                                <stop offset=\"5%\"  stopColor=\"red\"/>\r\n                                                <stop offset=\"50%\" stopColor=\"yellow\"/>\r\n                                                <stop offset=\"90%\" stopColor=\"#006030\"/>\r\n                                            </linearGradient>\r\n                                        </defs>\r\n                                        <rect fill=\"url(#ColorLegend)\" opacity=\"0.7\"\r\n                                            y=\"15\" width=\"190\" height=\"15\" />\r\n                                        <text   y=\"45\" fill=\"#888888\">Negative</text>\r\n                                        <text x=\"145\" y=\"45\" fill=\"#888888\">Positive</text>\r\n                                    </svg>\r\n                                </div>\r\n                            </div>\r\n                            {/* {Sentcircles} */}\r\n                        </ExpansionPanelDetails>\r\n                </ExpansionPanel>\r\n            </div>\r\n            );\r\n        }\r\n    }\r\n    \r\n}\r\nexport default Legend;","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { PropTypes } from 'prop-types';\n// import ExpansionPanel from '@material-ui/core/ExpansionPanel';\n// import ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n// import ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\n// import ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport Typography from '@material-ui/core/Typography';\nimport * as d3 from \"d3\";\nimport { TagCloud } from \"react-tagcloud\";\n\nconst styles = ({\n    // root: {\n    //     // width: 200,\n    //     // height:800,\n    //     position: 'absolute',\n    //     left: 600,\n    //     zIndex: 5,\n    //   },\n    //   heading:{\n    //     fontSize:14,\n    // },\n    //   constainer:{\n    //     display: 'flex',\n    //     flexDirection: \"column\",\n    //     flexWrap: 'wrap',\n    //   },\n    //   ColorLegend:{\n    //     display: 'flex',\n    //     flexDirection: \"column\",\n    //     flexWrap: 'wrap',\n    //   },\n    //   VideoNodesText:{\n    //     textAnchor:'end'\n    //   },\n      \n    //   heading2:{\n    //     fontSize:14,\n    //     fontWeight: \"bold\",\n    //     paddingTop:5,\n    //     paddingBottom:5\n    // },\n});\n\nclass WordCloud extends Component {\n    constructor(props) {\n        super(props);\n        // this.state = {\n        //     chipdata:this.props.SearchHistory,\n        //     SearchKeyword : null,\n        // }\n        // this.RenderSentcircles = this.RenderSentcircles.bind(this);\n    }\n    \n    \n    render() {\n        // console.log(\"wordcloud\",this.props);\n        if(this.props.videos_info[this.props.HoverVideoIndex]!=undefined){\n            var data=[];\n            for (var index in this.props.videos_info[this.props.HoverVideoIndex].concepts){\n                if(index<10){\n                    data.push({\n                        value:this.props.videos_info[this.props.HoverVideoIndex].concepts[index][0],\n                        count:this.props.videos_info[this.props.HoverVideoIndex].concepts[index][1]\n                    })\n                }\n            }\n            // console.log(\"Clouddata2\",data);\n        }else{\n            data=[];\n        }\n        \n\n        return (\n            <div style={styles.root}>\n            <TagCloud \n                    minSize={1}\n                    maxSize={35}\n                    tags={data}\n                    style={{color:\"grey\",width: 200,height:100,fontSize: 10}}\n                    disableRandomColor={true}\n            />\n        \n            </div>\n        );\n    }\n    \n}\nexport default WordCloud;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport * as d3 from \"d3\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport MarkerIcon from './MarkerIcon';\r\nimport YoutubeIcon from './youtube.png';\r\nconst BigCircleRadius = 130;//150\r\nvar MarkerIndex=[];\r\n// import { withStyles } from '@material-ui/core/styles';\r\nconst styles = {\r\n    circle: {\r\n        cursor: \"pointer\",\r\n        // fill:\"red\",\r\n    }, \r\n    ConceptBigCircle:{\r\n        // fill:\"#B2DFDB\",\r\n        fill: \"#D4D4D4\",\r\n        opacity: 0.55,\r\n        // cursor: \"pointer\",\r\n    },\r\n    Sentcircle:{\r\n        opacity: 0.7,\r\n    },\r\n    conceptlabel:{\r\n        // fontFamily:\"EB Garamond\",\r\n        fontSize:15,\r\n        textAnchor:\"middle\",\r\n        fontStyle:\"italic\",\r\n        textShadow:\"2px 2px 4px #888\"\r\n    },\r\n    timeLabel:{\r\n        fontSize:12,\r\n        fill:\"white\",\r\n        fontFamily:\"Gadugi\",\r\n    },\r\n    videotooptip:{\r\n        maxWidth: 15\r\n    },\r\n    videotooptip_label1:{\r\n        fontSize:14,\r\n        maxWidth: 250,\r\n        // wordBreak: \"break-all\",\r\n        lineHeight: \"17px\",\r\n    },\r\n    videotooptip_label2:{\r\n        fontSize:12,\r\n        maxWidth: 137,\r\n        maxHeight:30,\r\n        overflow : \"hidden\",\r\n        textOverflow : \"ellipsis\",\r\n        whiteSpace : \"nowrap\",\r\n        // wordBreak: \"break-all\",\r\n        lineHeight: \"15px\",\r\n    }\r\n  };\r\n\r\n  \r\n  function CircleShadow(Hightlight){\r\n    if(Hightlight){\r\n        return{stroke:\"#ff7575\", strokeWidth:3, strokeOpacity:0.8};\r\n    }\r\n    else{\r\n        return{};\r\n    }\r\n}\r\n  \r\n\r\nclass RelatedVideosPanel extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tooltip_open:false,\r\n            // markIndex:[], // if markerlabel already have\r\n            // anchorEl: null,\r\n            // NodeClicked: false\r\n        };\r\n        this.Location = this.Location.bind(this);\r\n        this.VideoRadius = this.VideoRadius.bind(this);\r\n        // this.handleClose = this.handleClose.bind(this);\r\n        this.handleHover = this.handleHover.bind(this);\r\n        this.handleHoverOut = this.handleHoverOut.bind(this);   \r\n        this.videoClick = this.videoClick.bind(this);\r\n        this.YoutubeIconClick = this.YoutubeIconClick.bind(this);\r\n        // this.CheckMarkerIndex = this.CheckMarkerIndex.bind(this);  \r\n        this.RenderNumMarker = this.RenderNumMarker.bind(this);  \r\n        \r\n    }\r\n    \r\n    componentWillMount(){\r\n        MarkerIndex=[];\r\n    }\r\n    componentWillUpdate(prevProps) {\r\n        // Typical usage (don't forget to compare props):\r\n        if (this.props.data !== prevProps.data) {\r\n            MarkerIndex=[];\r\n        }\r\n      }\r\n\r\n    Location(index,numNodes,r){\r\n        var radius = r + index *2.5;// var radius = 100 + index *2.5;\r\n        var angle = (index / (numNodes/2)) * Math.PI - 1/2*Math.PI;\r\n        var cx = (radius * Math.cos(angle));\r\n        var cy = (radius * Math.sin(angle));\r\n        return [cx,cy];\r\n    }\r\n    VideoRadius(index){\r\n        // return (44-(index*2.5));\r\n        return (38-(index*2.5));\r\n    }\r\n    SentimentColor(score){\r\n        // console.log(this.props.SentRange);\r\n        var sentmin = this.props.SentRange[0]<0? this.props.SentRange[0]:-0.1;\r\n        var color = d3.scaleLinear()\r\n            .domain([sentmin,0,this.props.SentRange[1]-0.1])\r\n            .range([\"red\",\"yellow\", \"green\"])\r\n            .interpolate(d3.interpolateHcl);\r\n        return color(score);      \r\n    }\r\n    \r\n    // handleClose(){\r\n    //     this.props.SetPopoverIndexes(\"remove\",this.props.data.index);\r\n    // }\r\n    handleHover(vid,index){\r\n        console.log(\"[hover],RelatedVideos\",\",\",vid,\",\",index);\r\n        this.props.SetHoverVideoIndex(vid);\r\n    }\r\n    videoClick(vid,index){\r\n        console.log(\"[click],RelatedVideos\",\",\",vid,\",\",index);\r\n    }\r\n    handleHoverOut(){\r\n        this.props.SetHoverVideoIndex(null);\r\n    }\r\n\r\n    SentimentColor(score){\r\n        var sentmin = this.props.SentRange[0]<0? this.props.SentRange[0]:-0.1;\r\n        var color = d3.scaleLinear()\r\n            .domain([sentmin,0,this.props.SentRange[1]-0.1])\r\n            .range([\"red\",\"yellow\", \"green\"])\r\n            .interpolate(d3.interpolateHcl);\r\n        return color(score);      \r\n    }\r\n    TimeProcess(str){\r\n        if (str.indexOf('S') > -1){\r\n            return str.replace(\"PT\",\"\").replace(\"H\",\":\").replace(\"M\",\":\").replace(\"S\",\"\");\r\n        }else{\r\n            return str.replace(\"PT\",\"\").replace(\"H\",\":\").replace(\"M\",\":00\");\r\n        }\r\n    }\r\n    CheckMarkerIndex(index,num){\r\n        if ((index==0 && num>0)||(index==1 && num>0)){\r\n            \r\n            MarkerIndex.push(index);\r\n            // console.log(\"MarkerIndex\",MarkerIndex);\r\n            // this.setState({\r\n            //     markIndex: [...this.state.markIndex, index]\r\n            // });\r\n        }\r\n    }\r\n    RenderNumMarker(vid,index,num,x,y,userFeedbackScore){\r\n        // console.log(\"RenderNumMarker\",vid,index,num);\r\n        x = (x-13)-13;\r\n        y = (y-13)-18;\r\n        if (index==0 && num>0 && MarkerIndex[0]==index){\r\n            // this.props.setFlag(true);\r\n            return(\r\n                <MarkerIcon \r\n                    cx={x}\r\n                    cy={y}\r\n                    text={num} \r\n                    radius={13}\r\n                    // color={\"#21435F\"}\r\n                    color={this.SentimentColor(userFeedbackScore)}\r\n                />\r\n            );\r\n        }else if (index==1 && num>0 &&MarkerIndex[0]==index){\r\n            // this.props.setFlag(true);\r\n            return(\r\n                <MarkerIcon \r\n                    cx={x}\r\n                    cy={y}\r\n                    text={num} \r\n                    radius={13}\r\n                    color={this.SentimentColor(userFeedbackScore)}\r\n                    // color={this.SentimentColor(this.props.video_info[vid].userFeedbackScore)}\r\n                />\r\n            )\r\n        }else{\r\n            return null\r\n        }\r\n    }\r\n    YoutubeIconClick(){\r\n        console.log(\"[click],YoutubeSearch\",\",\",this.props.data.name);\r\n    }\r\n    render() {\r\n        // console.log(\"check data\",this.props.video_sequences);\r\n        var vlist=[]\r\n        if (this.props.video_sequences!=undefined){\r\n            for (var i=0;i<this.props.video_sequences.length;i++) {\r\n                vlist.push(this.props.video_sequences[i][0])\r\n            }\r\n        }\r\n        var width = BigCircleRadius*2;//+60\r\n        var height = width;\r\n        var center= width/2;\r\n        if(this.props.data!=undefined){\r\n            // console.log(\"RelatedVideodata\",this.props);\r\n            var numNodes = this.props.data.videos_id.length;\r\n            var video_info = this.props.video_info;\r\n            var LikesList=[]\r\n            this.props.data.videos_id.map( ([vid,cnnt],index) => {LikesList.push(video_info[vid].likeCount);});\r\n            var likesRange=[Math.min(...LikesList),Math.max(...LikesList)];\r\n            var flag=0;\r\n            var ShowVideoLinks = this.props.data.videos_id.map( ([vid,cnnt],index) => {\r\n                // console.log(index,vid,vlist.indexOf(vid));\r\n                // console.log(\"video_info[vid].userFeedbackScore\",video_info[vid].userFeedbackScore);\r\n                return(\r\n                    <g key={\"PopoverNode\"+index}>\r\n                        <Tooltip title={<div style={this.state.tooltip_open?styles.videotooptip_label2:styles.videotooptip_label1}\r\n                        enterTouchDelay={0}\r\n                        >\r\n                        {/* {this.props.video_info[vid].title.length>38?this.props.video_info[vid].title.substring(0,38)+\"...\":this.props.video_info[vid].title} */}\r\n                        {this.state.tooltip_open?this.props.video_info[vid].title+\"...\":this.props.video_info[vid].title}\r\n                        </div>} \r\n                            placement=\"top\"\r\n                            open={this.state.tooltip_open?true:null}\r\n                            >\r\n                        <a xlinkHref={\"https://www.youtube.com/watch?v=\"+vid} target=\"_blank\" >\r\n                            <circle key={vid} \r\n                                cx={center+this.Location(index,numNodes,83)[0]} \r\n                                cy={center+this.Location(index,numNodes,83)[1]} \r\n                                r = {this.VideoRadius(index)}\r\n                                fill={this.SentimentColor(video_info[vid].userFeedbackScore)} \r\n                                // style={styles.Sentcircle} \r\n                                style = {Object.assign({}, styles.Sentcircle, CircleShadow(vid===this.props.HoverVideoIndex))}    \r\n                            >\r\n                            </circle>\r\n                            \r\n                            <pattern id = {\"attachedImage\"+vid} height = \"150%\" width = \"150%\" patternContentUnits = \"objectBoundingBox\">\r\n                            <image xlinkHref = {video_info[vid][\"thumbnail\"]} preserveAspectRatio = \"xMidYMid meet\" width = \"1.5\" style={styles.img}/>\r\n                            </pattern>\r\n                            <circle key={vid+\"img\"} \r\n                                cx={center+this.Location(index,numNodes,83)[0]} \r\n                                cy={center+this.Location(index,numNodes,83)[1]} \r\n                                // r={styles.OuterCircle.r-7} \r\n                                r={this.VideoRadius(index)-6} \r\n                                fill={\"url(#attachedImage\"+vid+\")\"} \r\n                                style = {styles.circle} \r\n                                onMouseOver={this.handleHover.bind(this,vid,index)}\r\n                                onMouseOut={this.handleHoverOut.bind(this)} \r\n                                onClick={this.videoClick.bind(this,vid,index)}\r\n                            >\r\n                            </circle>\r\n                        </a>\r\n                        </Tooltip>\r\n                        \r\n                        <rect  x={center+this.Location(index,numNodes,83)[0]-18} \r\n                            y={center+this.Location(index,numNodes,83)[1]+this.VideoRadius(index)-18} \r\n                            width=\"37\" height=\"15\"\r\n                            rx=\"3\"\r\n                            ry=\"3\"\r\n                            style={{full:\"#888888\", opacity: 0.7}}> \r\n                        </rect>\r\n                        <text\r\n                            x={center+this.Location(index,numNodes,83)[0]} \r\n                            y={center+this.Location(index,numNodes,83)[1]+this.VideoRadius(index)-6}\r\n                            textAnchor=\"middle\"\r\n                            style={styles.timeLabel}\r\n                        >{this.TimeProcess(this.props.video_info[vid].duration)}\r\n                        </text>\r\n                        <pattern id = {\"YoutubeImage\"+vid} height = \"100%\" width = \"100%\" patternContentUnits = \"objectBoundingBox\">\r\n                            <image xlinkHref = {YoutubeIcon} preserveAspectRatio = \"xMidYMid meet\" width = \"1\"/>\r\n                        </pattern>\r\n                        \r\n                        <text \r\n                            style={styles.conceptlabel} \r\n                            // dx=\"5\" dy=\"8\"\r\n                            x={center} y={center}   \r\n                        >  \r\n                            {this.props.data.name}\r\n                        </text> \r\n                        {/* Youtube Search Icon */}\r\n                        <a xlinkHref={\"https://www.youtube.com/results?search_query=\"+this.props.data.name} target=\"_blank\" >\r\n                            <rect \r\n                                width=\"28\" \r\n                                height=\"26\"\r\n                                fill={\"url(#YoutubeImage\"+vid+\")\"} \r\n                                x={center-13} y={center+10}  \r\n                                style = {styles.circle} \r\n                                onClick={this.YoutubeIconClick.bind(this)}\r\n                                >\r\n                                <title>Search on Youtube</title>\r\n                            </rect>\r\n                        </a>\r\n                        {this.CheckMarkerIndex(index,vlist.indexOf(vid)+1)}\r\n                        {/* {this.RenderNumMarker(vid,index,vlist.indexOf(vid)+1,center+this.Location(index,numNodes,83)[0],center+this.Location(index,numNodes,83)[1],this.props.video_info[vid].userFeedbackScore)} */}\r\n                    </g>\r\n                )\r\n                \r\n            });\r\n            var ShowMarkerIcons = this.props.data.videos_id.map( ([vid,cnnt],index) => {\r\n                return(\r\n                    <g key={\"ShowMarkerIcons\"+index}> \r\n                        {this.RenderNumMarker(vid,index,vlist.indexOf(vid)+1,center+this.Location(index,numNodes,83)[0],center+this.Location(index,numNodes,83)[1],this.props.video_info[vid].userFeedbackScore)}\r\n                    </g>\r\n                )\r\n                \r\n            });\r\n            return (\r\n                <svg width={width} height={height}>\r\n                <g className='node'>\r\n                    <circle \r\n                        // onClick={this.handleClose.bind(this)}\r\n                        cx={center}\r\n                        cy={center}\r\n                        r={BigCircleRadius} \r\n                        style = {styles.ConceptBigCircle}>  \r\n                    </circle>\r\n                    {ShowVideoLinks}\r\n                    {ShowMarkerIcons}\r\n                </g>\r\n                </svg>\r\n            );\r\n        }\r\n        return (\r\n            <g className='node'  >\r\n                {/* <circle  ref=\"dragMe\" onClick={this.handleClose.bind(this)} r={\"150\"} style = {styles.ConceptBigCircle}></circle> */}\r\n                {/* {ShowVideoLinks} */}\r\n            </g>\r\n        );\r\n    }\r\n}\r\nexport default RelatedVideosPanel;","export default \"data:image/png;base64,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\"","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport VideoSequence from './VideoSequence';\r\nimport ConceptSequence from './ConceptSequence';\r\nimport RelatedVideosPanel from './RelatedVideosPanel'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\n/* editor component */\r\nimport SunEditor from 'suneditor-react';\r\nimport 'suneditor/dist/css/suneditor.min.css'; // Import Sun Editor's CSS File\r\n\r\nconst styles = ({\r\n    rootTitle:{\r\n        // margin:10,\r\n        paddingBottom:20,\r\n        textAlign:\"center\",\r\n        fontSize:20,\r\n        fontFamily:\"Cambria\"\r\n    },\r\n    containerTitle:{\r\n        display:\"flex\",\r\n        fontSize:14,\r\n        fontWeight:\"bold\"\r\n    },\r\n    OuterContainer: {\r\n        display: 'flex',\r\n        flexDirection: \"row\",\r\n        position:\"absolute\",\r\n        // left:930,\r\n        right:'0%',\r\n        flexWrap: 'no-wrap',\r\n        zIndex:6\r\n        // margin:10,\r\n        // padding:10\r\n    },\r\n  \r\n  paper2: {\r\n    width: 520,\r\n    // height: 850,\r\n    overflowX: \"hidden\",\r\n    overflowY: \"scroll\",\r\n    padding: 15,\r\n    margin : 15,\r\n  },\r\n  paper2_UpperContainer: {\r\n    display: 'flex',\r\n    flexDirection: \"column\",\r\n  },\r\n  paper2_BelowContainer: {\r\n    display: 'flex',\r\n    flexDirection: \"row\",\r\n  },\r\n  container3_1: {\r\n    width: 225,\r\n    // height: 500,\r\n  },\r\n  container3_2: {\r\n    width: 265,\r\n    // height: 500,\r\n  },\r\n  CloseBotton: {\r\n    // marginLeft: 5,\r\n    float:\"right\",\r\n    marginRight: 1,\r\n\r\n  },\r\n  content:{\r\n    // display: \"block\",\r\n    margin: \"auto\",\r\n    display:\"flex\"\r\n  }\r\n});\r\n\r\nclass ConceptDetailPanel extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.CloseOnClick = this.CloseOnClick.bind(this);\r\n    }\r\n    CloseOnClick(){\r\n        this.props.SetPath_ConceptIndex(\"clear\",null);\r\n    }\r\n    render() {\r\n\r\n        if(this.props.Path_ConceptIndex!=null){\r\n            return (\r\n                <div style = {styles.OuterContainer}>\r\n                    {/* <Paper style={styles.paper2} elevation={13}> */}\r\n                    <Paper style= {Object.assign({}, styles.paper2, {height:window.innerHeight-130})} elevation={13}>\r\n                    <div style={styles.rootTitle}>\r\n                    {this.props.data.concept_relationship.nodes[this.props.Path_ConceptIndex].name}\r\n                    <IconButton style={styles.CloseBotton} color=\"inherit\" aria-label=\"Close\">\r\n                        <CloseIcon onClick={this.CloseOnClick.bind(this)}/>\r\n                    </IconButton>\r\n                    </div>\r\n                    <div style = {styles.paper2_UpperContainer}>\r\n                        <div style={styles.containerTitle}> Video Ring</div>\r\n                        <div style={styles.content}>\r\n                        <g>\r\n                            <RelatedVideosPanel \r\n                                data={this.props.BigCircleIndex==null?this.props.data.concept_relationship.nodes[this.props.Path_ConceptIndex]:this.props.data.concept_relationship.nodes[this.props.BigCircleIndex]}\r\n                                video_info = {this.props.data.videos_info}\r\n                                concept_index={this.props.BigCircleIndex}// concept_index={this.props.Path_ConceptIndex}\r\n                                // SetPopoverIndexes = {this.props.SetPopoverIndexes}\r\n                                SentRange = {this.props.SentRange}\r\n                                SetHoverVideoIndex = {this.props.SetHoverVideoIndex}\r\n                                HoverVideoIndex = {this.props.HoverVideoIndex}\r\n                                video_sequences={this.props.data.video_sequences[this.props.Path_ConceptIndex]}\r\n                            />\r\n                        </g>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div height=\"5\"><hr></hr></div>\r\n                    <div style = {styles.paper2_BelowContainer}>\r\n                        <div style = {styles.container3_1}>\r\n                        {/* <div style = {Object.assign({}, styles.container3_1, {height:window.innerHeight-900})}> */}\r\n                        \r\n                            <div style={styles.containerTitle}> Concept Path </div>\r\n                            <ConceptSequence  \r\n                                    c_index = {this.props.Path_ConceptIndex} \r\n                                    BFSinput={this.props.data.BFSinput} \r\n                                    RemovedCycleLinks = {this.props.data.RemovedCycleLinks}\r\n                                    concepts={this.props.data.concept_relationship.nodes} \r\n                                    concept_sequences={this.props.data.concept_sequences}\r\n                                    HighlightConceptIndex={this.props.HighlightConceptTextIndex}\r\n                                    BigCircleIndex = {this.props.BigCircleIndex}\r\n                                    SetBigCircleIndex ={this.props.SetBigCircleIndex}\r\n                                    />\r\n                        </div>\r\n                        <div style = {styles.container3_2}>\r\n                        {/* <div style = {Object.assign({}, styles.container3_2, {height:window.innerHeight-900})}> */}\r\n                            <div style={styles.containerTitle}> \r\n                            Video Path\r\n                            </div>\r\n                            <VideoSequence \r\n                                video_sequences={this.props.data.video_sequences[this.props.Path_ConceptIndex]} \r\n                                video_info = {this.props.data.videos_info} \r\n                                SetHoverVideoIndex = {this.props.SetHoverVideoIndex}\r\n                                HoverVideoIndex = {this.props.HoverVideoIndex}\r\n                                SentRange = {this.props.SentRange}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    </Paper>  \r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n        \r\n    }\r\n}\r\nexport default ConceptDetailPanel;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport VideoSequence from './VideoSequence';\r\nimport ConceptSequence from './ConceptSequence';\r\nimport RelatedVideosPanel from './RelatedVideosPanel'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Graph from '../newdirected/Graph';\r\n\r\nconst styles = ({\r\n    rootTitle:{\r\n        // margin:10,\r\n        paddingBottom:20,\r\n        textAlign:\"center\",\r\n        fontSize:20,\r\n        fontFamily:\"Cambria\"\r\n    },\r\n    containerTitle:{\r\n        display:\"flex\",\r\n        fontSize:14,\r\n        fontWeight:\"bold\"\r\n    },\r\n    OuterContainer: {\r\n        display: 'flex',\r\n        flexDirection: \"row\",\r\n        position:\"absolute\",\r\n        // left:930,\r\n        right:'0%',\r\n        flexWrap: 'no-wrap',\r\n        zIndex:6,\r\n        // margin:10,\r\n        // padding:10\r\n        width:window.innerWidth - 50,\r\n        height:window.innerHeight - 100\r\n    },\r\n  \r\n  paper2: {\r\n    width: 1560,\r\n    // height: 850,\r\n    overflowX: \"hidden\",\r\n    overflowY: \"scroll\",\r\n    padding: 15,\r\n    margin : 15,\r\n  },\r\n  paper2_UpperContainer: {\r\n    display: 'flex',\r\n    flexDirection: \"column\",\r\n  },\r\n  paper2_BelowContainer: {\r\n    display: 'flex',\r\n    flexDirection: \"row\",\r\n  },\r\n  container3_1: {\r\n    width: 225,\r\n    // height: 500,\r\n  },\r\n  container3_2: {\r\n    width: 265,\r\n    // height: 500,\r\n  },\r\n  CloseBotton: {\r\n    // marginLeft: 5,\r\n    float:\"right\",\r\n    marginRight: 1,\r\n\r\n  },\r\n  content:{\r\n    // display: \"block\",\r\n    margin: \"auto\",\r\n    display:\"flex\"\r\n  }\r\n});\r\nvar SentRange = []\r\nvar ConceptRange = []\r\nclass MapApprovPanel extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.CloseOnClick = this.CloseOnClick.bind(this);\r\n        console.log(\"before getting, this.props.NewJson == \", this.props.NewJson);\r\n    //for getting new json---------------------------------\r\n        var tmp=this;\r\n        fetch('https://appbackend-hci.herokuapp.com/GetJson/')     //跟後端連結去getJson\r\n        .then(function (res) {\r\n        //    console.log(res.json());\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            console.log(myJson);\r\n            tmp.props.SetNewJson(myJson);\r\n            return myJson;\r\n          });\r\n        this.props.SetNewJson(tmp);\r\n        console.log(\"this.props.NewJson == \", this.props.NewJson);\r\n            \r\n        \r\n    //for drawing map-----------------------\r\n            //console.log(\"[graph]\", \",\", this.props.NewJson.search_info.key);\r\n            // console.log(\"cheeeee\",this.props.data.concept_relationship.nodes);\r\n            // calcalate SentimentScoreRange [SentScoreMin,SentScoreMax];\r\n            /*var tmpList = [];\r\n            for (var e in this.props.NewJson.videos_info) {\r\n                tmpList.push(this.props.NewJson.videos_info[e].userFeedbackScore);\r\n            };\r\n            var tmpList2 = [];\r\n            for (var e in this.props.NewJson.concept_relationship.nodes) {\r\n                tmpList2.push(this.props.NewJson.concept_relationship.nodes[e].count);\r\n            };\r\n            // console.log(\"SentRange\",[Math.min(...tmpList),Math.max(...tmpList)]);\r\n            // console.log(\"tmpList2\",tmpList2);\r\n            SentRange = [Math.min(...tmpList), Math.max(...tmpList)];\r\n            ConceptRange = [Math.min(...tmpList2), Math.max(...tmpList2), tmpList2.reduce((a, b) => a + b, 0)];\r\n            console.log(this.props.NewJson);\r\n            */\r\n        }\r\n    componentDidUpdate(prevProps) {\r\n        // 常見用法（別忘了比較 prop）：\r\n        if (this.props !== prevProps) {\r\n          this.forceUpdate();\r\n        }\r\n      }\r\n      componentWillMount() {\r\n        console.log(\"[graph]\", \",\", this.props.data.search_info.key);\r\n        // console.log(\"cheeeee\",this.props.data.concept_relationship.nodes);\r\n        // calcalate SentimentScoreRange [SentScoreMin,SentScoreMax];\r\n        var tmpList = [];\r\n        for (var e in this.props.data.videos_info) {\r\n\r\n            tmpList.push(this.props.data.videos_info[e].userFeedbackScore);\r\n        };\r\n        var tmpList2 = [];\r\n        for (var e in this.props.data.concept_relationship.nodes) {\r\n            tmpList2.push(this.props.data.concept_relationship.nodes[e].count);\r\n        };\r\n        // console.log(\"SentRange\",[Math.min(...tmpList),Math.max(...tmpList)]);\r\n        // console.log(\"tmpList2\",tmpList2);\r\n        SentRange = [Math.min(...tmpList), Math.max(...tmpList)];\r\n        ConceptRange = [Math.min(...tmpList2), Math.max(...tmpList2), tmpList2.reduce((a, b) => a + b, 0)];\r\n    }\r\n    CloseOnClick(){\r\n        this.props.SetMapConsult(\"dont_ask\");\r\n    }\r\n    render() {\r\n\r\n        if(this.props.MapConsult==true){\r\n            console.log(this.props.NewJson);\r\n            return (\r\n                <div style = {styles.OuterContainer}>\r\n                    {/* <Paper style={styles.paper2} elevation={13}> */}\r\n                    <Paper style= {Object.assign({}, styles.paper2, {height:window.innerHeight-130})} elevation={13}>\r\n                    <div style={styles.rootTitle}>\r\n                    {\"Map Approval Consult\"}\r\n                    <IconButton style={styles.CloseBotton} color=\"inherit\" aria-label=\"Close\">\r\n                        <CloseIcon onClick={this.CloseOnClick.bind(this)}/>\r\n                    </IconButton>\r\n                    </div>\r\n                    <div style = {styles.paper2_UpperContainer}>\r\n                        <div style={styles.content}>\r\n                            <button>Approve</button>\r\n                            <button onClick = {this.CloseOnClick}>Disprove</button>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    <div height=\"5\"><hr></hr></div>\r\n                    <div style = {styles.paper2_BelowContainer}>\r\n                        <Graph data={this.props.NewJson}\r\n                                width={window.innerWidth} height={window.innerHeight}\r\n                                SentRange={SentRange}\r\n                                ConceptRange={ConceptRange}\r\n                            />\r\n                    </div>\r\n                    </Paper>  \r\n                </div>\r\n            );\r\n        }\r\n        else{\r\n            return null;\r\n        }\r\n        \r\n        \r\n    }\r\n}\r\nexport default MapApprovPanel;\r\n\r\n//button 大一點，Dis紅色，Approve藍色\r\n//node 顏色要改，group=1 要改顏色\r\n//是是把圖畫小一點","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\n\r\nconst styles = ({\r\n    root:{\r\n        // paddingTop:50,\r\n        // marginTop:100,\r\n        fontSize:20\r\n    },\r\n    content:{\r\n        // height:100,\r\n        fontSize:13,\r\n    }\r\n});\r\n\r\nclass Notification extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.state = {\r\n        //     open:this.props.open\r\n        // }\r\n    }\r\n    // handleClose = (event, reason) => {\r\n    //     if (reason === 'clickaway') {\r\n    //       return;\r\n    //     }\r\n    \r\n    //     this.setState({ open: false });\r\n    // };\r\n    render() {\r\n        // console.log(\"learingmap\",this.props);\r\n        return (\r\n            <div style={styles.root}>\r\n                <Snackbar\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'right',\r\n                }}\r\n                open={this.props.open}\r\n                autoHideDuration={6000}\r\n                style={styles.content}\r\n                // onClose={this.handleClose}\r\n                // ContentProps={{\r\n                //     'aria-describedby': 'message-id',\r\n                // }}\r\n                message={<span style={styles.content} >Click A Node To See More Information</span>}\r\n                // action={[\r\n                //     <Button key=\"undo\" color=\"secondary\" size=\"small\" onClick={this.handleClose}>\r\n                //     UNDO\r\n                //     </Button>,\r\n                //     <IconButton\r\n                //     key=\"close\"\r\n                //     aria-label=\"Close\"\r\n                //     color=\"inherit\"\r\n                //     className={classes.close}\r\n                //     onClick={this.handleClose}\r\n                //     >\r\n                //     <CloseIcon />\r\n                //     </IconButton>,\r\n                // ]}\r\n            />\r\n        </div>\r\n        );\r\n        \r\n    }\r\n    \r\n}\r\nexport default Notification;","import React, { Component } from 'react';\n\n/* editor component */\nimport SunEditor,{buttonList} from 'suneditor-react';\nimport 'suneditor/dist/css/suneditor.min.css'; // Import Sun Editor's CSS File\nimport plugins from 'suneditor/src/plugins'\nimport { axisLeft } from 'd3-axis';\nimport SUNEDITOR from 'suneditor';\n\n\n\n// ex) A command plugin to add \"text node\" to selection\nvar plugin_command = {\n  name: 'customCommand',\n  display: 'command',\n\n  title:'Text node change', \n  buttonClass:'', \n  // This icon uses Font Awesome\n  innerHTML:'<i class=\"fas fa-font\"></i>', \n\n  add: function (core, targetElement) {\n      const context = core.context;\n      context.customCommand_2 = {\n          targetButton: targetElement\n      };\n  },\n  active: function (element) {\n      if (!element) {\n          this.util.removeClass(this.context.customCommand_2.targetButton, 'active');\n      } else if (/^mark$/i.test(element.nodeName) && element.style.backgroundColor.length > 0) {\n          this.util.addClass(this.context.customCommand_2.targetButton, 'active');\n          return true;\n      }\n\n      return false;\n  },\n  action: function () {\n      if (!this.util.hasClass(this.context.customCommand_2.targetButton, 'active')) {\n          const newNode = this.util.createElement('MARK');\n          newNode.style.backgroundColor = 'hsl(60,75%,60%)';\n          this.nodeChange(newNode, ['background-color'], null, null);\n      } else {\n          this.nodeChange(null, ['background-color'], ['mark'], true);\n      }\n  }\n}\n\n\nclass Editor extends Component {\n\n    // Your web app's Firebase configuration\n    // For Firebase JS SDK v7.20.0 and later, measurementId is optional\n    constructor(props) {\n      super(props);\n      //this.callBackSave = this.SetHighlightNodes.bind(this);\n      this.handleChange=this.handleChange.bind(this);\n      this.onInput=this.onInput.bind(this);\n      this.save = this.save.bind(this);\n      this.getSunEditorInstance = this.getSunEditorInstance.bind(this);\n      this.state = {\n        content:this.props.content\n      };\n      this.ref = React.createRef();\n      }\n    handleChange(content){\n      //var today = new Date();\n      mydatabase.ref('/change/').set({content});\n      //console.log(content,typeof(content));\n      //console.log(\"this.ref = \", this.ref);\n      //console.log(this.ref.current.core)\n      var keyword = this.props.content;\n      if(keyword!=\" \"){\n          if (content.includes(keyword) && !content.includes(\"<strong>\"+keyword)){\n          //var n = content.search(\"bitcoin\")\n          var word = \"<strong>\"+keyword+\"</strong> \"\n          var newcontent = content.replace(keyword, word)\n          //console.log(word)\n          //console.log(newcontent)\n          this.ref.current.setContents(newcontent);\n          console.log(\"keyword = \", keyword);\n          console.log(\"onChange: \",content,\">>>\",newcontent);\n          this.setState({content: newcontent});\n          this.ref.current.core.focusEdge();\n        }\n      }\n      else{\n        //this.setState({content : this.props.content});\n        this.setState({content : content});\n        //this.forceUpdate();\n      }\n    };\n    onInput(e, core){\n      console.log('onInput', e, core);\n    };\n\n\t\tgetSunEditorInstance(sunEditor){\n      this.ref.current = sunEditor;\n      console.log(\"this.ref = \",this.ref);\n    }; \n    onFocus(event, core){\n      console.log(\"On Focus!!\");\n    };\n    onBlur(event, core){\n      console.log(\"on Blur!!\");\n    };\n    componentDidUpdate(prevProps, prevState, snapshot){\n      console.log(\"content update!!\")\n      if (this.props.content == \" \"){\n        var prevKey = prevProps.content;\n        var content = this.ref.current.core.getContents();\n        if (content.includes(prevKey)){\n          var word = \"<strong>\"+prevKey+\"</strong>\";\n          var newcontent = content.replace(word, prevKey);\n          this.ref.current.setContents(newcontent);\n          console.log(\"DidUpdate: \",content,\">>>\",newcontent);\n          this.ref.current.core.focusEdge();\n        }\n      }\n      else if(prevProps.content!==this.props.content){\n        var keyword = this.props.content;\n        var content = this.ref.current.core.getContents();\n        //console.log(\"contents=\",this.ref.current.core.getContents());\n        if (content.includes(keyword) && !content.includes(\"<strong>\"+keyword)){\n          //var n = content.search(\"bitcoin\")\n          var word = \"<strong>\"+keyword+\"</strong> \";\n          var newcontent = content.replace(keyword, word);\n          //console.log(word)\n          //console.log(newcontent)\n          this.ref.current.setContents(newcontent);\n          //console.log(\"DidUpdate: \",content,\">>>\",newcontent);\n          this.ref.current.core.focusEdge();\n        }\n      }      \n  }\n  save(contents, isChange){\n    //console.log(\"SetMapConsult(add)\");\n    this.props.SetMapConsult(\"ask\");\n    mydatabase.ref('/save/').set(this.ref.current.core.getContents());\n    \n  }\n\n    render() {\n      return (\n        <SunEditor \n                        SetMapConsult = {this.props.SetMapConsult}\n                        setOptions = {{\n                          width:(window.innerWidth-(window.innerWidth-50)/2)-600,\n                          height:(window.innerHeight-100),\n                          plugins: [plugin_command],\n                          buttonList:[\n                            ['undo', 'redo'],\n                            ['font', 'align', 'save' ],\n                            [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"],\n                            [\"removeFormat\"],\n                            [\"outdent\", \"indent\"],\n                            ['customCommand'],\n                            ['-right', ':i-More Misc-default.more_vertical', 'fullScreen', 'showBlocks', 'codeView', 'preview', 'print'],\n                          ],\n                          callBackSave : (contents, isChange) => this.save()\n                    }}\n                    onChange = {this.handleChange}\n                    getSunEditorInstance={this.getSunEditorInstance}\n                    onFocus = {this.onFocus}\n                    onBlur = {this.onBlur}\n                     />\n      );\n    }\n  }\n  export default Editor;\n","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Graph from '../newdirected/Graph';\r\nimport VideoSequence from './VideoSequence';\r\nimport ConceptSequence from './ConceptSequence';\r\nimport Legend from './Legend';\r\nimport WordCloud from './WordCloud';\r\nimport RelatedVideosPanel from './RelatedVideosPanel';\r\nimport ConceptDetailPanel from './ConceptDetailPanel';\r\nimport MapApprovPanel from './MapApprovPanel';\r\nimport Notification from './Notification';\r\nimport Editor from './Editor'\r\nconst styles = ({\r\n    container: {\r\n        // justifyContent: 'center',\r\n        display: 'flex',\r\n        flexDirection: \"row\",\r\n        // flexGrow: 1,\r\n        flexWrap: 'wrap',\r\n        // margin:10,\r\n        // padding:10\r\n        paddingTop: 10,\r\n        paddingLeft: 10,\r\n        // marginTop:10,\r\n        marginLeft: 10\r\n\r\n    },\r\n    LeftField: {\r\n        // display:'flex',\r\n        // width: 900,\r\n        // height: 700,\r\n        // overflowX: \"scroll\",\r\n        // overflowY: \"hidden\",\r\n        // padding: 20,\r\n        // margin : 20,\r\n    },\r\n});\r\nvar SentRange = []\r\nvar ConceptRange = []\r\nclass LearningMapFrame extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            HoverConceptIndex: null,\r\n            HoverVideoIndex: null,\r\n            PopoverIndexes: [],\r\n            Path_ConceptIndex: null,\r\n            BigCircleIndex: null,\r\n            Hightlight_word: null,\r\n            content:[\r\n                \" \"\r\n            ],\r\n            MapConsult: false,\r\n            };\r\n        this.SetHoverConceptIndex = this.SetHoverConceptIndex.bind(this);\r\n        this.SetMapConsult = this.SetMapConsult.bind(this);\r\n        this.SetHoverVideoIndex = this.SetHoverVideoIndex.bind(this);\r\n        this.SetPopoverIndexes = this.SetPopoverIndexes.bind(this);\r\n        this.SetPath_ConceptIndex = this.SetPath_ConceptIndex.bind(this);\r\n        this.SetBigCircleIndex = this.SetBigCircleIndex.bind(this);\r\n        this.ClearHoverConcept = this.ClearHoverConcept.bind(this);\r\n        // Adding words hightlighting functions by YHT\r\n        this.SetHightlightWord = this.SetHightlightWord.bind(this);\r\n    }\r\n    componentWillMount() {\r\n        console.log(\"[graph]\", \",\", this.props.data.search_info.key);\r\n        // console.log(\"cheeeee\",this.props.data.concept_relationship.nodes);\r\n        // calcalate SentimentScoreRange [SentScoreMin,SentScoreMax];\r\n        var tmpList = [];\r\n        for (var e in this.props.data.videos_info) {\r\n\r\n            tmpList.push(this.props.data.videos_info[e].userFeedbackScore);\r\n        };\r\n        var tmpList2 = [];\r\n        for (var e in this.props.data.concept_relationship.nodes) {\r\n            tmpList2.push(this.props.data.concept_relationship.nodes[e].count);\r\n        };\r\n        // console.log(\"SentRange\",[Math.min(...tmpList),Math.max(...tmpList)]);\r\n        // console.log(\"tmpList2\",tmpList2);\r\n        SentRange = [Math.min(...tmpList), Math.max(...tmpList)];\r\n        ConceptRange = [Math.min(...tmpList2), Math.max(...tmpList2), tmpList2.reduce((a, b) => a + b, 0)];\r\n    }\r\n    SetHoverConceptIndex(i, word) {\r\n        // console.log(\"[hover] conceptMapNode\",i);\r\n        // Adding concept panel words highlighting\r\n        console.log(\"word = \", word);\r\n        this.setState({\r\n            HoverConceptIndex: i\r\n        });\r\n        this.setState({\r\n            HightlightWord: word\r\n        });\r\n        this.setState({\r\n            content: word\r\n        });\r\n        console.log(\"call set hightlight\");\r\n        console.log(\"this.state.content=\", this.state.content);\r\n        console.log(\"this.state.HLW=\", this.state.HightlightWord);\r\n        //console.log(word);\r\n        //this.forceUpdate();\r\n    }\r\n    ClearHoverConcept(){\r\n        this.setState({content:\" \"});\r\n        console.log(\"ClearHoverConcept\");\r\n    }\r\n\r\n\r\n    // Adding by YHT\r\n    SetHightlightWord(word) {\r\n\r\n        // Adding concept panel words highlighting\r\n        // Hightlight word in editor\r\n        this.setState({\r\n            HightlightWord: word\r\n        });\r\n        console.log(\"call set hightlight\");\r\n        console.log(word);\r\n        // call function in Editor.js\r\n\r\n    }\r\n    SetHoverVideoIndex(vid) {\r\n        this.setState({\r\n            HoverVideoIndex: vid\r\n        });\r\n    };\r\n    SetPopoverIndexes(method, index) {\r\n        if (method == \"add\") {\r\n            if (this.state.PopoverIndexes.includes(index) == false) {\r\n                this.setState({\r\n                    PopoverIndexes: [...this.state.PopoverIndexes, index]\r\n                    // PopoverIndexes:this.state.PopoverIndexes.concat([index])\r\n                });\r\n            }\r\n        } else if (method == \"remove\") {\r\n            this.setState({\r\n                PopoverIndexes: this.state.PopoverIndexes.filter(val => val !== index)\r\n            });\r\n        } else if (method == \"clear\") {\r\n            this.setState({\r\n                PopoverIndexes: []\r\n            });\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        // 常見用法（別忘了比較 prop）：\r\n        if (this.props !== prevProps) {\r\n          this.forceUpdate();\r\n        }\r\n      }\r\n    SetPath_ConceptIndex(method, index) {\r\n        if (method == \"add\") {\r\n            this.setState({\r\n                Path_ConceptIndex: index\r\n            });\r\n        } else if (method == \"clear\") {\r\n            console.log(\"[close] ConceptDetailPanel\");\r\n            this.setState({\r\n                Path_ConceptIndex: null,\r\n                BigCircleIndex: null\r\n            });\r\n        }\r\n    }\r\n    SetMapConsult(method){\r\n        if (method == \"ask\"){\r\n            this.setState({MapConsult: true});\r\n            console.log(\"SetMapConsult(true!!)\");\r\n        } else if (method ==\"dont_ask\") {\r\n            console.log(\"SetMapConsult(false)!!)\");\r\n            this.setState({MapConsult:false });\r\n    }\r\n    }\r\n    SetBigCircleIndex(index) {\r\n        this.setState({\r\n            BigCircleIndex: index\r\n        });\r\n    }\r\n    render() {\r\n        var HighlightConceptTextIndex = this.state.HoverVideoIndex == null ? [] : this.props.data.VideoSequence_ConceptInfo[this.state.HoverConceptIndex][this.state.HoverVideoIndex];\r\n        // console.log(\"windowheight\",window.innerHeight);\r\n        return (\r\n            <div style={styles.container}>\r\n                {/* {this.props.data.search_info.key} */}\r\n                {/* <div style = {styles.LeftField} > */}\r\n                <div width={window.innerWidth - 50} height={window.innerHeight - 100}>\r\n                    <Typography variant=\"headline\" component=\"h5\">\r\n                        {this.props.data.search_info.key}\r\n                    </Typography>\r\n                    <Legend Path_ConceptIndex={this.state.Path_ConceptIndex}\r\n                        BigCircleIndex={this.state.BigCircleIndex == null ? this.state.Path_ConceptIndex : this.state.BigCircleIndex}\r\n                        ConceptRange={ConceptRange}\r\n                        data={this.props.data.concept_relationship.nodes}\r\n                    />\r\n                    {/* <WordCloud videos_info={this.props.data.videos_info} HoverVideoIndex={this.state.HoverVideoIndex}/> */}\r\n                    <Graph data={this.props.data}\r\n                        HoverConceptIndex={this.state.HoverConceptIndex}\r\n                        SetHoverConceptIndex={this.SetHoverConceptIndex}\r\n                        ClearHoverConcept = {this.ClearHoverConcept} \r\n                        OpenDrawer={(text) => props.OpenDrawer(text)}\r\n                        width={window.innerWidth - 50} height={window.innerHeight - 100}\r\n                        SentRange={SentRange}\r\n                        ConceptRange={ConceptRange}\r\n                        SetHoverVideoIndex={this.SetHoverVideoIndex}\r\n                        HoverVideoIndex={this.state.HoverVideoIndex}\r\n                        Path_ConceptIndex={this.state.Path_ConceptIndex}\r\n                        SetPath_ConceptIndex={this.SetPath_ConceptIndex}\r\n                        BigCircleIndex={this.state.BigCircleIndex}\r\n                        SetHightlightWord={this.SetHightlightWord}\r\n                    />\r\n                </div>\r\n                <div width={window.innerWidth - 50} height={window.innerHeight - 100}>\r\n                    <Editor content = {this.state.content}\r\n                            SetMapConsult = {this.SetMapConsult}\r\n                    />\r\n                    \r\n                </div>\r\n                <ConceptDetailPanel\r\n                    data={this.props.data}\r\n                    Path_ConceptIndex={this.state.Path_ConceptIndex}\r\n                    SetPath_ConceptIndex={this.SetPath_ConceptIndex}\r\n                    SentRange={SentRange}\r\n                    SetHoverVideoIndex={this.SetHoverVideoIndex}\r\n                    SetHightlightWord={this.SetHightlightWord}\r\n                    HoverVideoIndex={this.state.HoverVideoIndex}\r\n                    HighlightConceptTextIndex={HighlightConceptTextIndex}\r\n                    BigCircleIndex={this.state.BigCircleIndex}\r\n                    SetBigCircleIndex={this.SetBigCircleIndex}\r\n                />\r\n                <MapApprovPanel \r\n                    data={this.props.data}\r\n                    MapConsult={this.state.MapConsult}\r\n                    SetMapConsult={this.SetMapConsult}\r\n                    SetVisJson = {this.props.SetVisJson}\r\n                    SetNewJson = {this.props.SetNewJson}   \r\n                    NewJson = {this.props.NewJson}\r\n                />\r\n                <Notification open={this.state.Path_ConceptIndex == null} />\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\nexport default LearningMapFrame;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst styles = {\n  root: {\n    // flexGrow: 1,\n    padding: 10,\n    margin:20,\n  },\n};\n\nfunction LinearIndeterminate(props) {\n  const { classes } = props;\n  return (\n    <div style={styles.root}>\n      <LinearProgress variant=\"determinate\" value={props.value} />\n      <br />\n      {/* <LinearProgress color=\"secondary\" /> */}\n    </div>\n  );\n}\n\nLinearIndeterminate.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(LinearIndeterminate);","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Input from '@material-ui/core/Input';\r\nimport Search from '@material-ui/icons/Search';\r\nimport Button from '@material-ui/core/Button';\r\nimport LinearIndeterminate from './LinearIndeterminate';\r\n\r\nvar progressValue = 10;\r\n\r\nconst styles = ({\r\n    root: {\r\n    //   height: 100,\r\n      padding: 5, //theme.spacing.unit * 2,\r\n      margin : 0,//theme.spacing.unit * 4,\r\n      // paddingTop: theme.spacing.unit * 2,\r\n      // paddingBottom: theme.spacing.unit * 2,\r\n      \r\n    },\r\n    container: {\r\n        // justifyContent: 'center',\r\n    //   display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    input: {\r\n      margin: 10,//theme.spacing.unit,\r\n    },\r\n    buttonContainer:{\r\n        marginLeft:\"auto\",\r\n        marginRight:\"auto\"\r\n    },\r\n    button:{\r\n        fontSize:13,\r\n        padding:10,\r\n        margin:10,\r\n        left:\"46%\",\r\n    },\r\n  });\r\n\r\n  \r\nclass CreateMapField extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            secondsElapsed: 0,\r\n            minutesElapsed:0,\r\n            NotFinish_Create : true,\r\n            progressValue : 3,\r\n            message:\" Collecting data from Youtube ... \"\r\n        }\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n    componentWillMount(){\r\n        // console.log(\"comein!\",this.props.SearchKeyword);\r\n        this.interval = setInterval(() => this.secondtick(), 1000);\r\n        this.interval = setInterval(() => this.progresstick(), 9000);\r\n        var keyword = this.props.SearchKeyword;\r\n        var tmp = this;\r\n        //1.download\r\n        // fetch('http://localhost:8001/Download/'+keyword)\r\n        // .then(function (res) {return res.json();\r\n        // }).then(function(myJson) {\r\n        //     console.log(\"finish download\",myJson);\r\n        //     tmp.setState({\r\n        //         progressValue : 25,\r\n        //         message:\"( Sentiment analysis of youtube comments... )\"\r\n        //     });\r\n        //     //2.start comment anaylze\r\n        //         fetch('http://localhost:8001/Comment_Analyze/'+keyword)\r\n        //         .then(function (res2) {\r\n        //             return res2.json();\r\n        //         }).then(function(myJson2) {\r\n        //             console.log(\"finish comment anaylze\",myJson2);\r\n        //             tmp.setState({\r\n        //                 progressValue : 40,\r\n        //                 message:\"\"\r\n        //             });\r\n        //             //3.start caption anaylze\r\n        //             fetch('http://localhost:8001/Caption_Analyze/'+keyword)\r\n        //             .then(function (res3) {\r\n        //                 return res3.json();\r\n        //             }).then(function(myJson3) {\r\n        //                 console.log(\"finish caption anaylze\",myJson3);\r\n        //                 tmp.setState({\r\n        //                     progressValue : 100,\r\n        //                     NotFinish_Create : false\r\n        //                 });\r\n        //                 return myJson3;\r\n        //             });\r\n        //             return myJson2;\r\n        //         });\r\n        //     return myJson;\r\n        // });\r\n\r\n        fetch('https://appbackend-hci.herokuapp.com/Analyze/'+keyword)\r\n        .then(function (res) {\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            // console.log(\"finish analyze\",myJson);\r\n            tmp.setState({\r\n                NotFinish_Create : false,\r\n                progressValue :100\r\n            });\r\n            return myJson;\r\n        });\r\n    }\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval);\r\n      }\r\n    \r\n    secondtick() {\r\n        this.setState((prevState) => ({\r\n          secondsElapsed: prevState.secondsElapsed + 1\r\n        }));\r\n        // message\r\n        if(this.state.secondsElapsed==3*60){\r\n            this.setState((prevState) => ({\r\n                message: \" Analyzing sentiment of videos' comments... \"\r\n              }));\r\n        }\r\n        else if(this.state.secondsElapsed==4*60){\r\n            this.setState((prevState) => ({\r\n                message: \" Extracting concept words from transcript... \"\r\n              }));\r\n        }\r\n        else if(this.state.secondsElapsed==6*60){\r\n            this.setState((prevState) => ({\r\n                message: \" Analyzing concept similarity... \"\r\n              }));\r\n        }\r\n        else if(this.state.secondsElapsed==8*60){\r\n            this.setState((prevState) => ({\r\n                message: \" Analyzing prerequisite relationship... \"\r\n              }));\r\n        }\r\n        else if(this.state.secondsElapsed==10*60){\r\n            this.setState((prevState) => ({\r\n                message: \" Generating Learning map ... \"\r\n              }));\r\n        }\r\n      }\r\n      progresstick() {\r\n        if(this.state.progressValue < 10){\r\n            this.setState((prevState) => ({\r\n                progressValue: prevState.progressValue + 5\r\n              }));\r\n        }\r\n        else if(this.state.progressValue < 96){\r\n            this.setState((prevState) => ({\r\n                progressValue: prevState.progressValue + 1\r\n              }));\r\n        }\r\n      }\r\n\r\n    handleClick(){\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/GetJson/')\r\n        .then(function (res) {\r\n        //    console.log(res.json());\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            // console.log(myJson);\r\n            tmp.props.SetProgress(3,myJson);\r\n            return myJson;\r\n          });\r\n          \r\n    }\r\n    render() {\r\n        // console.log(this.state.secondsElapsed/60,\" minutes\");\r\n        return (\r\n            <Paper style={styles.root} elevation={1}>\r\n            <div style={styles.container} >\r\n            \r\n              <LinearIndeterminate value = {this.state.progressValue}/>\r\n              {/* <Typography variant=\"title\" component=\"h5\" align=\"center\">Creating Learning Map...</Typography> */}\r\n              <Typography variant=\"title\" component=\"h5\" align=\"center\">{this.state.progressValue+\"%\"}</Typography>\r\n              <Typography variant=\"title\" component=\"h5\" align=\"center\">{this.state.message}</Typography>\r\n              <br/>\r\n              <div style={styles.buttonContainer}>\r\n              <Button variant=\"raised\"  style = {styles.button} size = \"small\" onClick={this.handleClick} disabled={this.state.NotFinish_Create}>\r\n                    See the map\r\n              </Button>\r\n              </div>\r\n            </div>\r\n            </Paper>\r\n        );\r\n    }\r\n}\r\nexport default CreateMapField;","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { PropTypes } from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Chip from '@material-ui/core/Chip';\r\n\r\nconst styles = ({\r\n    root: {\r\n       width: 450,\r\n      },\r\n    chip: {\r\n        margin: 8,\r\n        padding: 5,\r\n        fontSize: 13\r\n      },\r\n      chip2: {\r\n        margin: 8,\r\n        padding: 5,\r\n        fontSize: 13,\r\n        color:\"blue\",\r\n      },\r\n    root2:{\r\n        width: 450,\r\n        padding: 5,\r\n        margin: 5 ,\r\n    },\r\n    DrawerName: {\r\n        flexGrow: 1,\r\n        marginLeft:20,\r\n        fontSize:20,\r\n        fontFamily:\"Cambria\",\r\n        margin: 15,\r\n    },\r\n});\r\n\r\n\r\nvar hidden_list=['automatic summarization introduction','computer graphic','computer graphics','natural language processing','sentiment analysis introduction','text preprocessing','Sentiment analysis']\r\n\r\nclass MenuDrawer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            drawer_switch:this.props.open,\r\n        }\r\n        this.TagClick = this.TagClick.bind(this);\r\n        this.TagDelete = this.TagDelete.bind(this);\r\n        this.HandleClose = this.HandleClose.bind(this);\r\n    }\r\n\r\n    TagClick(keyword){\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/GetAnalyzeResult/'+keyword)\r\n        .then(function (res) {\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            // console.log(\"myJson\",myJson.search_info);\r\n            tmp.props.SetMenuClose();\r\n            tmp.props.SetProgress(3,myJson);\r\n            return myJson;\r\n        });\r\n    }\r\n    ButtonClick(index){\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/GetJson_bitcoin/'+index)\r\n        .then(function (res) {\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            // console.log(\"myJson\",myJson.search_info);\r\n            tmp.props.SetMenuClose();\r\n            tmp.props.SetProgress(3,myJson);\r\n            return myJson;\r\n        });\r\n    }\r\n    TagDelete(keyword){\r\n        // console.log(\"tag delete\",this);\r\n        var tmp = this;\r\n        fetch('https://appbackend-hci.herokuapp.com/DeleteAnalyzeResult/'+keyword)\r\n        .then(function (res) {\r\n            return res.json();\r\n        }).then(function(myJson) {\r\n            // console.log(\"newhistory\",myJson);\r\n            tmp.props.SetSearchHistory(myJson);\r\n            return myJson;\r\n        });\r\n    }\r\n    HandleClose(){\r\n        // console.log(\"close!\");\r\n        this.props.SetMenuClose();\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.props.SearchHistory) {\r\n            var chips = this.props.SearchHistory.map( (word) => {\r\n                if (hidden_list.includes(word)){\r\n                    return null;\r\n                }\r\n                return (\r\n                <Chip\r\n                    key = {word} \r\n                    label={word} \r\n                    style={styles.chip}  \r\n                    onClick={this.TagClick.bind(this,word)} \r\n                    clickable=\"true\" \r\n                    // onDelete={this.TagDelete.bind(this,word)}\r\n                />);\r\n            });\r\n        }\r\n        \r\n        // console.log(\"opendrawer\",this.props.open,this.state.drawer_switch);\r\n        \r\n        return (\r\n            <div style={styles.root}>\r\n            <Drawer anchor=\"left\" open = {this.props.open} onClose={this.HandleClose} > \r\n                <div style={styles.root2} onKeyDown={this.HandleClose}>\r\n                <Typography variant=\"title\" color=\"inherit\" style={styles.DrawerName}>\r\n                    Search History\r\n                </Typography>\r\n                {chips}\r\n                <Chip\r\n                    key = {\"Bitcoin_Demo\"} \r\n                    label={\"Bitcoin_Demo\"} \r\n                    style={styles.chip2}  \r\n                    onClick={this.ButtonClick.bind(this,0)} \r\n                    clickable=\"true\" \r\n                    // onDelete={this.TagDelete.bind(this,word)}\r\n                />\r\n                <Chip\r\n                    key = {\"Bitcoin_mining_Demo\"} \r\n                    label={\"Bitcoin_mining_Demo\"} \r\n                    style={styles.chip2}  \r\n                    onClick={this.ButtonClick.bind(this,1)} \r\n                    clickable=\"true\" \r\n                    // onDelete={this.TagDelete.bind(this,word)}\r\n                />\r\n                <Chip\r\n                    key = {\"NLP_intro_Demo\"} \r\n                    label={\"NLP_intro_Demo\"} \r\n                    style={styles.chip2}  \r\n                    onClick={this.ButtonClick.bind(this,2)} \r\n                    clickable=\"true\" \r\n                    // onDelete={this.TagDelete.bind(this,word)}\r\n                />\r\n                <Chip\r\n                    key = {\"NLP_Demo\"} \r\n                    label={\"NLP_Demo\"} \r\n                    style={styles.chip2}  \r\n                    onClick={this.ButtonClick.bind(this,3)} \r\n                    clickable=\"true\" \r\n                    // onDelete={this.TagDelete.bind(this,word)}\r\n                />\r\n                </div>\r\n            </Drawer>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}\r\nexport default MenuDrawer;","import React , { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport HighlightModeSelector from './HighlightModeSelector';\r\nimport Video_info from './newdirected/Video_info';\r\nimport jsondata from './graphFile.json';\r\nimport BarField from './components/BarField';\r\nimport SearchField from './components/SearchField';\r\nimport LearningMapFrame from './components/LearningMapFrame';\r\nimport CreatingField from './components/CreatingField';\r\nimport MenuDrawer from './components/MenuDrawer';\r\nimport { EditorState } from 'draft-js';\r\nimport Editor from './components/Editor'\r\nimport { HashRouter } from \"react-router-dom\";\r\n//import 'react-draft-wysiwyg.css';\r\n\r\n\r\n\r\n\r\n\r\n/*** * 獲取當前瀏覽器類型 */ \r\nfunction myBrowser() { \r\n  var userAgent = navigator.userAgent; //取得瀏覽器的userAgent字符串 \r\n  \r\n  var isOpera = userAgent.indexOf(\"Opera\") > -1; \r\n  if (isOpera) { //判斷是否Opera瀏覽器 \r\n  return \"Opera\"; }\r\n  \r\n  if (userAgent.indexOf(\"Firefox\") > -1) { //判斷是否Firefox瀏覽器 \r\n  return \"FF\"; }\r\n  if (userAgent.indexOf(\"Chrome\") > -1){ return \"Chrome\"; }\r\n  if (userAgent.indexOf(\"Safari\") > -1) { //判斷是否Safari瀏覽器\r\n  return \"Safari\"; }\r\n  if (userAgent.indexOf(\"compatible\") > -1 && userAgent.indexOf(\"MSIE\") > -1 && !isOpera) { //判斷是否IE瀏覽器\r\n  return \"IE\"; }\r\n  }\r\nfunction beforunload(event) { event = event ? event : (window.event ? window.event : null); \r\n  var myIE = myBrowser(); \r\n  if (myIE==\"IE\") { // IE \r\n  var cy = event.clientY || event.target.event.clientY;\r\n  var ak = event.altKey || event.target.event.altKey; \r\n  if (cy < 0 || ak) { \r\n  return \"確定要離開本頁面嗎？\"; }\r\n  } \r\n  else {\r\n  // Firefox、Chrome\r\n  var nodeName = event.currentTarget.document.activeElement.nodeName; \r\n  if (nodeName!=\"A\") { return \"確定要離開本頁面嗎？\"; } } } \r\n\r\n    \r\n\r\n\r\n\r\nclass App extends React.Component {\r\n  \r\n  constructor(props) {\r\n    console.log(\"index .js is been read !!!\");\r\n    super(props);\r\n    this.state = {\r\n      MenuOpened : false,\r\n      drawer:false,\r\n      selectedVid:null,\r\n      Progress:1,\r\n      SearchHistory:null,\r\n      VisJson:null,\r\n      SearchKeyword:null,\r\n      NewJson:null,\r\n  };\r\n    this.SetProgress = this.SetProgress.bind(this);\r\n    this.SetMenuOpen = this.SetMenuOpen.bind(this);\r\n    this.SetMenuClose = this.SetMenuClose.bind(this);\r\n    this.SetSearchHistory = this.SetSearchHistory.bind(this);\r\n    this.SetSearchKeyword = this.SetSearchKeyword.bind(this);\r\n    this.OpenDrawer = this.OpenDrawer.bind(this);\r\n    this.CloseDrawer = this.CloseDrawer.bind(this);\r\n    this.SetVisJson = this.CloseDrawer.bind(this);\r\n    this.SetNewJson = this.SetNewJson.bind(this);\r\n  }\r\n  SetVisJson(json){\r\n    this.setState({VisJson : json});\r\n  }\r\n  SetNewJson(json){\r\n    this.setState({NewJson : json});\r\n  }\r\n\r\n  SetProgress(progress,json){\r\n    console.log(\"this.state.NewJson == \", this.state.NewJson);\r\n    console.log(\"this.state.VisJson == \", this.state.VisJson);\r\n    console.log(\"json == \", json);\r\n    // console.log(\"p,k\",progress,json);\r\n    if(json==undefined){\r\n      this.setState({Progress:progress});\r\n      console.log(\" json == undefined!!\");\r\n    }\r\n    else{\r\n      console.log(\"enter else!!\")\r\n      this.setState(\r\n        {\r\n          Progress: progress,\r\n          VisJson : json,\r\n        }\r\n      );\r\n      this.setState({NewJson:json});\r\n    console.log(\"this.state.NewJson == \", this.state.NewJson);\r\n    console.log(\"this.state.VisJson == \", this.state.VisJson);\r\n    }\r\n  }\r\n  SetMenuOpen(){\r\n    this.setState({\r\n      MenuOpened: true,\r\n    });\r\n  }\r\n  SetMenuClose(){\r\n    this.setState({\r\n      MenuOpened: false,\r\n    });\r\n  }\r\n\r\n\r\n  SetSearchHistory(v){\r\n    this.setState({SearchHistory:v});\r\n  }\r\n\r\n  SetSearchKeyword(w){\r\n    this.setState({SearchKeyword:w});\r\n  }\r\n  OpenDrawer(vid,e){\r\n    // console.log(\"here\",vid,e,jsondata.videos_info[vid].transcript);\r\n    this.setState(\r\n      {\r\n        drawer:true,\r\n        selectedVid:vid\r\n      });\r\n  }\r\n  CloseDrawer(){\r\n    this.setState({drawer:false});\r\n  }\r\n\r\n  render() {\r\n    window.onbeforeunload = function(event) { \r\n      return beforunload(event);\r\n      }; \r\n    if(this.state.Progress==1){\r\n      return (       \r\n        <div>\r\n          <MuiThemeProvider>\r\n              <BarField \r\n                SetProgress = {this.SetProgress} \r\n                SetMenuOpen = {this.SetMenuOpen} \r\n                SetSearchHistory={this.SetSearchHistory}\r\n                />\r\n              <MenuDrawer  \r\n                open = {this.state.MenuOpened} \r\n                SetProgress = {this.SetProgress}  \r\n                SearchHistory={this.state.SearchHistory} \r\n                SetSearchHistory={this.SetSearchHistory} \r\n                SetMenuClose={this.SetMenuClose}\r\n                />\r\n              <SearchField SetProgress = {this.SetProgress} SearchHistory={this.state.SearchHistory} SetSearchHistory={this.SetSearchHistory} SetSearchKeyword={this.SetSearchKeyword} Set_NotFinishCreate={this.Set_NotFinishCreate}/>   \r\n          </MuiThemeProvider>\r\n        </div>\r\n      \r\n      );\r\n    }else if(this.state.Progress==2){\r\n      return ( \r\n            \r\n        <div>\r\n          <MuiThemeProvider>\r\n          <BarField \r\n            SetProgress = {this.SetProgress} \r\n            SetMenuOpen = {this.SetMenuOpen} \r\n            SetSearchHistory={this.SetSearchHistory}\r\n          />\r\n          <CreatingField SetProgress = {this.SetProgress} SearchKeyword={this.state.SearchKeyword} />\r\n          </MuiThemeProvider>\r\n        </div>\r\n      );\r\n    }else if(this.state.Progress==3){\r\n      return(\r\n        <div style={{userSelect: \"none\"}}>\r\n          <MuiThemeProvider>\r\n          <BarField \r\n            SetProgress = {this.SetProgress} \r\n            SetMenuOpen = {this.SetMenuOpen} \r\n            SetSearchHistory={this.SetSearchHistory}\r\n          />\r\n          <LearningMapFrame data={this.state.VisJson} \r\n                            OpenDrawer={(text) =>this.OpenDrawer(text)}\r\n                            SetVisJson = {this.SetVisJson}\r\n                            SetNewJson = {this.SetNewJson}\r\n                            NewJson = {this.state.NewJson}\r\n          />\r\n          <Dialog\r\n            fullScreen\r\n            open={this.state.drawer}\r\n            onClose={this.CloseDrawer}\r\n          >\r\n          <Video_info vid = {this.state.selectedVid} videos_info = {this.state.VisJson.videos_info} CloseDrawer={this.CloseDrawer} />\r\n          </Dialog>\r\n          </MuiThemeProvider>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\n\r\nReactDOM.render(\r\n  <HashRouter basename={process.env.PUBLIC_URL}>\r\n        <App />\r\n  </HashRouter>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}